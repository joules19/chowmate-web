(()=>{var e={};e.id=427,e.ids=[427],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},94823:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(13624),s(24609),s(8937),s(12523);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13624)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24609)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8937)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/dashboard/page.tsx"],m="/admin/dashboard/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9998:(e,t,s)=>{Promise.resolve().then(s.bind(s,41254))},41254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(10326),r=s(20108);let i=new(s(93911)).T,l={stats:e=>["dashboard","stats",e],revenue:e=>["dashboard","revenue",e],orderStatus:e=>["dashboard","order-status",e],activities:e=>["dashboard","activities",e],userActivities:(e,t)=>["dashboard","user-activities",e,t],entityActivities:(e,t,s)=>["dashboard","entity-activities",e,t,s]};var n=s(73088),d=s(58927),o=s(53421),c=s(68230);function m({filters:e}){let{data:t,isLoading:s,error:m,refetch:u}=(0,r.a)({queryKey:l.stats(e),queryFn:()=>i.getDashboardStats(e),staleTime:3e5,refetchInterval:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)});if(s)return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4 sm:p-6 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-24"}),a.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"})]}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]},t))});if(m)return a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-card p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-red-600",children:["Failed to load dashboard statistics: ",m.message]}),a.jsx("button",{onClick:()=>u(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})});if(!t)return a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-card p-4",children:a.jsx("p",{className:"text-yellow-600",children:"No dashboard data available"})});let x=[{name:"Total Customers",value:t.totalCustomers.toLocaleString(),icon:n.Z,color:"bg-blue-500",change:"+12%",ariaLabel:`Total customers: ${t.totalCustomers.toLocaleString()}, increased by 12% from last month`},{name:"Total Vendors",value:t.totalVendors.toLocaleString(),icon:d.Z,color:"bg-green-500",change:"+8%",badge:t.pendingVendors>0?`${t.pendingVendors} pending`:void 0,ariaLabel:`Total vendors: ${t.totalVendors.toLocaleString()}, increased by 8% from last month${t.pendingVendors>0?`, ${t.pendingVendors} pending approval`:""}`},{name:"Total Riders",value:t.totalRiders.toLocaleString(),icon:c.Z,color:"bg-purple-500",change:"+15%",ariaLabel:`Total riders: ${t.totalRiders.toLocaleString()}, increased by 15% from last month`},{name:"Total Orders",value:t.totalOrders.toLocaleString(),icon:o.Z,color:"bg-orange-500",change:`+${t.growthRate}%`,badge:t.activeOrders>0?`${t.activeOrders} active`:void 0,ariaLabel:`Total orders: ${t.totalOrders.toLocaleString()}, increased by ${t.growthRate}% from last month${t.activeOrders>0?`, ${t.activeOrders} currently active`:""}`}];return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",role:"region","aria-label":"Dashboard statistics overview",children:x.map(e=>{let t=e.icon;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 transition-all duration-200 hover:shadow-md focus-within:ring-2 focus-within:ring-blue-500",role:"article","aria-label":e.ariaLabel,tabIndex:0,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1 uppercase tracking-wider",children:e.name}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e.value}),e.badge&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-2",role:"status","aria-label":`${e.badge} requiring attention`,children:e.badge})]}),a.jsx("div",{className:`${e.color} p-2.5 sm:p-3 rounded-lg flex-shrink-0 ml-3`,role:"img","aria-label":`${e.name} icon`,children:a.jsx(t,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx("span",{className:"font-medium text-green-500",role:"status","aria-label":`Growth: ${e.change}`,children:e.change}),a.jsx("span",{className:"text-gray-500 ml-1 truncate",children:"from last month"})]})]},e.name)})})}var u=s(17577),x=s(67830);function g({filters:e}){var t;let[s,n]=(0,u.useState)("7d"),{data:d,isLoading:o,error:c,refetch:m}=(t={...e,timeRange:s},(0,r.a)({queryKey:l.revenue(t),queryFn:()=>i.getRevenueData(t),staleTime:3e5,refetchInterval:9e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}));if(o)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-6 w-40"}),a.jsx("div",{className:"h-64 sm:h-80 bg-gray-200 rounded"})]})});if(c)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-red-600",children:["Failed to load revenue data: ",c.message]}),a.jsx("button",{onClick:()=>m(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});if(!d||0===d.length)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:a.jsx("p",{className:"text-yellow-600",children:"No revenue data available for the selected period"})})});let g=Math.max(...d.map(e=>e.revenue));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Revenue overview chart",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),(0,a.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",role:"tablist","aria-label":"Time period selection",children:[a.jsx("button",{onClick:()=>n("7d"),className:`px-3 py-1.5 text-sm rounded-md transition-colors focus:ring-2 focus:ring-blue-500 ${"7d"===s?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,role:"tab","aria-selected":"7d"===s,"aria-label":"Show 7 days data",children:"7 Days"}),a.jsx("button",{onClick:()=>n("30d"),className:`px-3 py-1.5 text-sm rounded-md transition-colors focus:ring-2 focus:ring-blue-500 ${"30d"===s?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,role:"tab","aria-selected":"30d"===s,"aria-label":"Show 30 days data",children:"30 Days"})]})]}),a.jsx("div",{className:"h-64 sm:h-80",role:"img","aria-label":`Revenue chart showing ${d.length} data points`,children:a.jsx("div",{className:"flex items-end justify-between h-full space-x-1 sm:space-x-2",children:d.map((e,t)=>{let s=g>0?e.revenue/g*100:0;return(0,a.jsxs)("div",{className:"flex flex-col items-center flex-1 group",children:[a.jsx("div",{className:"w-full bg-blue-500 rounded-t-sm transition-all duration-300 hover:bg-blue-600 group-focus-within:ring-2 group-focus-within:ring-blue-500",style:{height:`${s}%`,minHeight:s>0?"20px":"0px"},title:`${e.day}: ${(0,x.x)(e.revenue)}`,role:"img","aria-label":`${e.day}: ${(0,x.x)(e.revenue)}`,tabIndex:0}),a.jsx("span",{className:"text-xs text-gray-500 mt-2 truncate max-w-full",children:e.day})]},t)})})}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["Total: ",(0,x.x)(d.reduce((e,t)=>e+t.revenue,0))]}),a.jsx("span",{className:"text-green-600 font-medium",role:"status","aria-label":"Revenue trend",children:"7d"===s?"Last 7 days":"Last 30 days"})]})]})}function h({filters:e}){let{data:t,isLoading:s,error:n,refetch:d}=(0,r.a)({queryKey:l.orderStatus(e),queryFn:()=>i.getOrderStatusData(e),staleTime:3e5,refetchInterval:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)});if(s)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-6 w-48"}),a.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})]},t))})]})});if(n)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-red-600",children:["Failed to load order status data: ",n.message]}),a.jsx("button",{onClick:()=>d(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});if(!t||0===t.length)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:a.jsx("p",{className:"text-yellow-600",children:"No order status data available"})})});let o=t.reduce((e,t)=>e+t.count,0);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Order status distribution",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Status Distribution"}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:t.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",role:"group","aria-label":`${e.status}: ${e.count} orders, ${e.percentage}%`,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-shrink-0",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${e.color} flex-shrink-0`,role:"img","aria-label":`${e.status} indicator`}),a.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-1 w-full sm:w-32 bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`${e.percentage}% of orders`,children:a.jsx("div",{className:`h-2 rounded-full ${e.color} transition-all duration-300`,style:{width:`${e.percentage}%`}})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 w-12 sm:w-16 text-right flex-shrink-0",children:e.count.toLocaleString()}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 w-8 sm:w-10 text-right flex-shrink-0",children:[e.percentage,"%"]})]})]},t))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),a.jsx("span",{className:"text-lg font-bold text-gray-900",role:"status","aria-label":`Total orders: ${o.toLocaleString()}`,children:o.toLocaleString()})]})})]})}var p=s(86421),b=s(96229),y=s(49221),v=s(1762),j=s(72591);let f={UserPlusIcon:"\uD83D\uDC64",CheckCircleIcon:"✅",XCircleIcon:"❌",ShoppingBagIcon:"\uD83D\uDECD️",TruckIcon:"\uD83D\uDEB2",XMarkIcon:"❌",UserIcon:"\uD83D\uDC64",CreditCardIcon:"\uD83D\uDCB3",ExclamationTriangleIcon:"⚠️",InformationCircleIcon:"ℹ️"};function N({isOpen:e,onClose:t,type:s,userId:n,userName:d,entityType:o,entityId:c,entityName:m}){let[x,g]=(0,u.useState)(20),h=function(e,t=10){return(0,r.a)({queryKey:l.userActivities(e,t),queryFn:()=>i.getUserActivities(e,t),staleTime:3e5,enabled:!!e,retry:2})}(n||"",x),b=function(e,t,s=10){return(0,r.a)({queryKey:l.entityActivities(e,t,s),queryFn:()=>i.getEntityActivities(e,t,s),staleTime:3e5,enabled:!!(e&&t),retry:2})}(o||"",c||"",x),{data:N,isLoading:w,error:D}="user"===s?h:b,$="user"===s?`Activity History - ${d||"User"}`:`Activity History - ${m||`${o} ${c}`}`;return a.jsx(y.u,{appear:!0,show:e,as:u.Fragment,children:(0,a.jsxs)(v.Vq,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(y.u.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(v.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx(v.Vq.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:$}),a.jsx("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:t,children:a.jsx(j.Z,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:w?a.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("div",{className:"animate-pulse",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]})},t))}):D?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-red-600 text-sm",children:["Failed to load activities: ",D.message]})}):N&&0!==N.length?a.jsx("div",{className:"space-y-3",children:N.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:`flex-shrink-0 ${e.iconColor} p-1`,children:a.jsx("span",{className:"text-lg",children:f[e.icon]||"ℹ️"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),a.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${"Success"===e.severity?"bg-green-100 text-green-800":"Warning"===e.severity?"bg-yellow-100 text-yellow-800":"Critical"===e.severity?"bg-red-100 text-red-800":"Error"===e.severity?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.severity})]}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-gray-400",children:[a.jsx(p.Z,{className:"h-3 w-3 mr-1"}),a.jsx("span",{children:e.timeAgo}),e.additionalData&&a.jsx("span",{className:"ml-2 text-gray-500",children:"• Additional data available"})]})]})]},e.id))}):a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:a.jsx("p",{className:"text-gray-500",children:"No activities found"})})}),N&&N.length>0&&N.length>=x&&a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{onClick:()=>g(e=>e+20),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load More Activities"})}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",onClick:t,children:"Close"})})]})})})})]})})}let w={UserPlusIcon:"\uD83D\uDC64",CheckCircleIcon:"✅",XCircleIcon:"❌",ShoppingBagIcon:"\uD83D\uDECD️",TruckIcon:"\uD83D\uDEB2",XMarkIcon:"❌",UserIcon:"\uD83D\uDC64",CreditCardIcon:"\uD83D\uDCB3",ExclamationTriangleIcon:"⚠️",InformationCircleIcon:"ℹ️"};function D({filters:e}){var t;let[s,n]=(0,u.useState)(!1),[d,o]=(0,u.useState)(null),{data:c,isLoading:m,error:x,refetch:g}=(t={...e,pageSize:10},(0,r.a)({queryKey:l.activities(t),queryFn:()=>i.getRecentActivities(t),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})),h=(e,t)=>{o({type:"user",userId:e,userName:t}),n(!0)},y=(e,t,s)=>{o({type:"entity",entityType:e,entityId:t,entityName:s}),n(!0)};if(m)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-6 w-40"}),a.jsx("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))})]})});if(x)return a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-red-600",children:["Failed to load recent activities: ",x.message]}),a.jsx("button",{onClick:()=>g(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});let v=c?.data||[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Recent activities",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 focus:ring-2 focus:ring-blue-500 rounded px-2 py-1 self-start sm:self-auto transition-colors","aria-label":"View all activities",children:"View All"})]}),0===v.length?a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded p-8 text-center",children:a.jsx("p",{className:"text-gray-500",children:"No recent activities"})}):a.jsx("div",{className:"space-y-3 sm:space-y-4",role:"list","aria-label":"Activity list",children:v.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors group",role:"listitem",children:[a.jsx("div",{className:`flex-shrink-0 ${e.iconColor} p-1`,role:"img","aria-label":`${e.type} activity`,children:a.jsx("span",{className:"text-lg",children:w[e.icon]||"ℹ️"})}),a.jsx("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900 leading-relaxed",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[a.jsx(p.Z,{className:"h-3 w-3 text-gray-400 mr-1 flex-shrink-0","aria-hidden":"true"}),a.jsx("span",{className:"text-xs text-gray-500",role:"status","aria-label":`Activity occurred ${e.timeAgo}`,children:e.timeAgo})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.userId&&e.userName&&a.jsx("button",{onClick:()=>h(e.userId,e.userName),className:"p-1 text-gray-400 hover:text-blue-600 rounded focus:ring-2 focus:ring-blue-500",title:`View ${e.userName}'s activities`,children:a.jsx(b.Z,{className:"h-4 w-4"})}),e.entityId&&e.entityType&&e.entityName&&a.jsx("button",{onClick:()=>y(e.entityType,e.entityId,e.entityName),className:"p-1 text-gray-400 hover:text-blue-600 rounded focus:ring-2 focus:ring-blue-500",title:`View ${e.entityName} audit trail`,children:a.jsx(b.Z,{className:"h-4 w-4"})})]})]})})]},e.id))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:a.jsx("button",{className:"w-full text-center text-sm text-gray-500 hover:text-gray-700 focus:ring-2 focus:ring-blue-500 rounded py-2 transition-colors","aria-label":"Load more activities",children:"Load More Activities"})})]}),d&&a.jsx(N,{isOpen:s,onClose:()=>n(!1),type:d.type,userId:d.userId,userName:d.userName,entityType:d.entityType,entityId:d.entityId,entityName:d.entityName})]})}function $(){return(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary tracking-tight",children:"Dashboard"}),a.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Overview of your platform analytics"})]})}),a.jsx(m,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx("div",{className:"order-1",children:a.jsx(g,{})}),a.jsx("div",{className:"order-2",children:a.jsx(h,{})})]}),a.jsx(D,{})]})}},47785:(e,t,s)=>{"use strict";s.d(t,{R:()=>r});var a=s(40380);class r{constructor(e){this.endpoint=e}async get(e=""){return(0,a.Nv)(()=>a.ZP.get(`${this.endpoint}${e}`))}async post(e="",t){return(0,a.Nv)(()=>a.ZP.post(`${this.endpoint}${e}`,t))}async put(e="",t){return(0,a.Nv)(()=>a.ZP.put(`${this.endpoint}${e}`,t))}async deleteRequest(e=""){return(0,a.Nv)(()=>a.ZP.delete(`${this.endpoint}${e}`))}async getAll(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(([e,s])=>{null!=s&&t.append(e,s.toString())});let s=t.toString()?`?${t}`:"";return this.get(s)}async getById(e){return this.get(`/${e}`)}async create(e){return this.post("",e)}async update(e,t){return this.put(`/${e}`,t)}async delete(e){return this.deleteRequest(`/${e}`)}async bulkAction(e,t,s){return this.post("/bulk-action",{action:e,ids:t,data:s})}}},93911:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var a=s(47785);class r extends a.R{constructor(){super("api/admin")}async getDashboardStats(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let s=`/dashboard/stats${t.toString()?`?${t}`:""}`;return this.get(s)}async getRevenueData(e){let t=new URLSearchParams;e?.timeRange&&t.append("timeRange",e.timeRange),e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let s=`/dashboard/revenue${t.toString()?`?${t}`:""}`;return this.get(s)}async getOrderStatusData(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let s=`/dashboard/order-status${t.toString()?`?${t}`:""}`;return this.get(s)}async getDashboardAnalytics(e){let t=new URLSearchParams;e?.timeRange&&t.append("timeRange",e.timeRange),e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let s=`/dashboard/analytics${t.toString()?`?${t}`:""}`;return this.get(s)}async getRecentActivities(e){let t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.severity&&t.append("severity",e.severity),e?.fromDate&&t.append("fromDate",e.fromDate),e?.toDate&&t.append("toDate",e.toDate),e?.pageNumber&&t.append("pageNumber",e.pageNumber.toString()),e?.pageSize&&t.append("pageSize",e.pageSize.toString());let s=`/activities/recent${t.toString()?`?${t}`:""}`;return this.get(s)}async getUserActivities(e,t=10){let s=`/activities/user/${e}?limit=${t}`;return this.get(s)}async getEntityActivities(e,t,s=10){let a=`/activities/entity/${e}/${t}?limit=${s}`;return this.get(a)}async exportDashboardReport(e){return this.post("/export",e||{})}}},67830:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});let a=e=>`₦${e.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`},13624:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/dashboard/page.tsx#default`)},86421:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(17577);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,260,815,762,736,152],()=>s(94823));module.exports=a})();