(()=>{var e={};e.id=921,e.ids=[921],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},40320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(21261),s(24609),s(8937),s(12523);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["vendors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21261)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/vendors/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,24609)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8937)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/vendors/page.tsx"],m="/admin/vendors/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/vendors/page",pathname:"/admin/vendors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4154:(e,t,s)=>{Promise.resolve().then(s.bind(s,73197))},73197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>et});var r,a,i=s(10326),n=s(17577);let l=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});var o=s(84625),d=s(54232),c=s(19018),m=s(38518),x=s(71684),u=s(96229),p=s(61994),h=s(72591),f=s(42502),g=s(27132);let b=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))});(function(e){e.PendingApproval="PendingApproval",e.Approved="Approved",e.UnderReview="UnderReview",e.Suspended="Suspended",e.Rejected="Rejected",e.RequiresManualReview="RequiresManualReview",e.Inactive="Inactive"})(r||(r={})),function(e){e.None="None",e.DeliveryOnly="DeliveryOnly",e.PickupOnly="PickupOnly",e.Both="Both"}(a||(a={}));var v=s(49221),y=s(1762),j=s(36902),N=s(43404),w=s(20108),k=s(44976),C=s(10119);let S=new(s(28951)).y,A={all:["vendors"],lists:()=>[...A.all,"list"],list:e=>[...A.lists(),e],details:()=>[...A.all,"detail"],detail:e=>[...A.details(),e],zones:e=>[...A.detail(e),"zones"],stats:(e,t)=>[...A.all,"stats",e,t],activities:(e,t)=>[...A.detail(e),"activities",t]};function F(){return(0,w.a)({queryKey:["availableZones"],queryFn:()=>S.getAvailableZones(),staleTime:6e5,refetchInterval:9e5,retry:2})}function q(e,t){return(0,w.a)({queryKey:A.stats(e,t),queryFn:()=>S.getVendorStats(e,t),staleTime:6e5,refetchInterval:9e5,retry:2})}var R=s(13065),V=s(24032),T=s(64755),Z=s(52170);function P({vendorId:e,isOpen:t,onClose:s}){let[r,a]=(0,n.useState)(""),[l,d]=(0,n.useState)(!0),[c,x]=(0,n.useState)(""),[u,f]=(0,n.useState)(""),[g,b]=(0,n.useState)(!1),[q,P]=(0,n.useState)(null),[D,z]=(0,n.useState)({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1}),[L,O]=(0,n.useState)({canDeliverTo:!0,customDeliveryFee:"",customDeliveryTime:""}),{data:I,isLoading:E,refetch:M}=(0,w.a)({queryKey:A.zones(e),queryFn:()=>S.getVendorZoneAssignments(e),staleTime:3e5,enabled:!!e,retry:2}),{data:B,isLoading:$}=F(),U=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.assignVendorToZone(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.zones(s.vendorId)})}})}(),W=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,zoneId:t})=>S.removeVendorFromZone(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.zones(s.vendorId)})}})}(),K=I?.map(e=>e.zoneId)||[],Q=B?.filter(e=>!K.includes(e.id)&&e.isActive)||[],H=async t=>{if(t.preventDefault(),r){b(!0);try{await U.mutateAsync({vendorId:e,request:{zoneId:r,canDeliverTo:l,customDeliveryFee:c?parseFloat(c):void 0,customDeliveryTime:u||void 0}});let t=B?.find(e=>e.id===r);Z.ZP.success(`Vendor has been successfully assigned to ${t?.zoneName||"the selected zone"}!`),a(""),d(!0),x(""),f(""),M()}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";Z.ZP.error(`Failed to assign zone: ${e}`)}finally{b(!1)}}},_=(e,t)=>{z({isOpen:!0,zoneId:e,zoneName:t,isRemoving:!1})},G=async()=>{z(e=>({...e,isRemoving:!0}));try{await W.mutateAsync({vendorId:e,zoneId:D.zoneId}),Z.ZP.success(`Vendor has been successfully unassigned from ${D.zoneName}.`),M(),z({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1})}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";Z.ZP.error(`Failed to remove zone assignment: ${e}`),z(e=>({...e,isRemoving:!1}))}},J=()=>{P(null),O({canDeliverTo:!0,customDeliveryFee:"",customDeliveryTime:""})},X=e=>{if(!e)return"Default";let t=e.split(":");if(t.length>=2){let e=parseInt(t[0]),s=parseInt(t[1]);return 0===e?`${s} min`:0===s?`${e}h`:`${e}h ${s}m`}return e};return E||$?i.jsx(v.u,{appear:!0,show:t,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:s,children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx(R.Z,{title:"Loading Zone Data",description:"Fetching zone assignments and available zones...",size:"md"})})})})]})}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(v.u,{appear:!0,show:t,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:s,children:[i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,i.jsxs)(y.Vq.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx(m.Z,{className:"h-6 w-6 text-primary-500"}),i.jsx(y.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:"Zone Assignments"})]}),i.jsx("button",{onClick:s,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:i.jsx(h.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-text-secondary mb-3",children:"Current Zone Assignments"}),I&&I.length>0?i.jsx("div",{className:"space-y-3",children:I.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-50 rounded-button border",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"font-medium text-text-primary",children:e.zoneName}),i.jsx("div",{className:`h-2 w-2 rounded-full ${e.isActive?"bg-success-500":"bg-danger-500"}`}),e.zoneDescription&&i.jsx("span",{className:"text-sm text-text-tertiary",children:e.zoneDescription})]}),q===e.id?(0,i.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`edit-deliver-${e.id}`,checked:L.canDeliverTo,onChange:e=>O(t=>({...t,canDeliverTo:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:`edit-deliver-${e.id}`,className:"ml-2 text-sm text-text-primary",children:"Can deliver"})]}),i.jsx("div",{children:i.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Custom fee",value:L.customDeliveryFee,onChange:e=>O(t=>({...t,customDeliveryFee:e.target.value})),className:"w-full text-sm border border-border-default rounded px-2 py-1 focus:ring-1 focus:ring-primary-500"})}),i.jsx("div",{children:i.jsx("input",{type:"time",value:L.customDeliveryTime,onChange:e=>O(t=>({...t,customDeliveryTime:e.target.value})),className:"w-full text-sm border border-border-default rounded px-2 py-1 focus:ring-1 focus:ring-primary-500"})})]}):(0,i.jsxs)("div",{className:"flex items-center space-x-6 mt-2 text-sm text-text-secondary",children:[i.jsx("span",{className:e.canDeliverTo?"text-success-600":"text-danger-600",children:e.canDeliverTo?"✓ Can deliver":"✗ Cannot deliver"}),e.customDeliveryFee&&(0,i.jsxs)("span",{children:["Fee: $",e.customDeliveryFee]}),(0,i.jsxs)("span",{children:["Time: ",X(e.customDeliveryTime)]}),(0,i.jsxs)("span",{className:"text-text-tertiary",children:["Assigned by ",e.assignedByName," on ",new Date(e.assignedAt).toLocaleDateString()]})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:q===e.id?(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{className:"p-1 text-success-600 hover:text-success-700 hover:bg-success-50 rounded transition-colors",title:"Save changes",children:i.jsx(p.Z,{className:"h-4 w-4"})}),i.jsx("button",{onClick:J,className:"p-1 text-danger-600 hover:text-danger-700 hover:bg-danger-50 rounded transition-colors",title:"Cancel edit",children:i.jsx(j.Z,{className:"h-4 w-4"})})]}):i.jsx(i.Fragment,{children:i.jsx("button",{onClick:()=>_(e.zoneId,e.zoneName),className:"p-1 text-danger-600 hover:text-danger-700 hover:bg-danger-50 rounded transition-colors",title:"Remove zone assignment",children:i.jsx(N.Z,{className:"h-4 w-4"})})})})]},e.id))}):(0,i.jsxs)("div",{className:"text-center py-8 text-text-tertiary",children:[i.jsx(m.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-lg font-medium",children:"No zones assigned"}),i.jsx("p",{className:"text-sm mt-1",children:"Assign zones to enable delivery services"})]})]}),Q.length>0&&i.jsx("div",{className:"border-t border-border-light pt-6",children:(0,i.jsxs)("form",{onSubmit:H,children:[i.jsx("h3",{className:"text-sm font-medium text-text-secondary mb-4",children:"Assign New Zone"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Select Zone ",i.jsx("span",{className:"text-danger-500",children:"*"})]}),(0,i.jsxs)("select",{value:r,onChange:e=>a(e.target.value),required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Choose a zone..."}),Q.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.zoneName," ",e.description&&`- ${e.description}`]},e.id))]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Custom Delivery Fee (Optional)"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary",children:"$"}),i.jsx("input",{type:"number",step:"0.01",min:"0",value:c,onChange:e=>x(e.target.value),placeholder:"0.00",className:"w-full border border-border-default rounded-input pl-8 pr-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),i.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Override default zone delivery fee"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Custom Delivery Time (Optional)"}),i.jsx("input",{type:"time",value:u,onChange:e=>f(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"}),i.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Override default zone delivery time"})]})]}),(0,i.jsxs)("div",{className:"flex items-center mb-6",children:[i.jsx("input",{type:"checkbox",id:"canDeliverTo",checked:l,onChange:e=>d(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"canDeliverTo",className:"ml-2 text-sm text-text-primary",children:"Vendor can deliver to this zone"})]}),i.jsx("div",{className:"flex justify-end",children:(0,i.jsxs)("button",{type:"submit",disabled:!r||g,className:"flex items-center space-x-2 px-6 py-2 bg-primary-500 text-white rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[g?i.jsx(T.Z,{size:"sm",color:"white"}):i.jsx(o.Z,{className:"h-4 w-4"}),i.jsx("span",{children:g?"Assigning...":"Assign Zone"})]})})]})}),0===Q.length&&I&&I.length>0&&i.jsx("div",{className:"text-center py-6 border-t border-border-light",children:i.jsx("p",{className:"text-sm text-text-tertiary",children:"All available zones have been assigned"})}),(!B||0===B.length)&&i.jsx("div",{className:"text-center py-6 border-t border-border-light",children:i.jsx("p",{className:"text-sm text-text-tertiary",children:"No delivery zones are currently available"})})]})]})})})})]})}),i.jsx(V.Z,{isOpen:D.isOpen,onClose:()=>{z({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1})},onConfirm:G,title:"Remove Zone Assignment",message:`Are you sure you want to remove the zone assignment for "${D.zoneName}"? This action cannot be undone.`,confirmText:"Remove",variant:"danger",isLoading:D.isRemoving})]})}var D=s(19381);let z=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))});var L=s(83401),O=s(37610);let I=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))});function E({vendorId:e,vendorName:t,isOpen:s,onClose:r}){let[a,l]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)("Medium"),[x,u]=(0,n.useState)(""),[p,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(""),[N,w]=(0,n.useState)([]),[F,q]=(0,n.useState)(!1),[R,V]=(0,n.useState)(""),T=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.sendInstruction(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.activities(s.vendorId)})}})}(),Z=[{id:"1",name:"Quality Standards Reminder",subject:"Food Quality Standards Reminder",message:"This is a reminder about maintaining our food quality standards. Please ensure all food items meet the required quality criteria before delivery to customers.\n\nKey points to remember:\n- Check food temperature before packaging\n- Ensure proper packaging to maintain freshness\n- Follow portion size guidelines\n- Maintain cleanliness standards\n\nThank you for your continued commitment to quality.",category:"Quality Standards",priority:"Medium"},{id:"2",name:"Safety Protocol Update",subject:"Updated Safety Protocols - Immediate Action Required",message:"We have updated our safety protocols effective immediately. Please review and implement the following changes:\n\n1. Enhanced sanitization procedures\n2. Updated food handling guidelines\n3. New personal protective equipment requirements\n\nPlease acknowledge receipt and confirm implementation within 24 hours.",category:"Safety Requirements",priority:"High"},{id:"3",name:"Performance Feedback",subject:"Performance Review and Improvement Areas",message:"Based on recent performance metrics, we would like to discuss areas for improvement:\n\n- Order preparation time\n- Customer satisfaction scores\n- Delivery accuracy\n\nWe are here to support you in achieving better results. Please let us know if you need any assistance or training.",category:"Performance Improvement",priority:"Medium"},{id:"4",name:"Account Suspension Warning",subject:"Account Status Warning - Immediate Action Required",message:"This is an urgent notice regarding your account status. We have identified issues that require immediate attention:\n\n[Specify issues here]\n\nFailure to address these issues within 48 hours may result in account suspension. Please contact support immediately.",category:"Account Management",priority:"Urgent"},{id:"5",name:"New Feature Announcement",subject:"New Platform Features Available",message:"We are excited to announce new features that will help improve your business:\n\n- Enhanced analytics dashboard\n- Improved order management tools\n- New customer communication features\n\nThese features are now available in your vendor portal. Please take some time to explore and let us know if you have any questions.",category:"Technical Support",priority:"Low"},{id:"6",name:"Policy Violation Notice",subject:"Policy Violation - Corrective Action Required",message:"We have identified a violation of our platform policies:\n\n[Specify violation details]\n\nThis notice serves as a formal warning. Please review our terms of service and ensure compliance to avoid account restrictions.\n\nRequired actions:\n1. [Action 1]\n2. [Action 2]\n3. [Action 3]\n\nDeadline: [Date]",category:"Compliance Issue",priority:"High"}],P=e=>{let t=Z.find(t=>t.id===e);t&&(l(t.subject),d(t.message),u(t.category),m(t.priority),V(e))},E=async t=>{if(t.preventDefault(),a.trim()&&o.trim()){q(!0);try{await T.mutateAsync({vendorId:e,request:{subject:a.trim(),message:o.trim(),priority:c,category:x||void 0,requireAcknowledgment:p,scheduledDelivery:g||void 0,attachments:N.length>0?N:void 0}}),l(""),d(""),m("Medium"),u(""),f(!1),j(""),w([]),V(""),r()}catch(e){console.error("Failed to send instruction:",e)}finally{q(!1)}}},M=e=>{w(N.filter((t,s)=>s!==e))};return i.jsx(v.u,{appear:!0,show:s,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:r,children:[i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsx(y.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:(0,i.jsxs)("form",{onSubmit:E,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx(b,{className:"h-6 w-6 text-primary-500"}),i.jsx(y.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:"Send Instruction"})]}),i.jsx("button",{type:"button",onClick:r,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:i.jsx(h.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,i.jsxs)("div",{className:"p-6 max-h-96 overflow-y-auto",children:[i.jsx("div",{className:"bg-surface-50 rounded-card p-4 mb-6",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-primary-700",children:t.charAt(0)})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"font-medium text-text-primary",children:["Sending to: ",t]}),(0,i.jsxs)("div",{className:"text-sm text-text-tertiary",children:["Vendor ID: ",e]})]})]})}),(0,i.jsxs)("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Use Template (Optional)"}),(0,i.jsxs)("select",{value:R,onChange:e=>P(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Choose a template..."}),Z.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," (",e.priority," Priority)"]},e.id))]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Subject ",i.jsx("span",{className:"text-danger-500",children:"*"})]}),i.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Enter subject...",required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Priority"}),(0,i.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Urgent",children:"Urgent"})]})]})]}),(0,i.jsxs)("div",{className:`flex items-center space-x-2 p-3 rounded-card border ${(e=>{switch(e){case"Urgent":return"border-danger-200 bg-danger-50 text-danger-800";case"High":return"border-warning-200 bg-warning-50 text-warning-800";case"Medium":return"border-primary-200 bg-primary-50 text-primary-800";case"Low":return"border-success-200 bg-success-50 text-success-800";default:return"border-border-light bg-surface-50 text-text-primary"}})(c)}`,children:[(e=>{switch(e){case"Urgent":return i.jsx(D.Z,{className:"h-5 w-5 text-danger-500"});case"High":return i.jsx(D.Z,{className:"h-5 w-5 text-warning-500"});case"Medium":return i.jsx(z,{className:"h-5 w-5 text-primary-500"});case"Low":return i.jsx(L.Z,{className:"h-5 w-5 text-success-500"});default:return i.jsx(z,{className:"h-5 w-5 text-text-tertiary"})}})(c),(0,i.jsxs)("span",{className:"text-sm font-medium",children:["This instruction will be marked as ",c," priority"]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Category"}),(0,i.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Select category..."}),["General Information","Policy Update","Quality Standards","Safety Requirements","Technical Support","Account Management","Compliance Issue","Performance Improvement","Training Required","Marketing Guidelines","Menu Management","Order Management","Customer Service","Payment Issues","Other"].map(e=>i.jsx("option",{value:e,children:e},e))]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Message ",i.jsx("span",{className:"text-danger-500",children:"*"})]}),i.jsx("textarea",{value:o,onChange:e=>d(e.target.value),placeholder:"Enter your instruction message...",required:!0,rows:6,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary resize-none"}),(0,i.jsxs)("p",{className:"text-xs text-text-tertiary mt-1",children:["Characters: ",o.length]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Scheduled Delivery (Optional)"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(O.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary"}),i.jsx("input",{type:"datetime-local",value:g,onChange:e=>j(e.target.value),min:new Date().toISOString().slice(0,16),className:"w-full border border-border-default rounded-input pl-10 pr-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),i.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Leave empty to send immediately"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Attachments (Optional)"}),N.length>0&&i.jsx("div",{className:"space-y-2 mb-2",children:N.map((e,t)=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-surface-50 rounded border",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(I,{className:"h-4 w-4 text-text-tertiary"}),i.jsx("span",{className:"text-sm text-text-primary truncate",children:e})]}),i.jsx("button",{type:"button",onClick:()=>M(t),className:"text-danger-600 hover:text-danger-700 text-sm",children:"Remove"})]},t))}),(0,i.jsxs)("button",{type:"button",onClick:()=>{let e=prompt("Enter attachment URL:");e&&w([...N,e])},className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700 transition-colors",children:[i.jsx(I,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Attachment"})]})]}),i.jsx("div",{className:"space-y-3",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"requireAcknowledgment",checked:p,onChange:e=>f(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"requireAcknowledgment",className:"ml-2 text-sm text-text-primary",children:"Require vendor acknowledgment"})]})})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border-light bg-surface-50",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-surface-0 border border-border-default rounded-button hover:bg-surface-100 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:F||!a.trim()||!o.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-button focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${"Urgent"===c?"bg-danger-500 hover:bg-danger-600 focus:ring-danger-500":"High"===c?"bg-warning-500 hover:bg-warning-600 focus:ring-warning-500":"bg-primary-500 hover:bg-primary-600 focus:ring-primary-500"}`,children:F?"Sending...":g?"Schedule Instruction":"Send Instruction"})]})]})})})})})]})})}function M({isOpen:e,onClose:t,onConfirm:s,action:r,vendor:a}){let[l,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(!0),[m,x]=(0,n.useState)(!1),[u,b]=(0,n.useState)(""),[N,w]=(0,n.useState)(""),[k,C]=(0,n.useState)(!0),[S,A]=(0,n.useState)(!0),[q,R]=(0,n.useState)(!1),{data:V,isLoading:T}=F(),P=async e=>{let t;switch(e.preventDefault(),R(!0),r){case"approve":t={reason:l.trim()||void 0,notifyVendor:d,autoAssignZone:m,zoneId:u||void 0,sendWelcomePackage:S};break;case"reject":t={reason:l.trim()||"No reason provided",notifyVendor:d,allowReapplication:k};break;case"suspend":t={reason:l.trim()||"No reason provided",notifyVendor:d,suspensionEndDate:N||void 0,suspendOrders:!0,severity:"Major"};break;case"activate":t={reason:l.trim()||void 0,notifyVendor:d,restoreZoneAssignments:!0};break;default:throw Error(`Unknown action: ${r}`)}try{await s(t);let e={approve:`${a.businessName} has been approved successfully and assigned to the selected zone!`,reject:`${a.businessName} application has been rejected.`,suspend:`${a.businessName} has been temporarily suspended.`,activate:`${a.businessName} has been reactivated and can now accept orders.`};Z.ZP.success(e[r]),o(""),c(!0),x(!1),b(""),w(""),C(!0),A(!0)}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";Z.ZP.error(`${{approve:"Failed to approve vendor",reject:"Failed to reject vendor",suspend:"Failed to suspend vendor",activate:"Failed to activate vendor"}[r]}: ${e}`)}finally{R(!1)}},z=(()=>{switch(r){case"approve":return{title:"Approve Vendor",description:"This will approve the vendor and assign them to a delivery zone. They will be able to start accepting orders.",icon:i.jsx(p.Z,{className:"h-6 w-6 text-success-500"}),color:"success",confirmText:"Approve Vendor",requiresReason:!1};case"reject":return{title:"Reject Vendor",description:"This will reject the vendor application. Please provide a reason.",icon:i.jsx(j.Z,{className:"h-6 w-6 text-danger-500"}),color:"danger",confirmText:"Reject Vendor",requiresReason:!0};case"suspend":return{title:"Suspend Vendor",description:"This will temporarily suspend the vendor. They will not be able to accept new orders.",icon:i.jsx(f.Z,{className:"h-6 w-6 text-warning-500"}),color:"warning",confirmText:"Suspend Vendor",requiresReason:!0};case"activate":return{title:"Activate Vendor",description:"This will reactivate the vendor and allow them to accept orders again.",icon:i.jsx(g.Z,{className:"h-6 w-6 text-success-500"}),color:"success",confirmText:"Activate Vendor",requiresReason:!1}}})();return i.jsx(v.u,{appear:!0,show:e,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:t,children:[i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsx(y.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:(0,i.jsxs)("form",{onSubmit:P,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[z.icon,i.jsx(y.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:z.title})]}),i.jsx("button",{type:"button",onClick:t,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:i.jsx(h.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,i.jsxs)("div",{className:"p-6",children:[i.jsx("div",{className:"bg-surface-50 rounded-card p-4 mb-6",children:(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center",children:a.logoUrl?i.jsx("img",{src:a.logoUrl,alt:a.businessName,className:"h-12 w-12 rounded-full object-cover"}):i.jsx("span",{className:"text-sm font-medium text-primary-700",children:a.businessName?.charAt(0)||a.fullName.charAt(0)})}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium text-text-primary",children:a.businessName}),i.jsx("div",{className:"text-sm text-text-secondary",children:a.fullName}),i.jsx("div",{className:"text-sm text-text-tertiary",children:a.email})]})]})}),(0,i.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-card mb-6",children:[i.jsx(D.Z,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Confirm Action"}),i.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:z.description})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Reason ",z.requiresReason&&i.jsx("span",{className:"text-danger-500",children:"*"})]}),i.jsx("textarea",{value:l,onChange:e=>o(e.target.value),placeholder:`Enter reason for ${r}...`,required:z.requiresReason,rows:3,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary resize-none"})]}),"suspend"===r&&(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Suspension End Date (Optional)"}),i.jsx("input",{type:"date",value:N,onChange:e=>w(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"}),i.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Leave empty for indefinite suspension"})]}),"approve"===r&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Assign to Zone ",i.jsx("span",{className:"text-danger-500",children:"*"})]}),T?i.jsx("div",{className:"w-full border border-border-default rounded-input px-3 py-2 bg-surface-50 text-text-tertiary",children:"Loading zones..."}):V&&V.filter(e=>e.isActive).length>0?(0,i.jsxs)("select",{value:u,onChange:e=>b(e.target.value),required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Select a delivery zone..."}),V.filter(e=>e.isActive).map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.zoneName,e.description&&` - ${e.description}`]},e.id))]}):i.jsx("div",{className:"w-full border border-border-default rounded-input px-3 py-2 bg-danger-50 text-danger-700 border-danger-300",children:"No active delivery zones available"}),i.jsx("p",{className:"text-xs text-text-tertiary mt-1",children:"Zone assignment is required for vendor approval"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"sendWelcomePackage",checked:S,onChange:e=>A(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"sendWelcomePackage",className:"ml-2 text-sm text-text-primary",children:"Send welcome package"})]})]}),"reject"===r&&(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"allowReapplication",checked:k,onChange:e=>C(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"allowReapplication",className:"ml-2 text-sm text-text-primary",children:"Allow vendor to reapply"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"notifyVendor",checked:d,onChange:e=>c(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"notifyVendor",className:"ml-2 text-sm text-text-primary",children:"Send notification to vendor"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border-light bg-surface-50",children:[i.jsx("button",{type:"button",onClick:t,disabled:q,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-surface-0 border border-border-default rounded-button hover:bg-surface-100 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:q||z.requiresReason&&!l.trim()||"approve"===r&&(!u||V&&0===V.filter(e=>e.isActive).length),className:`px-4 py-2 text-sm font-medium text-white rounded-button focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${"success"===z.color?"bg-success-500 hover:bg-success-600 focus:ring-success-500":"danger"===z.color?"bg-danger-500 hover:bg-danger-600 focus:ring-danger-500":"bg-warning-500 hover:bg-warning-600 focus:ring-warning-500"}`,children:q?(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Processing..."})]}):z.confirmText})]})]})})})})})]})})}var B=s(86421),$=s(58927),U=s(48258),W=s(56818);function K({vendorId:e,isOpen:t,onClose:s}){let{data:a,isLoading:l,error:o}=(0,w.a)({queryKey:A.detail(e),queryFn:()=>S.getVendorById(e),staleTime:3e5,enabled:!!e,retry:2});return l?i.jsx(v.u,{appear:!0,show:t,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:s,children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-4xl bg-surface-0 rounded-card p-6",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-surface-100 rounded mb-4 w-1/3"}),i.jsx("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>i.jsx("div",{className:"h-16 bg-surface-100 rounded"},t))})]})})})})]})}):o||!a?i.jsx(v.u,{appear:!0,show:t,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:s,children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md bg-surface-0 rounded-card p-6",children:[i.jsx("p",{className:"text-danger-600",children:"Failed to load vendor details"}),i.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-button",children:"Close"})]})})})]})}):i.jsx(v.u,{appear:!0,show:t,as:n.Fragment,children:(0,i.jsxs)(y.Vq,{as:"div",className:"relative z-50",onClose:s,children:[i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),i.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:i.jsx(v.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,i.jsxs)(y.Vq.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:[i.jsx("div",{className:"relative",children:(0,i.jsxs)("div",{className:"pt-6 px-6 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-card bg-surface-50 border-2 border-border-light overflow-hidden",children:a.logoUrl?i.jsx("img",{src:a.logoUrl,alt:a.businessName,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-primary-100 flex items-center justify-center",children:i.jsx($.Z,{className:"h-8 w-8 text-primary-600"})})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("h1",{className:"text-xl font-bold text-text-primary",children:a.businessName||a.firstName+" "+a.lastName}),(e=>{switch(e){case r.Approved:return i.jsx(L.Z,{className:"h-5 w-5 text-success-500"});case r.Rejected:case r.Suspended:return i.jsx(j.Z,{className:"h-5 w-5 text-danger-500"});default:return i.jsx(B.Z,{className:"h-5 w-5 text-warning-500"})}})(a.status)]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(x.Z,{className:"h-4 w-4 text-yellow-400 fill-current"}),(0,i.jsxs)("span",{className:"ml-1 text-sm text-text-primary",children:[a.rating?.toFixed(1)||"N/A"," (",a.reviewCount||0," reviews)"]})]}),(0,i.jsxs)("span",{className:"text-sm text-text-tertiary",children:["Member since ",a.vendorSince]})]})]})]}),i.jsx("button",{onClick:s,className:"p-2 hover:bg-surface-100 rounded-full transition-colors",children:i.jsx(h.Z,{className:"h-5 w-5 text-text-primary"})})]})}),i.jsx("div",{className:"px-6 py-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center",children:[i.jsx($.Z,{className:"h-5 w-5 mr-2"}),"Business Information"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Business Name"}),i.jsx("p",{className:"text-text-primary",children:a.businessName||"N/A"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Business Type"}),i.jsx("p",{className:"text-text-primary",children:a.businessType||"N/A"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Full Name"}),i.jsx("p",{className:"text-text-primary",children:a.user?.firstName+" "+a.user?.lastName||"N/A"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Zone Assigned"}),i.jsx("p",{className:"text-text-primary",children:a.isZoneAssigned?"Yes":"No"})]})]})]}),(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Contact Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(U.Z,{className:"h-4 w-4 text-text-tertiary mr-2"}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Email"}),i.jsx("p",{className:"text-text-primary",children:a.email})]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(W.Z,{className:"h-4 w-4 text-text-tertiary mr-2"}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Phone"}),i.jsx("p",{className:"text-text-primary",children:a.phoneNumber})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center",children:[i.jsx(m.Z,{className:"h-5 w-5 mr-2"}),"Business Location"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Address"}),i.jsx("p",{className:"text-text-primary",children:a.address||"N/A"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Email Verified"}),i.jsx("span",{className:a.verificationStatus?.emailVerified?"text-success-600":"text-danger-600",children:a.verificationStatus?.emailVerified?"✓ Verified":"✗ Not Verified"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Phone Verified"}),i.jsx("span",{className:a.verificationStatus?.phoneVerified?"text-success-600":"text-danger-600",children:a.verificationStatus?.phoneVerified?"✓ Verified":"✗ Not Verified"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Location Verified"}),(0,i.jsxs)("div",{className:"flex items-center",children:[a.verificationStatus?.locationVerified?i.jsx(L.Z,{className:"h-4 w-4 text-success-500 mr-1"}):i.jsx(j.Z,{className:"h-4 w-4 text-danger-500 mr-1"}),i.jsx("span",{className:a.verificationStatus?.locationVerified?"text-success-600":"text-danger-600",children:a.verificationStatus?.locationVerified?"Verified":"Not Verified"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Performance"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Total Orders"}),i.jsx("span",{className:"font-medium text-text-primary",children:a.totalOrders?.toLocaleString()||0})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Total Revenue"}),(0,i.jsxs)("span",{className:"font-medium text-text-primary",children:["$",a.totalRevenue?.toLocaleString()||0]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Compliance Score"}),(0,i.jsxs)("span",{className:"font-medium text-text-primary",children:[a.complianceScore||0,"%"]})]})]})]}),(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Zone Assignments"}),a.zoneAssignments&&a.zoneAssignments.length>0?i.jsx("div",{className:"space-y-3",children:a.zoneAssignments.map(e=>i.jsx("div",{className:"bg-surface-0 rounded-button p-3 border",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium text-text-primary",children:e.zoneName}),i.jsx("div",{className:"text-sm text-text-secondary",children:e.canDeliverTo?"Can deliver":"Cannot deliver"})]}),i.jsx("div",{className:`h-2 w-2 rounded-full ${e.isActive?"bg-success-500":"bg-danger-500"}`})]})},e.id))}):(0,i.jsxs)("div",{className:"text-center py-6 text-text-tertiary",children:[i.jsx(m.Z,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No zones assigned"})]})]}),a.verificationStatus&&(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Verification Status"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Email"}),i.jsx("span",{className:a.verificationStatus.emailVerified?"text-success-600":"text-danger-600",children:a.verificationStatus.emailVerified?"✓ Verified":"✗ Not Verified"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Phone"}),i.jsx("span",{className:a.verificationStatus.phoneVerified?"text-success-600":"text-danger-600",children:a.verificationStatus.phoneVerified?"✓ Verified":"✗ Not Verified"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Business"}),i.jsx("span",{className:a.verificationStatus.businessVerified?"text-success-600":"text-danger-600",children:a.verificationStatus.businessVerified?"✓ Verified":"✗ Not Verified"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Documents"}),i.jsx("span",{className:a.verificationStatus.documentVerified?"text-success-600":"text-danger-600",children:a.verificationStatus.documentVerified?"✓ Verified":"✗ Not Verified"})]})]})]}),(0,i.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Status History"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Created"}),i.jsx("span",{className:"text-text-primary",children:new Date(a.createdAt).toLocaleDateString()})]}),a.approvedAt&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Approved"}),i.jsx("span",{className:"text-text-primary",children:new Date(a.approvedAt).toLocaleDateString()})]}),a.rejectedAt&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Rejected"}),i.jsx("span",{className:"text-text-primary",children:new Date(a.rejectedAt).toLocaleDateString()})]}),a.suspendedAt&&(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-text-secondary",children:"Suspended"}),i.jsx("span",{className:"text-text-primary",children:new Date(a.suspendedAt).toLocaleDateString()})]})]})]})]})]})})]})})})})]})})}var Q=s(67830);let H=e=>{if("number"==typeof e)switch(e){case 0:default:return r.PendingApproval;case 1:return r.Approved;case 2:return r.UnderReview;case 3:return r.Suspended;case 4:return r.Rejected;case 5:return r.RequiresManualReview;case 6:return r.Inactive}return e},_=e=>{let t=H(e),s={[r.PendingApproval]:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",label:"Pending Approval"},[r.Approved]:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",label:"Approved"},[r.UnderReview]:{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",label:"Under Review"},[r.Suspended]:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",label:"Suspended"},[r.Rejected]:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",label:"Rejected"},[r.RequiresManualReview]:{color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",label:"Manual Review"},[r.Inactive]:{color:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",label:"Inactive"}}[t]||{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",label:"Unknown"};return i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.color}`,children:s.label})};function G({filters:e,onFiltersChange:t,selectedVendors:s,onSelectionChange:a}){let[l,o]=(0,n.useState)(null),[v,y]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!1),[F,q]=(0,n.useState)(!1),[R,V]=(0,n.useState)(!1),[T,Z]=(0,n.useState)("approve"),{data:D,isLoading:z,error:L,refetch:O}=(0,w.a)({queryKey:A.list(e),queryFn:()=>S.getAllVendors(e),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),I=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.approveVendor(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.lists()}),e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.stats()})}})}(),B=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.rejectVendor(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.lists()}),e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.stats()})}})}(),$=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.suspendVendor(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.lists()}),e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.stats()})}})}(),U=function(){let e=(0,k.NL)();return(0,C.D)({mutationFn:({vendorId:e,request:t})=>S.activateVendor(e,t),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:A.lists()}),e.invalidateQueries({queryKey:A.detail(s.vendorId)}),e.invalidateQueries({queryKey:A.stats()})}})}(),W=D?.items||[],G=D?{pageNumber:D.pageNumber,pageSize:D.pageSize,totalCount:D.totalCount,totalPages:D.totalCount}:null,J=s=>{let r=e.sortBy===s&&"asc"===e.sortOrder?"desc":"asc";t({...e,sortBy:s,sortOrder:r,pageNumber:1})},X=s=>{t({...e,pageNumber:s})},Y=e=>{o(e),y(!0)},ee=(e,t)=>{o(t),Z(e),N(!0)},et=e=>{o(e),q(!0)},es=e=>{o(e),V(!0)},er=e=>{if(e)a([...Array.from(new Set([...s,...W.map(e=>e.id)]))]);else{let e=W.map(e=>e.id);a(s.filter(t=>!e.includes(t)))}},ea=(e,t)=>{t?a([...s,e]):a(s.filter(t=>t!==e))},ei=W.length>0&&W.every(e=>s.includes(e.id)),en=W.some(e=>s.includes(e.id))&&!ei,el=async e=>{if(l)try{switch(T){case"approve":await I.mutateAsync({vendorId:l.id,request:e});break;case"reject":await B.mutateAsync({vendorId:l.id,request:e});break;case"suspend":await $.mutateAsync({vendorId:l.id,request:e});break;case"activate":await U.mutateAsync({vendorId:l.id,request:e})}}catch(e){console.error(`Failed to ${T} vendor:`,e)}finally{N(!1),o(null)}};if(z)return i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-6 bg-surface-100 rounded mb-4 w-40"}),i.jsx("div",{className:"space-y-3",children:[...Array(10)].map((e,t)=>i.jsx("div",{className:"h-16 bg-surface-100 rounded"},t))})]})});if(L)return i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:i.jsx("div",{className:"bg-danger-50 border border-danger-200 rounded-card p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("p",{className:"text-danger-600",children:["Failed to load vendors: ",L.message]}),i.jsx("button",{onClick:()=>O(),className:"px-3 py-1.5 bg-danger-100 hover:bg-danger-200 text-danger-700 rounded-button text-sm transition-colors",children:"Retry"})]})})});let eo=t=>e.sortBy!==t?null:"asc"===e.sortOrder?i.jsx(d.Z,{className:"h-4 w-4"}):i.jsx(c.Z,{className:"h-4 w-4"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-border-light bg-surface-50",children:(0,i.jsxs)("h3",{className:"text-lg font-semibold text-text-primary",children:["Vendors (",G?.totalCount||0,")"]})}),i.jsx("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-border-light",children:[i.jsx("thead",{className:"bg-surface-50",children:(0,i.jsxs)("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left",children:i.jsx("input",{type:"checkbox",checked:ei,ref:e=>{e&&(e.indeterminate=en)},onChange:e=>er(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("businessName"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Business"}),eo("businessName")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("status"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Status"}),eo("status")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Location"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("rating"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Rating"}),eo("rating")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("totalOrders"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Orders"}),eo("totalOrders")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("totalRevenue"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Revenue"}),eo("totalRevenue")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>J("createdAt"),children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{children:"Joined"}),eo("createdAt")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-surface-0 divide-y divide-border-light",children:0===W.length?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,i.jsxs)("div",{className:"text-text-tertiary",children:[i.jsx("p",{className:"text-lg font-medium",children:"No vendors found"}),i.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search filters"})]})})}):W.map(e=>(0,i.jsxs)("tr",{className:`hover:bg-surface-50 transition-colors cursor-pointer ${s.includes(e.id)?"bg-primary-50 border-l-4 border-primary-500":""}`,onClick:()=>Y(e),children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("input",{type:"checkbox",checked:s.includes(e.id),onChange:t=>{t.stopPropagation(),ea(e.id,t.target.checked)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-12 w-12 flex-shrink-0",children:e.logoUrl?i.jsx("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-border-light",src:e.logoUrl,alt:e.businessName}):i.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center border-2 border-border-light",children:i.jsx("span",{className:"text-sm font-medium text-primary-700",children:e.businessName?.charAt(0)||e.fullName.charAt(0)})})}),(0,i.jsxs)("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-text-primary",children:e.businessName}),i.jsx("div",{className:"text-sm text-text-secondary",children:e.fullName}),i.jsx("div",{className:"text-xs text-text-tertiary",children:e.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"space-y-1",children:[_(e.status),e.isZoneAssigned&&(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(m.Z,{className:"h-3 w-3 text-success-500 mr-1"}),i.jsx("span",{className:"text-xs text-success-600",children:"Zone Assigned"})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:e.city}),i.jsx("div",{className:"text-xs text-text-tertiary",children:e.state})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(x.Z,{className:"h-4 w-4 text-yellow-400 fill-current"}),i.jsx("span",{className:"ml-1 text-sm text-text-primary",children:e.rating.toFixed(1)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:e.totalOrders.toLocaleString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:(0,Q.x)(e.totalRevenue)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:new Date(e.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:t=>{t.stopPropagation(),Y(e)},className:"text-primary-600 hover:text-primary-700 p-1 rounded transition-colors",title:"View Details",children:i.jsx(u.Z,{className:"h-4 w-4"})}),H(e.status)===r.PendingApproval&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{onClick:t=>{t.stopPropagation(),ee("approve",e)},className:"text-success-600 hover:text-success-700 p-1 rounded transition-colors",title:"Approve Vendor",children:i.jsx(p.Z,{className:"h-4 w-4"})}),i.jsx("button",{onClick:t=>{t.stopPropagation(),ee("reject",e)},className:"text-danger-600 hover:text-danger-700 p-1 rounded transition-colors",title:"Reject Vendor",children:i.jsx(h.Z,{className:"h-4 w-4"})})]}),H(e.status)===r.Approved&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("button",{onClick:t=>{t.stopPropagation(),et(e)},className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Assign Zone",children:i.jsx(m.Z,{className:"h-4 w-4"})}),i.jsx("button",{onClick:t=>{t.stopPropagation(),ee("suspend",e)},className:"text-warning-600 hover:text-warning-700 p-1 rounded transition-colors",title:"Suspend Vendor",children:i.jsx(f.Z,{className:"h-4 w-4"})})]}),H(e.status)===r.Suspended&&i.jsx("button",{onClick:t=>{t.stopPropagation(),ee("activate",e)},className:"text-success-600 hover:text-success-700 p-1 rounded transition-colors",title:"Activate Vendor",children:i.jsx(g.Z,{className:"h-4 w-4"})}),i.jsx("button",{onClick:t=>{t.stopPropagation(),es(e)},className:"text-purple-600 hover:text-purple-700 p-1 rounded transition-colors",title:"Send Instruction",children:i.jsx(b,{className:"h-4 w-4"})})]})})]},e.id))})]})}),G&&G.totalPages>1&&(0,i.jsxs)("div",{className:"bg-surface-50 px-6 py-3 border-t border-border-light flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx("button",{onClick:()=>X(G.pageNumber-1),disabled:G.pageNumber<=1,className:"relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-primary bg-surface-0 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),i.jsx("button",{onClick:()=>X(G.pageNumber+1),disabled:G.pageNumber>=G.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-primary bg-surface-0 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]}),(0,i.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:(0,i.jsxs)("p",{className:"text-sm text-text-secondary",children:["Showing"," ",i.jsx("span",{className:"font-medium",children:(G.pageNumber-1)*G.pageSize+1})," ","to"," ",i.jsx("span",{className:"font-medium",children:Math.min(G.pageNumber*G.pageSize,G.totalCount)})," ","of"," ",i.jsx("span",{className:"font-medium",children:G.totalCount})," ","results"]})}),i.jsx("div",{children:(0,i.jsxs)("nav",{className:"relative z-0 inline-flex rounded-button shadow-soft -space-x-px","aria-label":"Pagination",children:[i.jsx("button",{onClick:()=>X(G.pageNumber-1),disabled:G.pageNumber<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-button border border-border-default bg-surface-0 text-sm font-medium text-text-secondary hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Math.min(5,G.totalPages)},(e,t)=>{let s=Math.max(1,G.pageNumber-2)+t;return s>G.totalPages?null:i.jsx("button",{onClick:()=>X(s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors ${s===G.pageNumber?"z-10 bg-primary-500 border-primary-500 text-white":"bg-surface-0 border-border-default text-text-secondary hover:bg-surface-100"}`,children:s},s)}),i.jsx("button",{onClick:()=>X(G.pageNumber+1),disabled:G.pageNumber>=G.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-button border border-border-default bg-surface-0 text-sm font-medium text-text-secondary hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})]})]}),l&&v&&i.jsx(K,{vendorId:l.id,isOpen:v,onClose:()=>{y(!1),o(null)}}),l&&j&&i.jsx(M,{isOpen:j,onClose:()=>{N(!1),o(null)},onConfirm:el,action:T,vendor:l}),l&&F&&i.jsx(P,{vendorId:l.id,isOpen:F,onClose:()=>{q(!1),o(null)}}),l&&R&&i.jsx(E,{vendorId:l.id,vendorName:l.businessName,isOpen:R,onClose:()=>{V(!1),o(null)}})]})}var J=s(81367);let X=n.forwardRef(function({title:e,titleId:t,...s},r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))});var Y=s(2560);function ee({filters:e,onFiltersChange:t}){let[s,l]=(0,n.useState)(!1),{data:o}=q(),d=s=>{t({...e,search:s,pageNumber:1})},c=s=>{t({...e,status:s||void 0,pageNumber:1})},m=s=>{t({...e,deliveryType:s||void 0,pageNumber:1})},x=s=>{t({...e,city:s||void 0,pageNumber:1})},u=s=>{t({...e,state:s||void 0,pageNumber:1})},p=s=>{t({...e,dateFrom:s||void 0,pageNumber:1})},h=s=>{t({...e,dateTo:s||void 0,pageNumber:1})},f=s=>{t({...e,isZoneAssigned:s,pageNumber:1})},g=s=>{t({...e,isVerified:s,pageNumber:1})},b=s=>{t({...e,isCurrentlyOpen:s,pageNumber:1})},v=s=>{t({...e,minRating:s?parseFloat(s):void 0,pageNumber:1})},y=s=>{t({...e,maxRating:s?parseFloat(s):void 0,pageNumber:1})},j=s=>{t({...e,businessType:s||void 0,pageNumber:1})};return(0,i.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Search Vendors"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(J.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary"}),i.jsx("input",{type:"text",placeholder:"Search by business name, email, location...",value:e.search||"",onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Status"}),(0,i.jsxs)("select",{value:e.status||"",onChange:e=>c(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"All Statuses"}),i.jsx("option",{value:r.PendingApproval,children:"Pending Approval"}),i.jsx("option",{value:r.Approved,children:"Approved"}),i.jsx("option",{value:r.UnderReview,children:"Under Review"}),i.jsx("option",{value:r.Suspended,children:"Suspended"}),i.jsx("option",{value:r.Rejected,children:"Rejected"}),i.jsx("option",{value:r.RequiresManualReview,children:"Manual Review"}),i.jsx("option",{value:r.Inactive,children:"Inactive"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Delivery Type"}),(0,i.jsxs)("select",{value:e.deliveryType||"",onChange:e=>m(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"All Types"}),i.jsx("option",{value:a.DeliveryOnly,children:"Delivery Only"}),i.jsx("option",{value:a.PickupOnly,children:"Pickup Only"}),i.jsx("option",{value:a.Both,children:"Both"}),i.jsx("option",{value:a.None,children:"None"})]})]})]}),(0,i.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,i.jsxs)("button",{onClick:()=>l(!s),className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700 transition-colors",children:[i.jsx(X,{className:"h-4 w-4"}),(0,i.jsxs)("span",{children:[s?"Hide":"Show"," Advanced Filters"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(Y.Z,{className:"h-5 w-5 text-text-tertiary"}),(0,i.jsxs)("span",{className:"text-sm text-text-tertiary",children:[(()=>{let t=["pageNumber","pageSize","sortBy","sortOrder"];return Object.entries(e).filter(([e,s])=>!t.includes(e)&&null!=s&&""!==s).length})()," filter(s) applied"]})]})]}),s&&i.jsx("div",{className:"mt-4 pt-4 border-t border-border-light",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"City"}),i.jsx("input",{type:"text",placeholder:"Enter city",value:e.city||"",onChange:e=>x(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"State"}),i.jsx("input",{type:"text",placeholder:"Enter state",value:e.state||"",onChange:e=>u(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"From Date"}),i.jsx("input",{type:"date",value:e.dateFrom||"",onChange:e=>p(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"To Date"}),i.jsx("input",{type:"date",value:e.dateTo||"",onChange:e=>h(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Min Rating"}),(0,i.jsxs)("select",{value:e.minRating?.toString()||"",onChange:e=>v(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Any"}),i.jsx("option",{value:"1",children:"1+ Stars"}),i.jsx("option",{value:"2",children:"2+ Stars"}),i.jsx("option",{value:"3",children:"3+ Stars"}),i.jsx("option",{value:"4",children:"4+ Stars"}),i.jsx("option",{value:"4.5",children:"4.5+ Stars"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Max Rating"}),(0,i.jsxs)("select",{value:e.maxRating?.toString()||"",onChange:e=>y(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"Any"}),i.jsx("option",{value:"2",children:"2 Stars"}),i.jsx("option",{value:"3",children:"3 Stars"}),i.jsx("option",{value:"4",children:"4 Stars"}),i.jsx("option",{value:"5",children:"5 Stars"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Business Type"}),(0,i.jsxs)("select",{value:e.businessType||"",onChange:e=>j(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[i.jsx("option",{value:"",children:"All Types"}),i.jsx("option",{value:"Restaurant",children:"Restaurant"}),i.jsx("option",{value:"FastFood",children:"Fast Food"}),i.jsx("option",{value:"Cafe",children:"Cafe"}),i.jsx("option",{value:"Bakery",children:"Bakery"}),i.jsx("option",{value:"FoodTruck",children:"Food Truck"}),i.jsx("option",{value:"Catering",children:"Catering"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsx("div",{className:"xl:col-span-4 lg:col-span-3 md:col-span-2",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"zoneAssigned",checked:!0===e.isZoneAssigned,onChange:e=>f(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"zoneAssigned",className:"text-sm text-text-primary",children:"Zone Assigned Only"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"verified",checked:!0===e.isVerified,onChange:e=>g(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"verified",className:"text-sm text-text-primary",children:"Verified Only"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"currentlyOpen",checked:!0===e.isCurrentlyOpen,onChange:e=>b(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),i.jsx("label",{htmlFor:"currentlyOpen",className:"text-sm text-text-primary",children:"Currently Open Only"})]})]})})]})}),(0,i.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-4",children:o&&(0,i.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,i.jsxs)("button",{onClick:()=>c(r.PendingApproval),className:`px-3 py-1 rounded-full transition-colors ${e.status===r.PendingApproval?"bg-yellow-200 text-yellow-800":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:[o.pendingApproval," Pending"]}),(0,i.jsxs)("button",{onClick:()=>c(r.RequiresManualReview),className:`px-3 py-1 rounded-full transition-colors ${e.status===r.RequiresManualReview?"bg-purple-200 text-purple-800":"bg-purple-100 text-purple-800 hover:bg-purple-200"}`,children:[o.requiresManualReview," Need Review"]}),(0,i.jsxs)("button",{onClick:()=>c(r.Suspended),className:`px-3 py-1 rounded-full transition-colors ${e.status===r.Suspended?"bg-red-200 text-red-800":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[o.suspended," Suspended"]})]})}),i.jsx("button",{onClick:()=>{t({pageNumber:1,pageSize:10,sortBy:"createdAt",sortOrder:"desc"})},className:"text-sm text-primary-600 hover:text-primary-700 transition-colors",children:"Clear All Filters"})]})]})}function et(){let[e,t]=(0,n.useState)({pageNumber:1,pageSize:10,sortBy:"createdAt",sortOrder:"desc"}),[s,r]=(0,n.useState)([]),{data:a,isLoading:d}=q(),c=e=>{if(0===s.length){alert("Please select vendors first");return}console.log("Bulk action:",e,"for vendors:",s)},m=(e,t,s,r,a)=>i.jsx("div",{className:`bg-surface-0 rounded-card shadow-soft border border-border-light p-6 ${a?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:a,children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text-secondary",children:e}),i.jsx("p",{className:"text-2xl font-bold text-text-primary",children:t})]}),i.jsx("div",{className:`h-12 w-12 ${r} rounded-lg flex items-center justify-center`,children:i.jsx("span",{className:"text-lg",children:s})})]})});return(0,i.jsxs)("div",{className:"space-y-6 p-6 bg-surface-primary min-h-screen",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary tracking-tight",children:"Vendor Management"}),i.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Manage vendor applications, approvals, and operations"}),a&&!d&&(0,i.jsxs)("div",{className:"flex items-center space-x-6 mt-4",children:[(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-text-primary",children:a.totalVendors.toLocaleString()}),i.jsx("span",{className:"text-text-tertiary ml-1",children:"Total"})]}),(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-success-600",children:a.approved.toLocaleString()}),i.jsx("span",{className:"text-text-tertiary ml-1",children:"Approved"})]}),(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-warning-600",children:a.pendingApproval.toLocaleString()}),i.jsx("span",{className:"text-text-tertiary ml-1",children:"Pending"})]}),(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-primary-600",children:a.activeVendors.toLocaleString()}),i.jsx("span",{className:"text-text-tertiary ml-1",children:"Active"})]}),(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium text-blue-600",children:a.zoneAssignedVendors.toLocaleString()}),i.jsx("span",{className:"text-text-tertiary ml-1",children:"Zone Assigned"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-2 lg:gap-3 flex-shrink-0",children:[s.length>0&&(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)("button",{onClick:()=>c("approve"),className:"px-3 py-2 bg-success-500 text-white rounded-button hover:bg-success-600 focus:ring-2 focus:ring-success-500 focus:ring-offset-2 transition-colors text-sm font-medium",children:["Bulk Approve (",s.length,")"]}),i.jsx("button",{onClick:()=>c("reject"),className:"px-3 py-2 bg-danger-500 text-white rounded-button hover:bg-danger-600 focus:ring-2 focus:ring-danger-500 focus:ring-offset-2 transition-colors text-sm font-medium",children:"Bulk Reject"})]}),(0,i.jsxs)("button",{disabled:!0,className:"w-full xs:w-auto px-4 py-2.5 bg-blue-500 text-white rounded-button hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium disabled:opacity-50","aria-label":"Export vendors",children:[i.jsx(l,{className:"h-4 w-4 inline mr-2"}),i.jsx("span",{className:"sm:hidden",children:"Export"})]}),(0,i.jsxs)("button",{className:"w-full xs:w-auto px-4 py-2.5 bg-primary-500 text-white rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium","aria-label":"Add new vendor",children:[i.jsx(o.Z,{className:"h-4 w-4 inline mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Add Vendor"}),i.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),a&&!d&&(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[m("Total Revenue",`${a.totalRevenue.toLocaleString()}`,"\uD83D\uDCB0","bg-green-100 text-green-600",()=>t({...e,sortBy:"totalRevenue",sortOrder:"desc"})),m("Average Rating",a.averageRating.toFixed(1),"⭐","bg-yellow-100 text-yellow-600",()=>t({...e,sortBy:"rating",sortOrder:"desc"})),m("Verified Vendors",a.verifiedVendors.toLocaleString(),"✅","bg-blue-100 text-blue-600",()=>t({...e,isVerified:!0})),m("Suspended",a.suspended.toLocaleString(),"⏸️","bg-red-100 text-red-600",()=>t({...e,status:"Suspended"})),m("Manual Review",a.requiresManualReview.toLocaleString(),"\uD83D\uDC41️","bg-purple-100 text-purple-600",()=>t({...e,status:"RequiresManualReview"})),m("New This Week",a.newVendorsThisWeek.toLocaleString(),"\uD83D\uDCC8","bg-indigo-100 text-indigo-600",()=>{let s=new Date;s.setDate(s.getDate()-7),t({...e,dateFrom:s.toISOString().split("T")[0]})})]}),a&&!d&&(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Avg Approval Time"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:a.averageApprovalTime?`${a.averageApprovalTime}h`:"N/A"})]}),i.jsx("div",{className:"h-10 w-10 bg-primary-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-primary-600 text-sm",children:"⏱️"})})]})}),i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Avg Compliance"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:a.averageComplianceScore?`${a.averageComplianceScore}%`:"N/A"})]}),i.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-green-600 text-sm",children:"\uD83D\uDCCB"})})]})}),i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Issues Detected"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:a.vendorsWithIssues||0})]}),i.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-red-600 text-sm",children:"⚠️"})})]})}),i.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Growth Rate"}),i.jsx("p",{className:"text-xl font-bold text-text-primary",children:a.totalVendors>0?`+${Math.round(a.newVendorsThisMonth/a.totalVendors*100)}%`:"0%"})]}),i.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-blue-600 text-sm",children:"\uD83D\uDCCA"})})]})})]}),i.jsx(ee,{filters:e,onFiltersChange:t}),i.jsx(G,{filters:e,onFiltersChange:t,selectedVendors:s,onSelectionChange:r})]})}},24032:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var r=s(10326),a=s(17577),i=s(49221),n=s(1762),l=s(19381),o=s(72591),d=s(41135),c=s(64755);let m={danger:{iconColor:"text-red-600",buttonColor:"bg-red-600 hover:bg-red-700 focus:ring-red-500",iconBg:"bg-red-100"},warning:{iconColor:"text-yellow-600",buttonColor:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",iconBg:"bg-yellow-100"},info:{iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",iconBg:"bg-blue-100"},success:{iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700 focus:ring-green-500",iconBg:"bg-green-100"}};function x({isOpen:e,onClose:t,onConfirm:s,title:x,message:u,confirmText:p="Confirm",cancelText:h="Cancel",variant:f="danger",isLoading:g=!1,disabled:b=!1}){let v=m[f];return r.jsx(i.u,{appear:!0,show:e,as:a.Fragment,children:(0,r.jsxs)(n.Vq,{as:"div",className:"relative z-50",onClose:t,children:[r.jsx(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),r.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:r.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:r.jsx(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(n.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-card bg-surface-0 p-6 text-left align-middle shadow-xl transition-all",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:(0,d.W)("mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10",v.iconBg),children:r.jsx(l.Z,{className:(0,d.W)("h-6 w-6",v.iconColor),"aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1",children:[r.jsx(n.Vq.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-text-primary",children:x}),r.jsx("div",{className:"mt-2",children:r.jsx("p",{className:"text-sm text-text-secondary",children:u})})]}),r.jsx("button",{type:"button",className:"ml-4 rounded-md p-1 hover:bg-surface-100 transition-colors",onClick:t,children:r.jsx(o.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{type:"button",className:"rounded-button border border-border-default bg-surface-0 px-4 py-2 text-sm font-medium text-text-primary hover:bg-surface-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",onClick:t,disabled:g,children:h}),r.jsx("button",{type:"button",className:(0,d.W)("inline-flex items-center justify-center rounded-button px-4 py-2 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",v.buttonColor,(b||g)&&"opacity-50 cursor-not-allowed"),onClick:()=>{b||g||s()},disabled:b||g,children:g?(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{size:"sm",color:"white",className:"mr-2"}),p,"..."]}):p})]})]})})})})]})})}},21261:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/admin/vendors/page.tsx#default`)},37610:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},48258:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))})},19381:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},42502:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))})},27132:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))})},84625:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},43404:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(17577);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,260,815,170,762,736,152,359],()=>s(40320));module.exports=r})();