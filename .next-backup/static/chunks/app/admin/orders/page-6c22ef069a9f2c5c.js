(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{86638:function(e,s,t){Promise.resolve().then(t.bind(t,23727))},23727:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return z}});var r=t(57437),a=t(2265),i=t(42548);let n=a.forwardRef(function(e,s){let{title:t,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},i),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}),l=a.forwardRef(function(e,s){let{title:t,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},i),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}),d=a.forwardRef(function(e,s){let{title:t,titleId:r,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},i),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"}))});var c=t(77165),o=t(20465),m=t(11713),x=t(29827),u=t(21770);let h=t(40541).V.order,p=e=>{var s;return(0,m.a)({queryKey:["orders","pending-assignment"],queryFn:()=>h.getOrdersPendingAssignment(),refetchInterval:null!=e&&!!e.enabled&&45e3,staleTime:15e3,refetchOnMount:!0,refetchOnWindowFocus:!0,enabled:null===(s=null==e?void 0:e.enabled)||void 0===s||s})},g=()=>{let e=(0,x.NL)();return(0,u.D)({mutationFn:e=>h.assignRiderToOrder(e),onSuccess:s=>(e.invalidateQueries({queryKey:["orders","pending-assignment"]}),e.invalidateQueries({queryKey:["riders","available"]}),e.invalidateQueries({queryKey:["orders"]}),s)})},b=()=>{let e=(0,x.NL)();return(0,u.D)({mutationFn:e=>h.replaceOrderRider(e),onSuccess:s=>(e.invalidateQueries({queryKey:["orders","pending-assignment"]}),e.invalidateQueries({queryKey:["riders","available"]}),e.invalidateQueries({queryKey:["orders"]}),s)})},f=function(){var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,m.a)({queryKey:["orders","paginated",s],queryFn:()=>h.getAllOrders(s),staleTime:3e4,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchInterval:null!=t&&!!t.enabled&&3e5,enabled:null===(e=null==t?void 0:t.enabled)||void 0===e||e})};var j=t(76529),y=t(56422),v=t(94725),N=t(338),w=t(89453),k=t(62608);function A(e){let{isOpen:s,onClose:t,order:a}=e;return a&&s?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:t}),(0,r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"relative w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Order Details - ",a.orderId]}),(0,r.jsx)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:t,children:(0,r.jsx)(c.Z,{className:"h-6 w-6"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,r.jsx)("span",{className:"font-mono",children:a.orderId})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,r.jsx)("span",{children:(e=>{let s={Pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},Preparing:{color:"bg-primary-100 text-primary-800",label:"Preparing"},RiderAssigned:{color:"bg-purple-100 text-purple-800",label:"Rider Assigned"},RiderArrived:{color:"bg-indigo-100 text-indigo-800",label:"Rider Arrived"},OutForDelivery:{color:"bg-orange-100 text-orange-800",label:"Out for Delivery"},Completed:{color:"bg-green-100 text-green-800",label:"Completed"},Cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"}},t=s[e]||s.Pending;return(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.color),children:t.label})})(a.statusText)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Order Date:"}),(0,r.jsx)("span",{children:new Date(a.orderDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Order Type:"}),(0,r.jsx)("span",{className:"flex items-center",children:a.isDelivery?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 mr-1 text-blue-500"}),"Delivery"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-1 text-green-500"}),"Pickup"]})})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Customer Information"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Name: "}),(0,r.jsxs)("span",{className:"font-medium",children:[a.customer.firstName," ",a.customer.lastName]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Email: "}),(0,r.jsx)("span",{children:a.customer.email})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),(0,r.jsx)("span",{children:a.customer.phoneNumber}),(0,r.jsx)(k.Z,{text:a.customer.phoneNumber,className:"ml-2"})]}),(a.customer.address||a.customerAddress||a.deliveryAddress)&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2",children:a.isDelivery?"Delivery Address":"Address"}),(0,r.jsx)("div",{className:"space-y-1 text-sm",children:(()=>{let e=a.customer.address||a.customerAddress;return e?(0,r.jsxs)(r.Fragment,{children:[e.addressLine1&&(0,r.jsx)("div",{children:e.addressLine1}),e.addressLine2&&(0,r.jsx)("div",{children:e.addressLine2}),e.landmarkName&&(0,r.jsxs)("div",{className:"text-gray-600",children:[(0,r.jsx)(y.Z,{className:"h-3 w-3 inline mr-1"}),"Near ",e.landmarkName]}),e.directionsFromLandmark&&(0,r.jsx)("div",{className:"text-gray-600 text-xs italic",children:e.directionsFromLandmark}),e.zoneName&&(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Zone: ",e.zoneName]}),(e.primaryPhone||e.backupPhone)&&(0,r.jsxs)("div",{className:"flex flex-col space-y-1 text-xs",children:[e.primaryPhone&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"h-3 w-3 mr-1"}),"Primary: ",e.primaryPhone,(0,r.jsx)(k.Z,{text:e.primaryPhone,className:"ml-1",iconClassName:"h-3 w-3"})]}),e.backupPhone&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"h-3 w-3 mr-1"}),"Backup: ",e.backupPhone,(0,r.jsx)(k.Z,{text:e.backupPhone,className:"ml-1",iconClassName:"h-3 w-3"})]})]})]}):a.deliveryAddress?(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsx)(y.Z,{className:"h-3 w-3 inline mr-1"}),a.deliveryAddress]}):null})()})]})]})]}),(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Vendor Information"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Business: "}),(0,r.jsx)("span",{className:"font-medium",children:a.vendor.businessName||"".concat(a.vendor.firstName," ").concat(a.vendor.lastName)})]}),a.vendor.address&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Address: "}),(0,r.jsx)("span",{children:a.vendor.address})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),(0,r.jsx)("span",{children:a.vendor.phoneNumber}),(0,r.jsx)(k.Z,{text:a.vendor.phoneNumber,className:"ml-2"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Total"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,r.jsx)("span",{children:(0,j.x)(a.subTotal)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Delivery Fee:"}),(0,r.jsx)("span",{children:(0,j.x)(a.deliveryFee)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Service Fee:"}),(0,r.jsx)("span",{children:(0,j.x)(a.serviceFee)})]}),a.promoCode&&(0,r.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,r.jsxs)("span",{children:["Promo (",a.promoCode,"):"]}),(0,r.jsxs)("span",{children:["-",(0,j.x)(a.promoDiscountAmount||0)]})]}),(0,r.jsxs)("div",{className:"flex justify-between font-medium text-lg border-t pt-2 mt-2",children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsx)("span",{children:(0,j.x)(a.totalAmount)})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Timeline"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Order Placed: "}),(0,r.jsx)("span",{children:new Date(a.orderDate).toLocaleString()})]})]}),a.preparingAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Preparing: "}),(0,r.jsx)("span",{children:new Date(a.preparingAt).toLocaleString()})]})]}),a.riderAssignedAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Rider Assigned: "}),(0,r.jsx)("span",{children:new Date(a.riderAssignedAt).toLocaleString()})]})]}),a.riderArrivedAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Rider Arrived: "}),(0,r.jsx)("span",{children:new Date(a.riderArrivedAt).toLocaleString()})]})]}),a.outForDeliveryAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Out for Delivery: "}),(0,r.jsx)("span",{children:new Date(a.outForDeliveryAt).toLocaleString()})]})]}),a.completedAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Completed: "}),(0,r.jsx)("span",{children:new Date(a.completedAt).toLocaleString()})]})]}),a.cancelledAt&&(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Cancelled: "}),(0,r.jsx)("span",{children:new Date(a.cancelledAt).toLocaleString()})]})]})]}),a.orderDuration&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Duration: "}),(0,r.jsx)("span",{className:"font-medium",children:a.orderDuration})]})})]}),a.rider&&(0,r.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Rider Information"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Name: "}),(0,r.jsxs)("span",{className:"font-medium",children:[a.rider.firstName," ",a.rider.lastName]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),(0,r.jsx)("span",{children:a.rider.phoneNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Rating: "}),(0,r.jsxs)("span",{className:"font-medium",children:[a.rider.rating.toFixed(1)," ⭐"]})]})]})]}),a.assignmentAttempts>0&&(0,r.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Assignment Info"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Assignment attempts: ",(0,r.jsx)("span",{className:"font-medium",children:a.assignmentAttempts})]})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",onClick:t,children:"Close"})})]})})]}):null}var C=t(41556),F=t(69390),R=t(84874),O=t(28026),D=t(33475),L=t(12398);function P(e){var s;let{isOpen:t,onClose:i,order:n}=e,[l,d]=(0,a.useState)(""),[o,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(""),[h,p]=(0,a.useState)({show:!1,message:"",type:"success"}),{data:g,isLoading:f,error:y,refetch:v,isFetching:N}=(0,L.LY)(),w=b(),k=(0,a.useMemo)(()=>{if(!g)return[];let e=g.filter(e=>{var s;return e.id!==(null==n?void 0:null===(s=n.rider)||void 0===s?void 0:s.id)});return l?e.filter(e=>e.fullName.toLowerCase().includes(l.toLowerCase())||e.phoneNumber.includes(l)):e},[g,l,null==n?void 0:null===(s=n.rider)||void 0===s?void 0:s.id]),A=async()=>{if(n&&o)try{var e,s;let t=await w.mutateAsync({orderId:n.id,riderId:o.id,notes:x||"Rider replacement: ".concat(null===(e=n.rider)||void 0===e?void 0:e.firstName," ").concat(null===(s=n.rider)||void 0===s?void 0:s.lastName," → ").concat(o.fullName)});t.success?(p({show:!0,message:"Rider successfully replaced! ".concat(o.fullName," is now assigned to order ").concat(n.orderId),type:"success"}),setTimeout(()=>{i(),m(null),u(""),d("")},2e3)):p({show:!0,message:t.message||"Failed to replace rider",type:"error"})}catch(e){p({show:!0,message:"Failed to replace rider. Please try again.",type:"error"})}},P=e=>{let s={0:{bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200",dot:"bg-yellow-500",label:"Pending"},1:{bg:"bg-success-50",text:"text-success-700",border:"border-success-200",dot:"bg-success-500",label:"Available"},2:{bg:"bg-warning-50",text:"text-warning-700",border:"border-warning-200",dot:"bg-warning-500",label:"Busy"},3:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",dot:"bg-gray-400",label:"Offline"},4:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",dot:"bg-blue-500",label:"On Break"},5:{bg:"bg-danger-50",text:"text-danger-700",border:"border-danger-200",dot:"bg-danger-500",label:"Suspended"}},t=s[e.status]||s[3];return(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ".concat(t.bg," ").concat(t.text," ").concat(t.border),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat(t.dot)}),t.label]})};return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:i}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsxs)("div",{className:"relative inline-block align-bottom bg-surface-0 rounded-card text-left overflow-hidden shadow-soft-lg transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[(0,r.jsx)("div",{className:"bg-surface-0 px-4 py-3 sm:px-6 border-b border-border-light",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-text-primary",id:"modal-title",children:"Replace Rider for Order"}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-sm text-text-secondary mt-1",children:["Order #",n.orderId," • ",n.customer.firstName," ",n.customer.lastName," • ",(0,j.x)(n.totalAmount)]}),n.rider&&(0,r.jsx)("div",{className:"mt-2 p-3 bg-warning-50 border border-warning-200 rounded-button",children:(0,r.jsxs)("p",{className:"text-sm text-warning-800",children:[(0,r.jsx)("strong",{children:"Current Rider:"})," ",n.rider.firstName," ",n.rider.lastName," • ",n.rider.phoneNumber]})})]})]}),(0,r.jsxs)("button",{type:"button",className:"bg-surface-0 rounded-button text-text-tertiary hover:text-text-secondary focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:i,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(c.Z,{className:"h-6 w-6","aria-hidden":"true"})]})]})}),(0,r.jsxs)("div",{className:"bg-surface-0 px-4 py-6 sm:px-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"rider-search",className:"block text-sm font-medium text-text-secondary mb-2",children:"Search Available Riders"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(C.Z,{className:"h-5 w-5 text-text-tertiary","aria-hidden":"true"})}),(0,r.jsx)("input",{type:"text",id:"rider-search",className:"block w-full pl-10 pr-3 py-2 border border-border-default rounded-button focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Search by name or phone number...",value:l,onChange:e=>d(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-text-secondary",children:"Available Riders"}),(0,r.jsx)("button",{onClick:()=>v(),disabled:N,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-primary-700 bg-primary-50 border border-primary-200 rounded-button hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.$,{size:"sm",className:"mr-1"}),"Refreshing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),f&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(O.$,{size:"md"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-text-secondary",children:"Loading available riders..."})]}),y&&(0,r.jsx)("div",{className:"bg-danger-50 border border-danger-200 rounded-button p-4",children:(0,r.jsx)("p",{className:"text-sm text-danger-700",children:"Failed to load available riders. Please try again."})}),!f&&!y&&(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto border border-border-light rounded-button",children:0===k.length?(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)(R.Z,{className:"mx-auto h-12 w-12 text-text-tertiary"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-text-secondary",children:l?"No riders found matching your search.":"No available riders at the moment."})]}):(0,r.jsx)("div",{className:"divide-y divide-border-light",children:k.map(e=>(0,r.jsx)("div",{className:"p-3 sm:p-4 cursor-pointer transition-all duration-200 hover:bg-surface-50 hover:shadow-sm ".concat((null==o?void 0:o.id)===e.id?"bg-primary-50 border-l-4 border-l-primary-500 shadow-sm":""),onClick:()=>m(e),children:(0,r.jsxs)("div",{className:"flex items-start sm:items-center justify-between",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start sm:items-center space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xs sm:text-sm font-medium text-primary-700",children:e.fullName.split(" ").map(e=>e[0]).join("").substring(0,2)})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:e.fullName}),(0,r.jsx)("p",{className:"text-xs text-text-secondary truncate",children:e.phoneNumber}),(0,r.jsx)("p",{className:"text-xs text-text-secondary truncate sm:hidden",children:e.statusText}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mt-1 sm:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(F.Z,{className:"h-3 w-3 text-warning-500 mr-1"}),(0,r.jsx)("span",{className:"text-xs text-text-secondary",children:e.rating.toFixed(1)})]}),(0,r.jsxs)("span",{className:"text-xs text-text-secondary",children:[e.completedDeliveries," deliveries"]}),(0,r.jsxs)("span",{className:"text-xs text-text-secondary",children:[e.acceptanceRate.toFixed(0),"% accept rate"]}),e.activeAssignments>0&&(0,r.jsxs)("span",{className:"text-xs text-warning-600 bg-warning-50 px-1 rounded",children:[e.activeAssignments," active"]})]}),(0,r.jsxs)("div",{className:"hidden sm:flex items-center space-x-6 mt-1",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(F.Z,{className:"h-4 w-4 text-warning-500 mr-1.5"}),(0,r.jsx)("span",{className:"text-sm text-text-secondary font-medium",children:e.rating.toFixed(1)})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(R.Z,{className:"h-4 w-4 text-text-tertiary mr-1.5"}),(0,r.jsxs)("span",{className:"text-sm text-text-secondary",children:[e.completedDeliveries," deliveries"]})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"text-sm text-text-secondary",children:[e.acceptanceRate.toFixed(0),"% accept rate"]})}),e.activeAssignments>0&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-warning-100 text-warning-800",children:[e.activeAssignments," active"]})]})]})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 ml-2",children:P(e)})]})},e.id))})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"replacement-notes",className:"block text-sm font-medium text-text-secondary mb-2",children:"Replacement Reason (Optional)"}),(0,r.jsx)("textarea",{id:"replacement-notes",rows:3,className:"block w-full px-3 py-2 border border-border-default rounded-button focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Add any reason for the rider replacement...",value:x,onChange:e=>u(e.target.value)})]}),o&&(0,r.jsxs)("div",{className:"bg-primary-50 border border-primary-200 rounded-button p-4 mb-6",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-primary-800 mb-2",children:"New Rider"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-primary-900",children:o.fullName}),(0,r.jsxs)("p",{className:"text-xs text-primary-700",children:[o.rating.toFixed(1),"★ • ",o.completedDeliveries," deliveries • ",o.acceptanceRate.toFixed(0),"% acceptance rate"]}),o.activeAssignments>0&&(0,r.jsxs)("p",{className:"text-xs text-warning-700",children:["Currently has ",o.activeAssignments," active assignment(s)"]})]}),(0,r.jsx)("div",{className:"flex-shrink-0",children:P(o)})]})]})]}),(0,r.jsx)("div",{className:"bg-surface-50 px-4 py-3 sm:px-6 border-t border-border-light",children:(0,r.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end space-y-reverse space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,r.jsx)("button",{type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-button border border-border-default shadow-soft px-4 py-2 bg-surface-0 text-base font-medium text-text-secondary hover:bg-surface-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:text-sm",onClick:i,children:"Cancel"}),(0,r.jsxs)("button",{type:"button",className:"w-full sm:w-auto inline-flex justify-center rounded-button border border-transparent shadow-soft px-4 py-2 bg-warning-600 text-base font-medium text-text-inverse hover:bg-warning-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-warning-500 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:A,disabled:!o||w.isPending,children:[w.isPending&&(0,r.jsx)(O.$,{size:"sm",className:"mr-2"}),w.isPending?"Replacing...":"Replace Rider"]})]})})]})]}),h.show&&(0,r.jsx)(D.F,{message:h.message,type:h.type,onClose:()=>p({...h,show:!1})})]}):null}function S(e){let{filters:s}=e,[t,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),{data:y,isLoading:v,error:N,refetch:w,isFetching:k}=f({pageNumber:s.page||1,pageSize:s.limit||10,sortBy:s.sortBy||"orderDate",sortOrder:s.sortOrder||"desc",...s.search&&{search:s.search},...s.status&&{status:s.status},...s.dateFrom&&{dateFrom:s.dateFrom},...s.dateTo&&{dateTo:s.dateTo}},{enabled:!0}),C=e=>{m(e),u(!0)},F=e=>{console.log("Edit order:",e)},R=e=>{console.log("Cancel order:",e)},O=e=>{console.log("Track order:",e)},D=e=>{b(e),p(!0)},L=e=>{let s={Pending:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},Preparing:{color:"bg-primary-100 text-primary-800",label:"Preparing"},RiderAssigned:{color:"bg-purple-100 text-purple-800",label:"Rider Assigned"},RiderArrived:{color:"bg-indigo-100 text-indigo-800",label:"Rider Arrived"},OutForDelivery:{color:"bg-orange-100 text-orange-800",label:"Out for Delivery"},Completed:{color:"bg-green-100 text-green-800",label:"Completed"},Cancelled:{color:"bg-red-100 text-red-800",label:"Cancelled"}},t=s[e]||s.Pending;return(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.color),children:t.label})},S=[{key:"orderId",label:"Order ID",sortable:!0,render:e=>(0,r.jsx)("div",{className:"font-mono text-sm font-medium text-text-primary",children:e.orderId})},{key:"customer",label:"Customer",render:e=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-text-primary",children:[e.customer.firstName," ",e.customer.lastName]}),(0,r.jsx)("div",{className:"text-sm text-text-tertiary",children:e.customer.email})]})},{key:"vendor",label:"Vendor",render:e=>(0,r.jsx)("div",{className:"text-sm font-medium text-text-primary",children:e.vendor.businessName||"".concat(e.vendor.firstName," ").concat(e.vendor.lastName)})},{key:"totalAmount",label:"Amount",sortable:!0,render:e=>(0,r.jsx)("div",{className:"text-sm font-medium text-text-primary",children:(0,j.x)(e.totalAmount)})},{key:"status",label:"Status",sortable:!0,render:e=>L(e.statusText)},{key:"orderDate",label:"Order Date",sortable:!0,render:e=>new Date(e.orderDate).toLocaleDateString()},{key:"actions",label:"Actions",render:e=>(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),C(e)},className:"text-primary-600 hover:text-primary-700 p-1 rounded transition-colors",title:"View Details",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),F(e)},className:"text-yellow-600 hover:text-yellow-700 p-1 rounded transition-colors",title:"Edit Order",children:(0,r.jsx)(n,{className:"h-4 w-4"})}),"Completed"!==e.statusText&&"Cancelled"!==e.statusText&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),O(e)},className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Track Order",children:(0,r.jsx)(l,{className:"h-4 w-4"})}),e.rider&&("RiderAssigned"===e.statusText||"RiderArrived"===e.statusText||"OutForDelivery"===e.statusText)&&(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),D(e)},className:"text-orange-600 hover:text-orange-700 p-1 rounded transition-colors",title:"Replace Rider",children:(0,r.jsx)(d,{className:"h-4 w-4"})}),(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),R(e)},className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Cancel Order",children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})]})]})}];return v?(0,r.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-surface-100 rounded mb-4 w-40"}),(0,r.jsx)("div",{className:"space-y-3",children:[...Array(10)].map((e,s)=>(0,r.jsx)("div",{className:"h-16 bg-surface-100 rounded"},s))})]})}):N?(0,r.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-text-primary",children:"Failed to load orders"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-text-secondary",children:"Unable to fetch orders. Please try again."})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{data:(null==y?void 0:y.items)||[],columns:S,loading:v,pagination:y?{pageNumber:y.pageNumber,pageSize:y.pageSize,totalCount:y.totalCount}:void 0,onRowClick:C}),(0,r.jsx)(A,{isOpen:x,onClose:()=>{u(!1),m(null)},order:t}),(0,r.jsx)(P,{isOpen:h,onClose:()=>{p(!1),b(null)},order:g})]})}var Z=t(94565);function T(e){let{filters:s,onFiltersChange:t}=e,a=e=>{t({...s,search:e,page:1})},i=e=>{t({...s,status:e||void 0,page:1})},n=e=>{t({...s,dateFrom:e||void 0,page:1})};return(0,r.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Search Orders"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(C.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary"}),(0,r.jsx)("input",{type:"text",placeholder:"Search by order ID, customer, or vendor...",value:s.search||"",onChange:e=>a(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Status"}),(0,r.jsxs)("select",{value:s.status||"",onChange:e=>i(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"Pending",children:"Pending"}),(0,r.jsx)("option",{value:"Preparing",children:"Preparing"}),(0,r.jsx)("option",{value:"RiderAssigned",children:"Rider Assigned"}),(0,r.jsx)("option",{value:"RiderArrived",children:"Rider Arrived"}),(0,r.jsx)("option",{value:"OutForDelivery",children:"Out for Delivery"}),(0,r.jsx)("option",{value:"Completed",children:"Completed"}),(0,r.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Date Range"}),(0,r.jsx)("input",{type:"date",value:s.dateFrom||"",onChange:e=>n(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5 text-text-tertiary"}),(0,r.jsxs)("span",{className:"text-sm text-text-tertiary",children:[Object.values(s).filter(Boolean).length," filter(s) applied"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{className:"px-3 py-1 text-sm bg-orange-100 text-orange-800 rounded-full",children:[47," Active Orders"]}),(0,r.jsxs)("button",{className:"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-full",children:[15," Pending"]})]}),(0,r.jsx)("button",{onClick:()=>t({page:1,limit:10,sortBy:"orderDate",sortOrder:"desc"}),className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Clear Filters"})]})]})]})}function I(){return(0,r.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6 h-96",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-surface-1 rounded-card p-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Live Order Tracking"}),(0,r.jsx)("p",{className:"text-text-tertiary mb-4",children:"Real-time visualization of active orders and delivery progress"}),(0,r.jsx)("div",{className:"text-sm text-text-tertiary",children:"Order tracking map integration coming soon..."})]})})})})}var E=t(20322),M=t(81177);function B(e){let{isOpen:s,onClose:t,order:i}=e,[n,l]=(0,a.useState)(""),[d,o]=(0,a.useState)(null),[m,x]=(0,a.useState)(""),[u,h]=(0,a.useState)({show:!1,message:"",type:"success"}),{data:p,isLoading:b,error:f,refetch:y,isFetching:v}=(0,L.LY)(),N=g(),w=(0,a.useMemo)(()=>p&&n?p.filter(e=>e.fullName.toLowerCase().includes(n.toLowerCase())||e.phoneNumber.includes(n)):p||[],[p,n]),k=async()=>{if(i&&d)try{let e=await N.mutateAsync({orderId:i.id,riderId:d.id,notes:m||void 0});e.success?(h({show:!0,message:"Rider ".concat(d.fullName," successfully assigned to order ").concat(i.orderId),type:"success"}),setTimeout(()=>{t(),o(null),x(""),l("")},2e3)):h({show:!0,message:e.message||"Failed to assign rider",type:"error"})}catch(e){h({show:!0,message:"Failed to assign rider. Please try again.",type:"error"})}},A=e=>{let s={0:{bg:"bg-yellow-50",text:"text-yellow-700",border:"border-yellow-200",dot:"bg-yellow-500",label:"Pending"},1:{bg:"bg-success-50",text:"text-success-700",border:"border-success-200",dot:"bg-success-500",label:"Available"},2:{bg:"bg-warning-50",text:"text-warning-700",border:"border-warning-200",dot:"bg-warning-500",label:"Busy"},3:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",dot:"bg-gray-400",label:"Offline"},4:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",dot:"bg-blue-500",label:"On Break"},5:{bg:"bg-danger-50",text:"text-danger-700",border:"border-danger-200",dot:"bg-danger-500",label:"Suspended"}},t=s[e.status]||s[3];return(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ".concat(t.bg," ").concat(t.text," ").concat(t.border),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full mr-1 ".concat(t.dot)}),t.label]})};return s?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,r.jsxs)("div",{className:"relative inline-block align-bottom bg-surface-0 rounded-card text-left overflow-hidden shadow-soft-lg transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[(0,r.jsx)("div",{className:"bg-surface-0 px-4 py-3 sm:px-6 border-b border-border-light",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-text-primary",id:"modal-title",children:"Assign Rider to Order"}),i&&(0,r.jsxs)("p",{className:"text-sm text-text-secondary mt-1",children:["Order #",i.orderId," • ",i.customerName," • ",(0,j.x)(i.totalAmount)]})]}),(0,r.jsxs)("button",{type:"button",className:"bg-surface-0 rounded-button text-text-tertiary hover:text-text-secondary focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),(0,r.jsx)(c.Z,{className:"h-6 w-6","aria-hidden":"true"})]})]})}),(0,r.jsxs)("div",{className:"bg-surface-0 px-4 py-6 sm:px-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"rider-search",className:"block text-sm font-medium text-text-secondary mb-2",children:"Search Available Riders"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(C.Z,{className:"h-5 w-5 text-text-tertiary","aria-hidden":"true"})}),(0,r.jsx)("input",{type:"text",id:"rider-search",className:"block w-full pl-10 pr-3 py-2 border border-border-default rounded-button focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Search by name or phone number...",value:n,onChange:e=>l(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-text-secondary",children:"Available Riders"}),(0,r.jsx)("button",{onClick:()=>y(),disabled:v,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-primary-700 bg-primary-50 border border-primary-200 rounded-button hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.$,{size:"sm",className:"mr-1"}),"Refreshing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),b&&(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(O.$,{size:"md"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-text-secondary",children:"Loading available riders..."})]}),f&&(0,r.jsx)("div",{className:"bg-danger-50 border border-danger-200 rounded-button p-4",children:(0,r.jsx)("p",{className:"text-sm text-danger-700",children:"Failed to load available riders. Please try again."})}),!b&&!f&&(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto border border-border-light rounded-button",children:0===w.length?(0,r.jsxs)("div",{className:"p-6 text-center",children:[(0,r.jsx)(R.Z,{className:"mx-auto h-12 w-12 text-text-tertiary"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-text-secondary",children:n?"No riders found matching your search.":"No available riders at the moment."})]}):(0,r.jsx)("div",{className:"divide-y divide-border-light",children:w.map(e=>(0,r.jsxs)("div",{className:"relative p-3 sm:p-4 cursor-pointer transition-all duration-200 hover:bg-surface-50 hover:shadow-sm ".concat((null==d?void 0:d.id)===e.id?"bg-primary-50 border-l-4 border-l-primary-500 shadow-sm":""),onClick:()=>o(e),children:[(0,r.jsx)("div",{className:"block sm:hidden",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary-700",children:e.fullName.split(" ").map(e=>e[0]).join("").substring(0,2)})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-text-primary truncate",children:e.fullName}),(0,r.jsx)("p",{className:"text-xs text-text-secondary truncate",children:e.phoneNumber})]}),(0,r.jsx)("div",{className:"ml-2 flex-shrink-0",children:A(e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(F.Z,{className:"h-3 w-3 text-warning-500 mr-1"}),(0,r.jsx)("span",{className:"text-text-secondary font-medium",children:e.rating.toFixed(1)})]}),(0,r.jsxs)("span",{className:"text-text-secondary",children:[e.completedDeliveries," deliveries"]}),(0,r.jsxs)("span",{className:"text-text-secondary",children:[e.acceptanceRate.toFixed(0),"% accept rate"]})]}),e.activeAssignments>0&&(0,r.jsxs)("span",{className:"text-warning-600 bg-warning-50 px-2 py-0.5 rounded-full font-medium",children:[e.activeAssignments," active"]})]})]})]})}),(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-semibold text-primary-700",children:e.fullName.split(" ").map(e=>e[0]).join("").substring(0,2)})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,r.jsx)("p",{className:"text-base font-semibold text-text-primary truncate",children:e.fullName})}),(0,r.jsxs)("p",{className:"text-sm text-text-secondary truncate mb-2",children:[e.phoneNumber," • ",e.statusText]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(F.Z,{className:"h-4 w-4 text-warning-500 mr-1.5"}),(0,r.jsx)("span",{className:"text-sm text-text-secondary font-medium",children:e.rating.toFixed(1)})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(R.Z,{className:"h-4 w-4 text-text-tertiary mr-1.5"}),(0,r.jsxs)("span",{className:"text-sm text-text-secondary",children:[e.completedDeliveries," deliveries"]})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"text-sm text-text-secondary",children:[e.acceptanceRate.toFixed(0),"% accept rate"]})}),e.activeAssignments>0&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-warning-100 text-warning-800",children:[e.activeAssignments," active"]})]})]})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 ml-4",children:A(e)})]})}),(null==d?void 0:d.id)===e.id&&(0,r.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 bg-primary-500 rounded-full sm:hidden"})]},e.id))})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"assignment-notes",className:"block text-sm font-medium text-text-secondary mb-2",children:"Assignment Notes (Optional)"}),(0,r.jsx)("textarea",{id:"assignment-notes",rows:3,className:"block w-full px-3 py-2 border border-border-default rounded-button focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",placeholder:"Add any special instructions or notes for the rider...",value:m,onChange:e=>x(e.target.value)})]}),d&&(0,r.jsxs)("div",{className:"bg-primary-50 border border-primary-200 rounded-button p-4 mb-6",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-primary-800 mb-2",children:"Selected Rider"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-primary-900",children:d.fullName}),(0,r.jsxs)("p",{className:"text-xs text-primary-700",children:[d.rating.toFixed(1),"★ • ",d.completedDeliveries," deliveries • ",d.acceptanceRate.toFixed(0),"% acceptance rate"]}),d.activeAssignments>0&&(0,r.jsxs)("p",{className:"text-xs text-warning-700",children:["Currently has ",d.activeAssignments," active assignment(s)"]})]}),A(d)]})]})]}),(0,r.jsxs)("div",{className:"bg-surface-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t border-border-light",children:[(0,r.jsxs)("button",{type:"button",className:"w-full inline-flex justify-center rounded-button border border-transparent shadow-soft px-4 py-2 bg-primary-500 text-base font-medium text-text-inverse hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:k,disabled:!d||N.isPending,children:[N.isPending&&(0,r.jsx)(O.$,{size:"sm",className:"mr-2"}),N.isPending?"Assigning...":"Assign Rider"]}),(0,r.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-button border border-border-default shadow-soft px-4 py-2 bg-surface-0 text-base font-medium text-text-secondary hover:bg-surface-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:t,children:"Cancel"})]})]})]}),u.show&&(0,r.jsx)(D.F,{message:u.message,type:u.type,onClose:()=>h({...u,show:!1})})]}):null}function V(){let[e,s]=(0,a.useState)(null),[t,i]=(0,a.useState)(!1),{data:n,isLoading:l,error:d,refetch:c,isFetching:o}=p({enabled:!0}),m=e=>{s(e),i(!0)},x=e=>{let s=new Date,t=new Date(e),r=Math.floor((s.getTime()-t.getTime())/6e4);return r<60?"".concat(r,"m ago"):r<1440?"".concat(Math.floor(r/60),"h ago"):"".concat(Math.floor(r/1440),"d ago")},u=e=>{let s={Preparing:{bg:"bg-warning-50",text:"text-warning-700",border:"border-warning-200"},NoRiderFound:{bg:"bg-danger-50",text:"text-danger-700",border:"border-danger-200"}},t=s[e]||s.Preparing;return(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t.bg," ").concat(t.text," border ").concat(t.border),children:"NoRiderFound"===e?"No Rider Found":e})};return l?(0,r.jsx)(M.Z,{title:"Loading pending orders..."}):d?(0,r.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-danger-50 rounded-full p-3 inline-flex",children:(0,r.jsx)(E.Z,{className:"h-6 w-6 text-danger-600"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-text-primary",children:"Failed to load orders"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-text-secondary",children:"Unable to fetch pending orders. Please try again."}),(0,r.jsx)("button",{onClick:()=>c(),className:"mt-4 px-4 py-2 bg-primary-500 text-text-inverse rounded-button hover:bg-primary-600 transition-colors",children:"Retry"})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light",children:[(0,r.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-border-light",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-text-primary",children:"Orders Awaiting Rider Assignment"}),(0,r.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Orders currently preparing or without assigned riders"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsx)("button",{onClick:()=>c(),disabled:o,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-primary-700 bg-primary-50 border border-primary-200 rounded-button hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.$,{size:"sm"}),(0,r.jsx)("span",{className:"ml-2",children:"Refreshing..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})})]})}),n&&0!==n.length?(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"block sm:hidden",children:(0,r.jsx)("div",{className:"divide-y divide-border-light",children:n.map(e=>(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-text-primary",children:["Order #",e.orderId]}),(0,r.jsx)("p",{className:"text-xs text-text-secondary",children:x(e.orderDate)})]}),u(e.status)]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-xs font-medium text-primary-700",children:e.customerName.split(" ").map(e=>e[0]).join("")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:e.customerName}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:(0,r.jsx)("span",{className:"text-xs text-text-secondary",children:e.isDelivery?"Delivery":"Pickup"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-text-secondary",children:"Total:"}),(0,r.jsx)("span",{className:"font-medium text-text-primary",children:(0,j.x)(e.totalAmount)})]}),e.isDelivery&&e.deliveryAddress&&(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 text-text-tertiary mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-xs text-text-secondary leading-relaxed",children:e.deliveryAddress})]}),e.assignmentAttempts>0&&(0,r.jsx)("div",{className:"flex items-center space-x-1 text-xs text-warning-600",children:(0,r.jsxs)("span",{children:["Assignment attempts: ",e.assignmentAttempts]})})]}),(0,r.jsx)("button",{onClick:()=>m(e),className:"w-full px-3 py-2 bg-primary-500 text-text-inverse rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 text-sm font-medium",children:"Assign Rider"})]},e.id))})}),(0,r.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-border-light",children:[(0,r.jsx)("thead",{className:"bg-surface-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Order"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Customer"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Vendor"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Amount"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Time"}),(0,r.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{className:"bg-surface-0 divide-y divide-border-light",children:n.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-surface-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-text-primary",children:["#",e.orderId]}),e.isDelivery&&e.deliveryAddress&&(0,r.jsx)("div",{className:"text-xs text-text-secondary max-w-xs truncate",children:e.deliveryAddress}),e.assignmentAttempts>0&&(0,r.jsxs)("div",{className:"text-xs text-warning-600",children:[e.assignmentAttempts," attempts"]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,r.jsx)("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary-700",children:e.customerName.split(" ").map(e=>e[0]).join("")})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-text-primary",children:e.customerName}),(0,r.jsx)("div",{className:"text-xs text-text-secondary",children:e.isDelivery?"Delivery":"Pickup"})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-text-primary",children:e.vendorName})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:u(e.status)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:(0,j.x)(e.totalAmount)}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-text-primary",children:x(e.orderDate)}),e.lastAssignmentAttempt&&(0,r.jsxs)("div",{className:"text-xs text-text-secondary",children:["Last attempt: ",x(e.lastAssignmentAttempt)]})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1.5 bg-primary-500 text-text-inverse rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all duration-200 text-sm font-medium",children:"Assign Rider"})})]},e.id))})]})})]}):(0,r.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,r.jsx)(R.Z,{className:"mx-auto h-12 w-12 text-text-tertiary"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-text-primary",children:"No pending orders"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-text-secondary",children:"All orders currently have riders assigned or are not ready for assignment."})]})]}),(0,r.jsx)(B,{isOpen:t,onClose:()=>{i(!1),s(null)},order:e})]})}function z(){let[e,s]=(0,a.useState)({page:1,limit:10,sortBy:"orderDate",sortOrder:"desc"}),[t,i]=(0,a.useState)("table");return(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-text-primary tracking-tight",children:"Order Management"}),(0,r.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Track orders and manage deliveries"})]}),(0,r.jsx)("button",{className:"w-full sm:w-auto px-4 py-2.5 bg-primary-500 text-text-inverse rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium sm:hidden","aria-label":"Export orders",children:"Export"})]}),(0,r.jsxs)("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex rounded-lg overflow-hidden border border-border-default w-full xs:w-auto",role:"tablist","aria-label":"View mode selection",children:[(0,r.jsxs)("button",{onClick:()=>i("table"),className:"flex-1 xs:flex-none px-2 sm:px-4 py-2 text-sm font-medium transition-colors focus:ring-2 focus:ring-primary-500 ".concat("table"===t?"bg-primary-500 text-text-inverse":"bg-surface-0 text-text-secondary hover:bg-surface-50"),role:"tab","aria-selected":"table"===t,"aria-label":"Switch to order list view",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Order List"}),(0,r.jsx)("span",{className:"sm:hidden",children:"List"})]}),(0,r.jsxs)("button",{onClick:()=>i("pending"),className:"flex-1 xs:flex-none px-2 sm:px-4 py-2 text-sm font-medium transition-colors focus:ring-2 focus:ring-primary-500 ".concat("pending"===t?"bg-primary-500 text-text-inverse":"bg-surface-0 text-text-secondary hover:bg-surface-50"),role:"tab","aria-selected":"pending"===t,"aria-label":"Switch to pending assignment view",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Pending Assignment"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Pending"})]}),(0,r.jsxs)("button",{onClick:()=>i("tracking"),className:"flex-1 xs:flex-none px-2 sm:px-4 py-2 text-sm font-medium transition-colors focus:ring-2 focus:ring-primary-500 ".concat("tracking"===t?"bg-primary-500 text-text-inverse":"bg-surface-0 text-text-secondary hover:bg-surface-50"),role:"tab","aria-selected":"tracking"===t,"aria-label":"Switch to live tracking view",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"Live Tracking"}),(0,r.jsx)("span",{className:"sm:hidden",children:"Track"})]})]}),(0,r.jsx)("button",{className:"hidden sm:block px-4 py-2.5 bg-primary-500 text-text-inverse rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium","aria-label":"Export orders",children:"Export Orders"})]})]}),"table"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{filters:e,onFiltersChange:s}),(0,r.jsx)(S,{filters:e})]}),"pending"===t&&(0,r.jsx)(V,{}),"tracking"===t&&(0,r.jsx)(I,{})]})}},94725:function(e,s,t){"use strict";var r=t(2265);let a=r.forwardRef(function(e,s){let{title:t,titleId:a,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},i),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))});s.Z=a}},function(e){e.O(0,[464,763,206,610,770,485,971,117,744],function(){return e(e.s=86638)}),_N_E=e.O()}]);