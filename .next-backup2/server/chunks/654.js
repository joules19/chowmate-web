"use strict";exports.id=654,exports.ids=[654],exports.modules={15974:(e,t,r)=>{r.d(t,{Z:()=>l});var s=r(10326),a=r(17577),i=r(54232),n=r(19018),d=r(40594),o=r(73889);function l({data:e,columns:t,loading:r=!1,pagination:l,onSort:c,onPageChange:u,onRowClick:p}){let[h,m]=(0,a.useState)(null),g=e=>{let t="asc";h&&h.key===e&&"asc"===h.direction&&(t="desc"),m({key:e,direction:t}),c?.(e,t)},x=(e,t)=>t.render?t.render(e):e[t.key];return r?s.jsx("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-12 bg-surface-100 rounded-t-card"}),[void 0,void 0,void 0,void 0,void 0].map((e,t)=>s.jsx("div",{className:"h-16 bg-surface-50 border-t border-border-light"},t))]})}):(0,s.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-border-default",children:[s.jsx("thead",{className:"bg-surface-100",children:s.jsx("tr",{children:t.map(e=>s.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-surface-200":""}`,onClick:()=>e.sortable&&g(e.key),children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{children:e.label}),e.sortable&&(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx(i.Z,{className:`h-3 w-3 ${h?.key===e.key&&h?.direction==="asc"?"text-primary-500":"text-text-quaternary"}`}),s.jsx(n.Z,{className:`h-3 w-3 -mt-1 ${h?.key===e.key&&h?.direction==="desc"?"text-primary-500":"text-text-quaternary"}`})]})]})},e.key))})}),(0,s.jsxs)("tbody",{className:"bg-surface-0 divide-y divide-border-light",children:[e.map((e,r)=>s.jsx("tr",{className:`${p?"cursor-pointer hover:bg-surface-50":""}`,onClick:()=>p?.(e),children:t.map(t=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:x(e,t)},t.key))},r)),0===e.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:t.length,className:"px-6 py-12 text-center text-text-tertiary",children:"No data available"})})]})]})}),l&&s.jsx("div",{className:"bg-surface-0 px-4 py-3 border-t border-border-default sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>u?.(l.pageNumber-1),disabled:l.pageNumber<=1,className:"relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-secondary bg-surface-0 hover:bg-surface-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>u?.(l.pageNumber+1),disabled:l.pageNumber>=(l.totalPages||Math.ceil((l.totalCount||0)/(l.pageSize||1))),className:"ml-3 relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-secondary bg-surface-0 hover:bg-surface-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:(0,s.jsxs)("p",{className:"text-sm text-text-secondary",children:["Showing"," ",s.jsx("span",{className:"font-medium",children:(l.pageNumber-1)*l.pageSize+1})," ","to"," ",s.jsx("span",{className:"font-medium",children:Math.min(l.pageNumber*l.pageSize,l.totalCount)})," ","of"," ",s.jsx("span",{className:"font-medium",children:l.totalCount})," results"]})}),s.jsx("div",{children:(0,s.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[s.jsx("button",{onClick:()=>u?.(l.pageNumber-1),disabled:l.pageNumber<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-border-default bg-surface-0 text-sm font-medium text-text-tertiary hover:bg-surface-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(d.Z,{className:"h-5 w-5"})}),[...Array(l.totalPages||Math.ceil((l.totalCount||0)/(l.pageSize||1)))].map((e,t)=>{let r=t+1;return s.jsx("button",{onClick:()=>u?.(r),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${r===l.pageNumber?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-surface-0 border-border-default text-text-tertiary hover:bg-surface-50"}`,children:r},r)}),s.jsx("button",{onClick:()=>u?.(l.pageNumber+1),disabled:l.pageNumber>=(l.totalPages||Math.ceil((l.totalCount||0)/(l.pageSize||1))),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-border-default bg-surface-0 text-sm font-medium text-text-tertiary hover:bg-surface-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(o.Z,{className:"h-5 w-5"})})]})})]})]})})]})}},3884:(e,t,r)=>{r.d(t,{Z:()=>d});var s=r(10326),a=r(17577),i=r(61994);let n=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))});function d({text:e,className:t="",iconClassName:r="h-3 w-3"}){let[d,o]=(0,a.useState)(!1),l=async t=>{t.stopPropagation();try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return s.jsx("button",{onClick:l,className:`inline-flex items-center text-gray-400 hover:text-gray-600 transition-colors ${t}`,title:d?"Copied!":"Copy to clipboard",children:d?s.jsx(i.Z,{className:`text-green-500 ${r}`}):s.jsx(n,{className:r})})}},34313:(e,t,r)=>{r.d(t,{F:()=>o});var s=r(10326);r(17577);var a=r(83401),i=r(36902),n=r(72591),d=r(41135);function o({message:e,type:t,onClose:r,duration:o=4e3}){let{icon:l,bgColor:c,iconColor:u,textColor:p}={success:{icon:a.Z,bgColor:"bg-success-50 border-success-200",iconColor:"text-success-500",textColor:"text-success-800"},error:{icon:i.Z,bgColor:"bg-danger-50 border-danger-200",iconColor:"text-danger-500",textColor:"text-danger-800"}}[t];return s.jsx("div",{className:"fixed top-4 right-4 z-[9999] transform transition-all duration-300 ease-out",style:{animation:"slideInRight 0.3s ease-out"},children:s.jsx("div",{className:(0,d.W)("pointer-events-auto w-full max-w-sm overflow-hidden rounded-card border shadow-soft-lg",c),children:s.jsx("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(l,{className:(0,d.W)("h-5 w-5",u)})}),s.jsx("div",{className:"flex-1 min-w-0 pt-0.5",children:s.jsx("p",{className:(0,d.W)("text-sm font-medium break-words",p),children:e})}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:(0,s.jsxs)("button",{type:"button",className:(0,d.W)("inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",u,"hover:bg-white hover:bg-opacity-20"),onClick:r,children:[s.jsx("span",{className:"sr-only",children:"Dismiss"}),s.jsx(n.Z,{className:"h-4 w-4"})]})})]})})})})}},93911:(e,t,r)=>{r.d(t,{T:()=>a});var s=r(47785);class a extends s.R{constructor(){super("api/admin")}async getDashboardStats(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let r=`/dashboard/stats${t.toString()?`?${t}`:""}`;return this.get(r)}async getRevenueData(e){let t=new URLSearchParams;e?.timeRange&&t.append("timeRange",e.timeRange),e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let r=`/dashboard/revenue${t.toString()?`?${t}`:""}`;return this.get(r)}async getOrderStatusData(e){let t=new URLSearchParams;e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let r=`/dashboard/order-status${t.toString()?`?${t}`:""}`;return this.get(r)}async getDashboardAnalytics(e){let t=new URLSearchParams;e?.timeRange&&t.append("timeRange",e.timeRange),e?.startDate&&t.append("startDate",e.startDate),e?.endDate&&t.append("endDate",e.endDate);let r=`/dashboard/analytics${t.toString()?`?${t}`:""}`;return this.get(r)}async getRecentActivities(e){let t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.severity&&t.append("severity",e.severity),e?.fromDate&&t.append("fromDate",e.fromDate),e?.toDate&&t.append("toDate",e.toDate),e?.pageNumber&&t.append("pageNumber",e.pageNumber.toString()),e?.pageSize&&t.append("pageSize",e.pageSize.toString());let r=`/activities/recent${t.toString()?`?${t}`:""}`;return this.get(r)}async getUserActivities(e,t=10){let r=`/activities/user/${e}?limit=${t}`;return this.get(r)}async getEntityActivities(e,t,r=10){let s=`/activities/entity/${e}/${t}?limit=${r}`;return this.get(s)}async exportDashboardReport(e){return this.post("/export",e||{})}}},37540:(e,t,r)=>{r.d(t,{V:()=>o});var s=r(93911),a=r(28951),i=r(47785);class n extends i.R{constructor(){super("api/admin/orders")}async getAllOrders(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,r.toString())});let r=t.toString()?`?${t}`:"";return this.get(r)}async getOrdersPendingAssignment(){return this.get("/pending-assignment")}async assignRiderToOrder(e){return this.post("/assign-rider",e)}async replaceOrderRider(e){return this.post("/replace-rider",e)}async updateStatus(e,t,r){return this.put(`/${e}/status`,{status:t,notes:r})}async assignRider(e,t){return this.post(`/${e}/assign-rider`,{riderId:t})}async cancel(e,t){return this.post(`/${e}/cancel`,{reason:t})}async refund(e,t,r){return this.post(`/${e}/refund`,{amount:t,reason:r})}async getTracking(e){return this.get(`/${e}/tracking`)}async getLiveOrders(){return this.get("/live")}async getOrderAnalytics(e){let t=new URLSearchParams;e&&(t.append("from",e.from),t.append("to",e.to));let r=`/analytics${t.toString()?`?${t}`:""}`;return this.get(r)}}class d extends i.R{constructor(){super("api/admin/riders")}async getAllRiders(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,r.toString())});let r=t.toString()?`/all-riders?${t}`:"/all-riders";return this.get(r)}async getAvailableRiders(){return this.get("/available-riders")}async approve(e,t){return this.put(`/${e}/approve`,t)}async reject(e,t){return this.post(`/${e}/reject`,{reason:t})}async suspend(e,t){return this.put(`/${e}/suspend`,t)}async activate(e){return this.put(`/${e}/activate`,{})}async updateStatus(e,t,r){return this.put(`/${e}/status`,{status:t,notes:r})}async getLocation(e){return this.get(`/${e}/location`)}async getOnlineRiders(){return this.get("/online")}async getPerformanceMetrics(e,t){let r=new URLSearchParams;t&&(r.append("from",t.from),r.append("to",t.to));let s=`/${e}/performance${r.toString()?`?${r}`:""}`;return this.get(s)}async getDeliveryHistory(e,t){let r=new URLSearchParams;t&&Object.entries(t).forEach(([e,t])=>{null!=t&&r.append(e,t.toString())});let s=`/${e}/deliveries${r.toString()?`?${r}`:""}`;return this.get(s)}async getRiderZoneAssignments(e){return this.get(`/${e}/zones`)}async assignRiderToZone(e,t){return this.post(`/${e}/assign-zone`,t)}async removeRiderFromZone(e,t){return this.deleteRequest(`/${e}/zones/${t}`)}}class o{static{this.vendors=null}static{this.orders=null}static{this.riders=null}static{this.users=null}static{this.dashboardRepo=null}static getDashboardRepository(){return this.dashboardRepo||(this.dashboardRepo=new s.T),this.dashboardRepo}static getVendorRepository(){return this.vendors||(this.vendors=new a.y),this.vendors}static getOrderRepository(){return this.orders||(this.orders=new n),this.orders}static getRiderRepository(){return this.riders||(this.riders=new d),this.riders}static getUserRepository(){if(!this.users)throw Error("UserRepository not implemented");return this.users}static clearCache(){this.vendors=null,this.orders=null,this.riders=null,this.users=null,this.dashboardRepo=null}static get vendor(){return this.getVendorRepository()}static get order(){return this.getOrderRepository()}static get rider(){return this.getRiderRepository()}static get dashboard(){return this.getDashboardRepository()}}},33526:(e,t,r)=>{r.d(t,{AT:()=>g,Kx:()=>b,LY:()=>u,UW:()=>m,WU:()=>y,a_:()=>x,if:()=>c,l:()=>p,yH:()=>h});var s=r(20108),a=r(44976),i=r(10119),n=r(37540),d=r(28951);let o=n.V.rider,l=new d.y,c=e=>(0,s.a)({queryKey:["riders",e],queryFn:()=>o.getAllRiders(e),staleTime:1e4,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchInterval:6e4}),u=()=>(0,s.a)({queryKey:["riders","available"],queryFn:()=>o.getAvailableRiders(),refetchInterval:2e4,staleTime:5e3,refetchOnMount:!0,refetchOnWindowFocus:!0}),p=()=>{let e=(0,a.NL)();return(0,i.D)({mutationFn:({id:e,request:t})=>o.approve(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["riders"]})}})},h=()=>{let e=(0,a.NL)();return(0,i.D)({mutationFn:({id:e,request:t})=>o.suspend(e,t),onSuccess:()=>{e.invalidateQueries({queryKey:["riders"]})}})},m=()=>{let e=(0,a.NL)();return(0,i.D)({mutationFn:e=>o.activate(e),onSuccess:()=>{e.invalidateQueries({queryKey:["riders"]})}})},g=e=>(0,s.a)({queryKey:["riders",e,"zones"],queryFn:()=>o.getRiderZoneAssignments(e),staleTime:3e5,enabled:!!e,retry:2}),x=()=>{let e=(0,a.NL)();return(0,i.D)({mutationFn:({riderId:e,request:t})=>o.assignRiderToZone(e,t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["riders",r.riderId,"zones"]}),e.invalidateQueries({queryKey:["riders"]})}})},y=()=>{let e=(0,a.NL)();return(0,i.D)({mutationFn:({riderId:e,zoneId:t})=>o.removeRiderFromZone(e,t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["riders",r.riderId,"zones"]}),e.invalidateQueries({queryKey:["riders"]})}})},b=()=>(0,s.a)({queryKey:["availableZones"],queryFn:()=>l.getAvailableZones(),staleTime:6e5,refetchInterval:9e5,retry:2})},60882:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(17577);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})}};