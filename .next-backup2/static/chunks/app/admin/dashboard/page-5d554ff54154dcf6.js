(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{82506:function(e,t,a){Promise.resolve().then(a.bind(a,68709))},68709:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var r=a(57437),s=a(11713);let i=new(a(16887)).T,l=e=>["dashboard","stats",e],n=e=>["dashboard","revenue",e],c=e=>["dashboard","order-status",e],d=e=>["dashboard","activities",e],o=(e,t)=>["dashboard","user-activities",e,t],m=(e,t,a)=>["dashboard","entity-activities",e,t,a];var u=a(32930),x=a(94725),g=a(25893),h=a(84874);function v(e){let{filters:t}=e,{data:a,isLoading:n,error:c,refetch:d}=(0,s.a)({queryKey:l(t),queryFn:()=>i.getDashboardStats(t),staleTime:3e5,refetchInterval:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)});if(n)return(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4 sm:p-6 animate-pulse",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-24"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded"})]}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})]},t))});if(c)return(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-card p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-red-600",children:["Failed to load dashboard statistics: ",c.message]}),(0,r.jsx)("button",{onClick:()=>d(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})});if(!a)return(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-card p-4",children:(0,r.jsx)("p",{className:"text-yellow-600",children:"No dashboard data available"})});let o=[{name:"Total Customers",value:a.totalCustomers.toLocaleString(),icon:u.Z,color:"bg-blue-500",change:"+12%",ariaLabel:"Total customers: ".concat(a.totalCustomers.toLocaleString(),", increased by 12% from last month")},{name:"Total Vendors",value:a.totalVendors.toLocaleString(),icon:x.Z,color:"bg-green-500",change:"+8%",badge:a.pendingVendors>0?"".concat(a.pendingVendors," pending"):void 0,ariaLabel:"Total vendors: ".concat(a.totalVendors.toLocaleString(),", increased by 8% from last month").concat(a.pendingVendors>0?", ".concat(a.pendingVendors," pending approval"):"")},{name:"Total Riders",value:a.totalRiders.toLocaleString(),icon:h.Z,color:"bg-purple-500",change:"+15%",ariaLabel:"Total riders: ".concat(a.totalRiders.toLocaleString(),", increased by 15% from last month")},{name:"Total Orders",value:a.totalOrders.toLocaleString(),icon:g.Z,color:"bg-orange-500",change:"+".concat(a.growthRate,"%"),badge:a.activeOrders>0?"".concat(a.activeOrders," active"):void 0,ariaLabel:"Total orders: ".concat(a.totalOrders.toLocaleString(),", increased by ").concat(a.growthRate,"% from last month").concat(a.activeOrders>0?", ".concat(a.activeOrders," currently active"):"")}];return(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",role:"region","aria-label":"Dashboard statistics overview",children:o.map(e=>{let t=e.icon;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 transition-all duration-200 hover:shadow-md focus-within:ring-2 focus-within:ring-blue-500",role:"article","aria-label":e.ariaLabel,tabIndex:0,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500 mb-1 uppercase tracking-wider",children:e.name}),(0,r.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e.value}),e.badge&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-2",role:"status","aria-label":"".concat(e.badge," requiring attention"),children:e.badge})]}),(0,r.jsx)("div",{className:"".concat(e.color," p-2.5 sm:p-3 rounded-lg flex-shrink-0 ml-3"),role:"img","aria-label":"".concat(e.name," icon"),children:(0,r.jsx)(t,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-green-500",role:"status","aria-label":"Growth: ".concat(e.change),children:e.change}),(0,r.jsx)("span",{className:"text-gray-500 ml-1 truncate",children:"from last month"})]})]},e.name)})})}var b=a(2265),p=a(76529);function y(e){var t;let{filters:a}=e,[l,c]=(0,b.useState)("7d"),{data:d,isLoading:o,error:m,refetch:u}=(t={...a,timeRange:l},(0,s.a)({queryKey:n(t),queryFn:()=>i.getRevenueData(t),staleTime:3e5,refetchInterval:9e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}));if(o)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-6 w-40"}),(0,r.jsx)("div",{className:"h-64 sm:h-80 bg-gray-200 rounded"})]})});if(m)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-red-600",children:["Failed to load revenue data: ",m.message]}),(0,r.jsx)("button",{onClick:()=>u(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});if(!d||0===d.length)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:(0,r.jsx)("p",{className:"text-yellow-600",children:"No revenue data available for the selected period"})})});let x=Math.max(...d.map(e=>e.revenue));return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Revenue overview chart",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),(0,r.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",role:"tablist","aria-label":"Time period selection",children:[(0,r.jsx)("button",{onClick:()=>c("7d"),className:"px-3 py-1.5 text-sm rounded-md transition-colors focus:ring-2 focus:ring-blue-500 ".concat("7d"===l?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"),role:"tab","aria-selected":"7d"===l,"aria-label":"Show 7 days data",children:"7 Days"}),(0,r.jsx)("button",{onClick:()=>c("30d"),className:"px-3 py-1.5 text-sm rounded-md transition-colors focus:ring-2 focus:ring-blue-500 ".concat("30d"===l?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"),role:"tab","aria-selected":"30d"===l,"aria-label":"Show 30 days data",children:"30 Days"})]})]}),(0,r.jsx)("div",{className:"h-64 sm:h-80",role:"img","aria-label":"Revenue chart showing ".concat(d.length," data points"),children:(0,r.jsx)("div",{className:"flex items-end justify-between h-full space-x-1 sm:space-x-2",children:d.map((e,t)=>{let a=x>0?e.revenue/x*100:0;return(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1 group",children:[(0,r.jsx)("div",{className:"w-full bg-blue-500 rounded-t-sm transition-all duration-300 hover:bg-blue-600 group-focus-within:ring-2 group-focus-within:ring-blue-500",style:{height:"".concat(a,"%"),minHeight:a>0?"20px":"0px"},title:"".concat(e.day,": ").concat((0,p.x)(e.revenue)),role:"img","aria-label":"".concat(e.day,": ").concat((0,p.x)(e.revenue)),tabIndex:0}),(0,r.jsx)("span",{className:"text-xs text-gray-500 mt-2 truncate max-w-full",children:e.day})]},t)})})}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-500",children:["Total: ",(0,p.x)(d.reduce((e,t)=>e+t.revenue,0))]}),(0,r.jsx)("span",{className:"text-green-600 font-medium",role:"status","aria-label":"Revenue trend",children:"7d"===l?"Last 7 days":"Last 30 days"})]})]})}function f(e){let{filters:t}=e,{data:a,isLoading:l,error:n,refetch:d}=(0,s.a)({queryKey:c(t),queryFn:()=>i.getOrderStatusData(t),staleTime:3e5,refetchInterval:6e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)});if(l)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-6 w-48"}),(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-gray-200 rounded-full"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded flex-1"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})]},t))})]})});if(n)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-red-600",children:["Failed to load order status data: ",n.message]}),(0,r.jsx)("button",{onClick:()=>d(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});if(!a||0===a.length)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4",children:(0,r.jsx)("p",{className:"text-yellow-600",children:"No order status data available"})})});let o=a.reduce((e,t)=>e+t.count,0);return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Order status distribution",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Status Distribution"}),(0,r.jsx)("div",{className:"space-y-3 sm:space-y-4",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",role:"group","aria-label":"".concat(e.status,": ").concat(e.count," orders, ").concat(e.percentage,"%"),children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-shrink-0",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color," flex-shrink-0"),role:"img","aria-label":"".concat(e.status," indicator")}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 truncate",children:e.status})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex-1 w-full sm:w-32 bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"".concat(e.percentage,"% of orders"),children:(0,r.jsx)("div",{className:"h-2 rounded-full ".concat(e.color," transition-all duration-300"),style:{width:"".concat(e.percentage,"%")}})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 w-12 sm:w-16 text-right flex-shrink-0",children:e.count.toLocaleString()}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 w-8 sm:w-10 text-right flex-shrink-0",children:[e.percentage,"%"]})]})]},t))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),(0,r.jsx)("span",{className:"text-lg font-bold text-gray-900",role:"status","aria-label":"Total orders: ".concat(o.toLocaleString()),children:o.toLocaleString()})]})})]})}var j=a(20322),N=a(42548),w=a(40196),D=a(85707),k=a(77165);let C={UserPlusIcon:"\uD83D\uDC64",CheckCircleIcon:"✅",XCircleIcon:"❌",ShoppingBagIcon:"\uD83D\uDECD️",TruckIcon:"\uD83D\uDEB2",XMarkIcon:"❌",UserIcon:"\uD83D\uDC64",CreditCardIcon:"\uD83D\uDCB3",ExclamationTriangleIcon:"⚠️",InformationCircleIcon:"ℹ️"};function S(e){let{isOpen:t,onClose:a,type:l,userId:n,userName:c,entityType:d,entityId:u,entityName:x}=e,[g,h]=(0,b.useState)(20),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(0,s.a)({queryKey:o(e,t),queryFn:()=>i.getUserActivities(e,t),staleTime:3e5,enabled:!!e,retry:2})}(n||"",g),p=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(0,s.a)({queryKey:m(e,t,a),queryFn:()=>i.getEntityActivities(e,t,a),staleTime:3e5,enabled:!!(e&&t),retry:2})}(d||"",u||"",g),{data:y,isLoading:f,error:N}="user"===l?v:p,S="user"===l?"Activity History - ".concat(c||"User"):"Activity History - ".concat(x||"".concat(d," ").concat(u));return(0,r.jsx)(w.u,{appear:!0,show:t,as:b.Fragment,children:(0,r.jsxs)(D.Vq,{as:"div",className:"relative z-50",onClose:a,children:[(0,r.jsx)(w.u.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,r.jsx)(w.u.Child,{as:b.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(D.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)(D.Vq.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:S}),(0,r.jsx)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:a,children:(0,r.jsx)(k.Z,{className:"h-6 w-6"})})]}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:f?(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]})},t))}):N?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-red-600 text-sm",children:["Failed to load activities: ",N.message]})}):y&&0!==y.length?(0,r.jsx)("div",{className:"space-y-3",children:y.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("div",{className:"flex-shrink-0 ".concat(e.iconColor," p-1"),children:(0,r.jsx)("span",{className:"text-lg",children:C[e.icon]||"ℹ️"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat("Success"===e.severity?"bg-green-100 text-green-800":"Warning"===e.severity?"bg-yellow-100 text-yellow-800":"Critical"===e.severity?"bg-red-100 text-red-800":"Error"===e.severity?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.severity})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-400",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),(0,r.jsx)("span",{children:e.timeAgo}),e.additionalData&&(0,r.jsx)("span",{className:"ml-2 text-gray-500",children:"• Additional data available"})]})]})]},e.id))}):(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No activities found"})})}),y&&y.length>0&&y.length>=g&&(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)("button",{onClick:()=>h(e=>e+20),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Load More Activities"})}),(0,r.jsx)("div",{className:"mt-6 flex justify-end",children:(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",onClick:a,children:"Close"})})]})})})})]})})}let R={UserPlusIcon:"\uD83D\uDC64",CheckCircleIcon:"✅",XCircleIcon:"❌",ShoppingBagIcon:"\uD83D\uDECD️",TruckIcon:"\uD83D\uDEB2",XMarkIcon:"❌",UserIcon:"\uD83D\uDC64",CreditCardIcon:"\uD83D\uDCB3",ExclamationTriangleIcon:"⚠️",InformationCircleIcon:"ℹ️"};function L(e){var t;let{filters:a}=e,[l,n]=(0,b.useState)(!1),[c,o]=(0,b.useState)(null),{data:m,isLoading:u,error:x,refetch:g}=(t={...a,pageSize:10},(0,s.a)({queryKey:d(t),queryFn:()=>i.getRecentActivities(t),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})),h=(e,t)=>{o({type:"user",userId:e,userName:t}),n(!0)},v=(e,t,a)=>{o({type:"entity",entityType:e,entityId:t,entityName:a}),n(!0)};if(u)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-6 w-40"}),(0,r.jsx)("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2 w-3/4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},t))})]})});if(x)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"text-red-600",children:["Failed to load recent activities: ",x.message]}),(0,r.jsx)("button",{onClick:()=>g(),className:"px-3 py-1 bg-red-100 hover:bg-red-200 text-red-700 rounded text-sm transition-colors",children:"Retry"})]})})});let p=(null==m?void 0:m.data)||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",role:"region","aria-label":"Recent activities",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),(0,r.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-700 focus:ring-2 focus:ring-blue-500 rounded px-2 py-1 self-start sm:self-auto transition-colors","aria-label":"View all activities",children:"View All"})]}),0===p.length?(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded p-8 text-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No recent activities"})}):(0,r.jsx)("div",{className:"space-y-3 sm:space-y-4",role:"list","aria-label":"Activity list",children:p.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors group",role:"listitem",children:[(0,r.jsx)("div",{className:"flex-shrink-0 ".concat(e.iconColor," p-1"),role:"img","aria-label":"".concat(e.type," activity"),children:(0,r.jsx)("span",{className:"text-lg",children:R[e.icon]||"ℹ️"})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm text-gray-900 leading-relaxed",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 text-gray-400 mr-1 flex-shrink-0","aria-hidden":"true"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",role:"status","aria-label":"Activity occurred ".concat(e.timeAgo),children:e.timeAgo})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.userId&&e.userName&&(0,r.jsx)("button",{onClick:()=>h(e.userId,e.userName),className:"p-1 text-gray-400 hover:text-blue-600 rounded focus:ring-2 focus:ring-blue-500",title:"View ".concat(e.userName,"'s activities"),children:(0,r.jsx)(N.Z,{className:"h-4 w-4"})}),e.entityId&&e.entityType&&e.entityName&&(0,r.jsx)("button",{onClick:()=>v(e.entityType,e.entityId,e.entityName),className:"p-1 text-gray-400 hover:text-blue-600 rounded focus:ring-2 focus:ring-blue-500",title:"View ".concat(e.entityName," audit trail"),children:(0,r.jsx)(N.Z,{className:"h-4 w-4"})})]})]})})]},e.id))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,r.jsx)("button",{className:"w-full text-center text-sm text-gray-500 hover:text-gray-700 focus:ring-2 focus:ring-blue-500 rounded py-2 transition-colors","aria-label":"Load more activities",children:"Load More Activities"})})]}),c&&(0,r.jsx)(S,{isOpen:l,onClose:()=>n(!1),type:c.type,userId:c.userId,userName:c.userName,entityType:c.entityType,entityId:c.entityId,entityName:c.entityName})]})}function I(){return(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary tracking-tight",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Overview of your platform analytics"})]})}),(0,r.jsx)(v,{}),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[(0,r.jsx)("div",{className:"order-1",children:(0,r.jsx)(y,{})}),(0,r.jsx)("div",{className:"order-2",children:(0,r.jsx)(f,{})})]}),(0,r.jsx)(L,{})]})}},16887:function(e,t,a){"use strict";a.d(t,{T:function(){return s}});var r=a(88013);class s extends r.R{async getDashboardStats(e){let t=new URLSearchParams;(null==e?void 0:e.startDate)&&t.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.append("endDate",e.endDate);let a="/dashboard/stats".concat(t.toString()?"?".concat(t):"");return this.get(a)}async getRevenueData(e){let t=new URLSearchParams;(null==e?void 0:e.timeRange)&&t.append("timeRange",e.timeRange),(null==e?void 0:e.startDate)&&t.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.append("endDate",e.endDate);let a="/dashboard/revenue".concat(t.toString()?"?".concat(t):"");return this.get(a)}async getOrderStatusData(e){let t=new URLSearchParams;(null==e?void 0:e.startDate)&&t.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.append("endDate",e.endDate);let a="/dashboard/order-status".concat(t.toString()?"?".concat(t):"");return this.get(a)}async getDashboardAnalytics(e){let t=new URLSearchParams;(null==e?void 0:e.timeRange)&&t.append("timeRange",e.timeRange),(null==e?void 0:e.startDate)&&t.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.append("endDate",e.endDate);let a="/dashboard/analytics".concat(t.toString()?"?".concat(t):"");return this.get(a)}async getRecentActivities(e){let t=new URLSearchParams;(null==e?void 0:e.type)&&t.append("type",e.type),(null==e?void 0:e.severity)&&t.append("severity",e.severity),(null==e?void 0:e.fromDate)&&t.append("fromDate",e.fromDate),(null==e?void 0:e.toDate)&&t.append("toDate",e.toDate),(null==e?void 0:e.pageNumber)&&t.append("pageNumber",e.pageNumber.toString()),(null==e?void 0:e.pageSize)&&t.append("pageSize",e.pageSize.toString());let a="/activities/recent".concat(t.toString()?"?".concat(t):"");return this.get(a)}async getUserActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a="/activities/user/".concat(e,"?limit=").concat(t);return this.get(a)}async getEntityActivities(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="/activities/entity/".concat(e,"/").concat(t,"?limit=").concat(a);return this.get(r)}async exportDashboardReport(e){return this.post("/export",e||{})}constructor(){super("api/admin")}}},94725:function(e,t,a){"use strict";var r=a(2265);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))});t.Z=s},20322:function(e,t,a){"use strict";var r=a(2265);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=s},25893:function(e,t,a){"use strict";var r=a(2265);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=s},32930:function(e,t,a){"use strict";var r=a(2265);let s=r.forwardRef(function(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});t.Z=s},96471:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:a,strokeWidth:c?24*Number(n)/Number(s):n,className:i("lucide",d),...u},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:c,...d}=a;return(0,r.createElement)(n,{ref:l,iconNode:t,className:i("lucide-".concat(s(e)),c),...d})});return a.displayName="".concat(e),a}},84874:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(96471).Z)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])}},function(e){e.O(0,[464,763,206,707,770,971,117,744],function(){return e(e.s=82506)}),_N_E=e.O()}]);