(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{11950:function(e,t,s){Promise.resolve().then(s.bind(s,69506))},69506:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return er}});var r,a,n,i,l=s(57437),o=s(2265);let c=o.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?o.createElement("title",{id:r},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});var d=s(43836),m=s(90173),u=s(81801),x=s(56422),p=s(69390),h=s(42548),g=s(87233),f=s(77165),v=s(60007),b=s(59035);let y=o.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?o.createElement("title",{id:r},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))});(r=n||(n={})).PendingApproval="PendingApproval",r.Approved="Approved",r.UnderReview="UnderReview",r.Suspended="Suspended",r.Rejected="Rejected",r.RequiresManualReview="RequiresManualReview",r.Inactive="Inactive",(a=i||(i={})).None="None",a.DeliveryOnly="DeliveryOnly",a.PickupOnly="PickupOnly",a.Both="Both";var j=s(40196),N=s(85707),w=s(20301),k=s(61601),C=s(11713),S=s(29827),A=s(21770);let V=new(s(39466)).y,F={all:["vendors"],lists:()=>[...F.all,"list"],list:e=>[...F.lists(),e],details:()=>[...F.all,"detail"],detail:e=>[...F.details(),e],zones:e=>[...F.detail(e),"zones"],stats:(e,t)=>[...F.all,"stats",e,t],activities:(e,t)=>[...F.detail(e),"activities",t]};function R(){return(0,C.a)({queryKey:["availableZones"],queryFn:()=>V.getAvailableZones(),staleTime:6e5,refetchInterval:9e5,retry:2})}function Z(e,t){return(0,C.a)({queryKey:F.stats(e,t),queryFn:()=>V.getVendorStats(e,t),staleTime:6e5,refetchInterval:9e5,retry:2})}var T=s(81177),q=s(42190),D=s(28026),z=s(41021);function L(e){let{vendorId:t,isOpen:s,onClose:r}=e,[a,n]=(0,o.useState)(""),[i,c]=(0,o.useState)(!0),[m,u]=(0,o.useState)(""),[p,h]=(0,o.useState)(""),[v,b]=(0,o.useState)(!1),[y,Z]=(0,o.useState)(null),[L,P]=(0,o.useState)({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1}),[O,E]=(0,o.useState)({canDeliverTo:!0,customDeliveryFee:"",customDeliveryTime:""}),{data:I,isLoading:M,refetch:B}=(0,C.a)({queryKey:F.zones(t),queryFn:()=>V.getVendorZoneAssignments(t),staleTime:3e5,enabled:!!t,retry:2}),{data:W,isLoading:U}=R(),K=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.assignVendorToZone(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.zones(s.vendorId)})}})}(),H=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,zoneId:s}=e;return V.removeVendorFromZone(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.zones(s.vendorId)})}})}(),Q=(null==I?void 0:I.map(e=>e.zoneId))||[],_=(null==W?void 0:W.filter(e=>!Q.includes(e.id)&&e.isActive))||[],$=async e=>{if(e.preventDefault(),a){b(!0);try{await K.mutateAsync({vendorId:t,request:{zoneId:a,canDeliverTo:i,customDeliveryFee:m?parseFloat(m):void 0,customDeliveryTime:p||void 0}});let e=null==W?void 0:W.find(e=>e.id===a);z.ZP.success("Vendor has been successfully assigned to ".concat((null==e?void 0:e.zoneName)||"the selected zone","!")),n(""),c(!0),u(""),h(""),B()}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";z.ZP.error("Failed to assign zone: ".concat(e))}finally{b(!1)}}},G=(e,t)=>{P({isOpen:!0,zoneId:e,zoneName:t,isRemoving:!1})},J=async()=>{P(e=>({...e,isRemoving:!0}));try{await H.mutateAsync({vendorId:t,zoneId:L.zoneId}),z.ZP.success("Vendor has been successfully unassigned from ".concat(L.zoneName,".")),B(),P({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1})}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";z.ZP.error("Failed to remove zone assignment: ".concat(e)),P(e=>({...e,isRemoving:!1}))}},Y=()=>{Z(null),E({canDeliverTo:!0,customDeliveryFee:"",customDeliveryTime:""})},X=e=>{if(!e)return"Default";let t=e.split(":");if(t.length>=2){let e=parseInt(t[0]),s=parseInt(t[1]);return 0===e?"".concat(s," min"):0===s?"".concat(e,"h"):"".concat(e,"h ").concat(s,"m")}return e};return M||U?(0,l.jsx)(j.u,{appear:!0,show:s,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:r,children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)("div",{className:"w-full max-w-2xl",children:(0,l.jsx)(T.Z,{title:"Loading Zone Data",description:"Fetching zone assignments and available zones...",size:"md"})})})})]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.u,{appear:!0,show:s,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:r,children:[(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(N.Vq.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(x.Z,{className:"h-6 w-6 text-primary-500"}),(0,l.jsx)(N.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:"Zone Assignments"})]}),(0,l.jsx)("button",{onClick:r,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:(0,l.jsx)(f.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-text-secondary mb-3",children:"Current Zone Assignments"}),I&&I.length>0?(0,l.jsx)("div",{className:"space-y-3",children:I.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-surface-50 rounded-button border",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"font-medium text-text-primary",children:e.zoneName}),(0,l.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(e.isActive?"bg-success-500":"bg-danger-500")}),e.zoneDescription&&(0,l.jsx)("span",{className:"text-sm text-text-tertiary",children:e.zoneDescription})]}),y===e.id?(0,l.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"edit-deliver-".concat(e.id),checked:O.canDeliverTo,onChange:e=>E(t=>({...t,canDeliverTo:e.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"edit-deliver-".concat(e.id),className:"ml-2 text-sm text-text-primary",children:"Can deliver"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"Custom fee",value:O.customDeliveryFee,onChange:e=>E(t=>({...t,customDeliveryFee:e.target.value})),className:"w-full text-sm border border-border-default rounded px-2 py-1 focus:ring-1 focus:ring-primary-500"})}),(0,l.jsx)("div",{children:(0,l.jsx)("input",{type:"time",value:O.customDeliveryTime,onChange:e=>E(t=>({...t,customDeliveryTime:e.target.value})),className:"w-full text-sm border border-border-default rounded px-2 py-1 focus:ring-1 focus:ring-primary-500"})})]}):(0,l.jsxs)("div",{className:"flex items-center space-x-6 mt-2 text-sm text-text-secondary",children:[(0,l.jsx)("span",{className:e.canDeliverTo?"text-success-600":"text-danger-600",children:e.canDeliverTo?"✓ Can deliver":"✗ Cannot deliver"}),e.customDeliveryFee&&(0,l.jsxs)("span",{children:["Fee: $",e.customDeliveryFee]}),(0,l.jsxs)("span",{children:["Time: ",X(e.customDeliveryTime)]}),(0,l.jsxs)("span",{className:"text-text-tertiary",children:["Assigned by ",e.assignedByName," on ",new Date(e.assignedAt).toLocaleDateString()]})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:y===e.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"p-1 text-success-600 hover:text-success-700 hover:bg-success-50 rounded transition-colors",title:"Save changes",children:(0,l.jsx)(g.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:Y,className:"p-1 text-danger-600 hover:text-danger-700 hover:bg-danger-50 rounded transition-colors",title:"Cancel edit",children:(0,l.jsx)(w.Z,{className:"h-4 w-4"})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{onClick:()=>G(e.zoneId,e.zoneName),className:"p-1 text-danger-600 hover:text-danger-700 hover:bg-danger-50 rounded transition-colors",title:"Remove zone assignment",children:(0,l.jsx)(k.Z,{className:"h-4 w-4"})})})})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-8 text-text-tertiary",children:[(0,l.jsx)(x.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"No zones assigned"}),(0,l.jsx)("p",{className:"text-sm mt-1",children:"Assign zones to enable delivery services"})]})]}),_.length>0&&(0,l.jsx)("div",{className:"border-t border-border-light pt-6",children:(0,l.jsxs)("form",{onSubmit:$,children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-text-secondary mb-4",children:"Assign New Zone"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Select Zone ",(0,l.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,l.jsxs)("select",{value:a,onChange:e=>n(e.target.value),required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Choose a zone..."}),_.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.zoneName," ",e.description&&"- ".concat(e.description)]},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Custom Delivery Fee (Optional)"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary",children:"$"}),(0,l.jsx)("input",{type:"number",step:"0.01",min:"0",value:m,onChange:e=>u(e.target.value),placeholder:"0.00",className:"w-full border border-border-default rounded-input pl-8 pr-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Override default zone delivery fee"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Custom Delivery Time (Optional)"}),(0,l.jsx)("input",{type:"time",value:p,onChange:e=>h(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Override default zone delivery time"})]})]}),(0,l.jsxs)("div",{className:"flex items-center mb-6",children:[(0,l.jsx)("input",{type:"checkbox",id:"canDeliverTo",checked:i,onChange:e=>c(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"canDeliverTo",className:"ml-2 text-sm text-text-primary",children:"Vendor can deliver to this zone"})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsxs)("button",{type:"submit",disabled:!a||v,className:"flex items-center space-x-2 px-6 py-2 bg-primary-500 text-white rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[v?(0,l.jsx)(D.Z,{size:"sm",color:"white"}):(0,l.jsx)(d.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:v?"Assigning...":"Assign Zone"})]})})]})}),0===_.length&&I&&I.length>0&&(0,l.jsx)("div",{className:"text-center py-6 border-t border-border-light",children:(0,l.jsx)("p",{className:"text-sm text-text-tertiary",children:"All available zones have been assigned"})}),(!W||0===W.length)&&(0,l.jsx)("div",{className:"text-center py-6 border-t border-border-light",children:(0,l.jsx)("p",{className:"text-sm text-text-tertiary",children:"No delivery zones are currently available"})})]})]})})})})]})}),(0,l.jsx)(q.Z,{isOpen:L.isOpen,onClose:()=>{P({isOpen:!1,zoneId:"",zoneName:"",isRemoving:!1})},onConfirm:J,title:"Remove Zone Assignment",message:'Are you sure you want to remove the zone assignment for "'.concat(L.zoneName,'"? This action cannot be undone.'),confirmText:"Remove",variant:"danger",isLoading:L.isRemoving})]})}var P=s(47842);let O=o.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?o.createElement("title",{id:r},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))});var E=s(1442),I=s(41077);let M=o.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?o.createElement("title",{id:r},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))});function B(e){let{vendorId:t,vendorName:s,isOpen:r,onClose:a}=e,[n,i]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),[m,u]=(0,o.useState)("Medium"),[x,p]=(0,o.useState)(""),[h,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(""),[w,k]=(0,o.useState)([]),[C,R]=(0,o.useState)(!1),[Z,T]=(0,o.useState)(""),q=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.sendInstruction(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.activities(s.vendorId)})}})}(),D=[{id:"1",name:"Quality Standards Reminder",subject:"Food Quality Standards Reminder",message:"This is a reminder about maintaining our food quality standards. Please ensure all food items meet the required quality criteria before delivery to customers.\n\nKey points to remember:\n- Check food temperature before packaging\n- Ensure proper packaging to maintain freshness\n- Follow portion size guidelines\n- Maintain cleanliness standards\n\nThank you for your continued commitment to quality.",category:"Quality Standards",priority:"Medium"},{id:"2",name:"Safety Protocol Update",subject:"Updated Safety Protocols - Immediate Action Required",message:"We have updated our safety protocols effective immediately. Please review and implement the following changes:\n\n1. Enhanced sanitization procedures\n2. Updated food handling guidelines\n3. New personal protective equipment requirements\n\nPlease acknowledge receipt and confirm implementation within 24 hours.",category:"Safety Requirements",priority:"High"},{id:"3",name:"Performance Feedback",subject:"Performance Review and Improvement Areas",message:"Based on recent performance metrics, we would like to discuss areas for improvement:\n\n- Order preparation time\n- Customer satisfaction scores\n- Delivery accuracy\n\nWe are here to support you in achieving better results. Please let us know if you need any assistance or training.",category:"Performance Improvement",priority:"Medium"},{id:"4",name:"Account Suspension Warning",subject:"Account Status Warning - Immediate Action Required",message:"This is an urgent notice regarding your account status. We have identified issues that require immediate attention:\n\n[Specify issues here]\n\nFailure to address these issues within 48 hours may result in account suspension. Please contact support immediately.",category:"Account Management",priority:"Urgent"},{id:"5",name:"New Feature Announcement",subject:"New Platform Features Available",message:"We are excited to announce new features that will help improve your business:\n\n- Enhanced analytics dashboard\n- Improved order management tools\n- New customer communication features\n\nThese features are now available in your vendor portal. Please take some time to explore and let us know if you have any questions.",category:"Technical Support",priority:"Low"},{id:"6",name:"Policy Violation Notice",subject:"Policy Violation - Corrective Action Required",message:"We have identified a violation of our platform policies:\n\n[Specify violation details]\n\nThis notice serves as a formal warning. Please review our terms of service and ensure compliance to avoid account restrictions.\n\nRequired actions:\n1. [Action 1]\n2. [Action 2]\n3. [Action 3]\n\nDeadline: [Date]",category:"Compliance Issue",priority:"High"}],z=e=>{let t=D.find(t=>t.id===e);t&&(i(t.subject),d(t.message),p(t.category),u(t.priority),T(e))},L=async e=>{if(e.preventDefault(),n.trim()&&c.trim()){R(!0);try{await q.mutateAsync({vendorId:t,request:{subject:n.trim(),message:c.trim(),priority:m,category:x||void 0,requireAcknowledgment:h,scheduledDelivery:v||void 0,attachments:w.length>0?w:void 0}}),i(""),d(""),u("Medium"),p(""),g(!1),b(""),k([]),T(""),a()}catch(e){console.error("Failed to send instruction:",e)}finally{R(!1)}}},B=e=>{k(w.filter((t,s)=>s!==e))};return(0,l.jsx)(j.u,{appear:!0,show:r,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:a,children:[(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsx)(N.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:(0,l.jsxs)("form",{onSubmit:L,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(y,{className:"h-6 w-6 text-primary-500"}),(0,l.jsx)(N.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:"Send Instruction"})]}),(0,l.jsx)("button",{type:"button",onClick:a,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:(0,l.jsx)(f.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,l.jsxs)("div",{className:"p-6 max-h-96 overflow-y-auto",children:[(0,l.jsx)("div",{className:"bg-surface-50 rounded-card p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-sm font-medium text-primary-700",children:s.charAt(0)})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium text-text-primary",children:["Sending to: ",s]}),(0,l.jsxs)("div",{className:"text-sm text-text-tertiary",children:["Vendor ID: ",t]})]})]})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Use Template (Optional)"}),(0,l.jsxs)("select",{value:Z,onChange:e=>z(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Choose a template..."}),D.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.priority," Priority)"]},e.id))]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Subject ",(0,l.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter subject...",required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Priority"}),(0,l.jsxs)("select",{value:m,onChange:e=>u(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"Low",children:"Low"}),(0,l.jsx)("option",{value:"Medium",children:"Medium"}),(0,l.jsx)("option",{value:"High",children:"High"}),(0,l.jsx)("option",{value:"Urgent",children:"Urgent"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-card border ".concat((e=>{switch(e){case"Urgent":return"border-danger-200 bg-danger-50 text-danger-800";case"High":return"border-warning-200 bg-warning-50 text-warning-800";case"Medium":return"border-primary-200 bg-primary-50 text-primary-800";case"Low":return"border-success-200 bg-success-50 text-success-800";default:return"border-border-light bg-surface-50 text-text-primary"}})(m)),children:[(e=>{switch(e){case"Urgent":return(0,l.jsx)(P.Z,{className:"h-5 w-5 text-danger-500"});case"High":return(0,l.jsx)(P.Z,{className:"h-5 w-5 text-warning-500"});case"Medium":return(0,l.jsx)(O,{className:"h-5 w-5 text-primary-500"});case"Low":return(0,l.jsx)(E.Z,{className:"h-5 w-5 text-success-500"});default:return(0,l.jsx)(O,{className:"h-5 w-5 text-text-tertiary"})}})(m),(0,l.jsxs)("span",{className:"text-sm font-medium",children:["This instruction will be marked as ",m," priority"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Category"}),(0,l.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Select category..."}),["General Information","Policy Update","Quality Standards","Safety Requirements","Technical Support","Account Management","Compliance Issue","Performance Improvement","Training Required","Marketing Guidelines","Menu Management","Order Management","Customer Service","Payment Issues","Other"].map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Message ",(0,l.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,l.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Enter your instruction message...",required:!0,rows:6,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary resize-none"}),(0,l.jsxs)("p",{className:"text-xs text-text-tertiary mt-1",children:["Characters: ",c.length]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Scheduled Delivery (Optional)"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(I.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary"}),(0,l.jsx)("input",{type:"datetime-local",value:v,onChange:e=>b(e.target.value),min:new Date().toISOString().slice(0,16),className:"w-full border border-border-default rounded-input pl-10 pr-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Leave empty to send immediately"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Attachments (Optional)"}),w.length>0&&(0,l.jsx)("div",{className:"space-y-2 mb-2",children:w.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-surface-50 rounded border",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(M,{className:"h-4 w-4 text-text-tertiary"}),(0,l.jsx)("span",{className:"text-sm text-text-primary truncate",children:e})]}),(0,l.jsx)("button",{type:"button",onClick:()=>B(t),className:"text-danger-600 hover:text-danger-700 text-sm",children:"Remove"})]},t))}),(0,l.jsxs)("button",{type:"button",onClick:()=>{let e=prompt("Enter attachment URL:");e&&k([...w,e])},className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700 transition-colors",children:[(0,l.jsx)(M,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Add Attachment"})]})]}),(0,l.jsx)("div",{className:"space-y-3",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"requireAcknowledgment",checked:h,onChange:e=>g(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"requireAcknowledgment",className:"ml-2 text-sm text-text-primary",children:"Require vendor acknowledgment"})]})})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border-light bg-surface-50",children:[(0,l.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-surface-0 border border-border-default rounded-button hover:bg-surface-100 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:C||!n.trim()||!c.trim(),className:"px-4 py-2 text-sm font-medium text-white rounded-button focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat("Urgent"===m?"bg-danger-500 hover:bg-danger-600 focus:ring-danger-500":"High"===m?"bg-warning-500 hover:bg-warning-600 focus:ring-warning-500":"bg-primary-500 hover:bg-primary-600 focus:ring-primary-500"),children:C?"Sending...":v?"Schedule Instruction":"Send Instruction"})]})]})})})})})]})})}function W(e){var t;let{isOpen:s,onClose:r,onConfirm:a,action:n,vendor:i}=e,[c,d]=(0,o.useState)(""),[m,u]=(0,o.useState)(!0),[x,p]=(0,o.useState)(!1),[h,y]=(0,o.useState)(""),[k,C]=(0,o.useState)(""),[S,A]=(0,o.useState)(!0),[V,F]=(0,o.useState)(!0),[Z,T]=(0,o.useState)(!1),{data:q,isLoading:D}=R(),L=async e=>{let t;switch(e.preventDefault(),T(!0),n){case"approve":t={reason:c.trim()||void 0,notifyVendor:m,autoAssignZone:x,zoneId:h||void 0,sendWelcomePackage:V};break;case"reject":t={reason:c.trim()||"No reason provided",notifyVendor:m,allowReapplication:S};break;case"suspend":t={reason:c.trim()||"No reason provided",notifyVendor:m,suspensionEndDate:k||void 0,suspendOrders:!0,severity:"Major"};break;case"activate":t={reason:c.trim()||void 0,notifyVendor:m,restoreZoneAssignments:!0};break;default:throw Error("Unknown action: ".concat(n))}try{await a(t);let e={approve:"".concat(i.businessName," has been approved successfully and assigned to the selected zone!"),reject:"".concat(i.businessName," application has been rejected."),suspend:"".concat(i.businessName," has been temporarily suspended."),activate:"".concat(i.businessName," has been reactivated and can now accept orders.")};z.ZP.success(e[n]),d(""),u(!0),p(!1),y(""),C(""),A(!0),F(!0)}catch(t){let e=t instanceof Error?t.message:"An unexpected error occurred";z.ZP.error("".concat({approve:"Failed to approve vendor",reject:"Failed to reject vendor",suspend:"Failed to suspend vendor",activate:"Failed to activate vendor"}[n],": ").concat(e))}finally{T(!1)}},O=(()=>{switch(n){case"approve":return{title:"Approve Vendor",description:"This will approve the vendor and assign them to a delivery zone. They will be able to start accepting orders.",icon:(0,l.jsx)(g.Z,{className:"h-6 w-6 text-success-500"}),color:"success",confirmText:"Approve Vendor",requiresReason:!1};case"reject":return{title:"Reject Vendor",description:"This will reject the vendor application. Please provide a reason.",icon:(0,l.jsx)(w.Z,{className:"h-6 w-6 text-danger-500"}),color:"danger",confirmText:"Reject Vendor",requiresReason:!0};case"suspend":return{title:"Suspend Vendor",description:"This will temporarily suspend the vendor. They will not be able to accept new orders.",icon:(0,l.jsx)(v.Z,{className:"h-6 w-6 text-warning-500"}),color:"warning",confirmText:"Suspend Vendor",requiresReason:!0};case"activate":return{title:"Activate Vendor",description:"This will reactivate the vendor and allow them to accept orders again.",icon:(0,l.jsx)(b.Z,{className:"h-6 w-6 text-success-500"}),color:"success",confirmText:"Activate Vendor",requiresReason:!1}}})();return(0,l.jsx)(j.u,{appear:!0,show:s,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:r,children:[(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsx)(N.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:(0,l.jsxs)("form",{onSubmit:L,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-light",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[O.icon,(0,l.jsx)(N.Vq.Title,{className:"text-lg font-semibold text-text-primary",children:O.title})]}),(0,l.jsx)("button",{type:"button",onClick:r,className:"p-1 hover:bg-surface-100 rounded transition-colors",children:(0,l.jsx)(f.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("div",{className:"bg-surface-50 rounded-card p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center",children:i.logoUrl?(0,l.jsx)("img",{src:i.logoUrl,alt:i.businessName,className:"h-12 w-12 rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-sm font-medium text-primary-700",children:(null===(t=i.businessName)||void 0===t?void 0:t.charAt(0))||i.fullName.charAt(0)})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-text-primary",children:i.businessName}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:i.fullName}),(0,l.jsx)("div",{className:"text-sm text-text-tertiary",children:i.email})]})]})}),(0,l.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-card mb-6",children:[(0,l.jsx)(P.Z,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-yellow-800 font-medium",children:"Confirm Action"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:O.description})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Reason ",O.requiresReason&&(0,l.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,l.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Enter reason for ".concat(n,"..."),required:O.requiresReason,rows:3,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary resize-none"})]}),"suspend"===n&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Suspension End Date (Optional)"}),(0,l.jsx)("input",{type:"date",value:k,onChange:e=>C(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"}),(0,l.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Leave empty for indefinite suspension"})]}),"approve"===n&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Assign to Zone ",(0,l.jsx)("span",{className:"text-danger-500",children:"*"})]}),D?(0,l.jsx)("div",{className:"w-full border border-border-default rounded-input px-3 py-2 bg-surface-50 text-text-tertiary",children:"Loading zones..."}):q&&q.filter(e=>e.isActive).length>0?(0,l.jsxs)("select",{value:h,onChange:e=>y(e.target.value),required:!0,className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Select a delivery zone..."}),q.filter(e=>e.isActive).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.zoneName,e.description&&" - ".concat(e.description)]},e.id))]}):(0,l.jsx)("div",{className:"w-full border border-border-default rounded-input px-3 py-2 bg-danger-50 text-danger-700 border-danger-300",children:"No active delivery zones available"}),(0,l.jsx)("p",{className:"text-xs text-text-tertiary mt-1",children:"Zone assignment is required for vendor approval"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"sendWelcomePackage",checked:V,onChange:e=>F(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"sendWelcomePackage",className:"ml-2 text-sm text-text-primary",children:"Send welcome package"})]})]}),"reject"===n&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"allowReapplication",checked:S,onChange:e=>A(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"allowReapplication",className:"ml-2 text-sm text-text-primary",children:"Allow vendor to reapply"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"notifyVendor",checked:m,onChange:e=>u(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"notifyVendor",className:"ml-2 text-sm text-text-primary",children:"Send notification to vendor"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border-light bg-surface-50",children:[(0,l.jsx)("button",{type:"button",onClick:r,disabled:Z,className:"px-4 py-2 text-sm font-medium text-text-secondary bg-surface-0 border border-border-default rounded-button hover:bg-surface-100 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors disabled:opacity-50",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:Z||O.requiresReason&&!c.trim()||"approve"===n&&(!h||q&&0===q.filter(e=>e.isActive).length),className:"px-4 py-2 text-sm font-medium text-white rounded-button focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat("success"===O.color?"bg-success-500 hover:bg-success-600 focus:ring-success-500":"danger"===O.color?"bg-danger-500 hover:bg-danger-600 focus:ring-danger-500":"bg-warning-500 hover:bg-warning-600 focus:ring-warning-500"),children:Z?(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,l.jsx)("span",{children:"Processing..."})]}):O.confirmText})]})]})})})})})]})})}var U=s(20322),K=s(94725),H=s(89399),Q=s(89453);function _(e){var t,s,r,a,i,c,d,m,u,h,g,v;let{vendorId:b,isOpen:y,onClose:k}=e,{data:S,isLoading:A,error:R}=(0,C.a)({queryKey:F.detail(b),queryFn:()=>V.getVendorById(b),staleTime:3e5,enabled:!!b,retry:2});return A?(0,l.jsx)(j.u,{appear:!0,show:y,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:k,children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)("div",{className:"w-full max-w-4xl bg-surface-0 rounded-card p-6",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-8 bg-surface-100 rounded mb-4 w-1/3"}),(0,l.jsx)("div",{className:"space-y-4",children:[...Array(6)].map((e,t)=>(0,l.jsx)("div",{className:"h-16 bg-surface-100 rounded"},t))})]})})})})]})}):R||!S?(0,l.jsx)(j.u,{appear:!0,show:y,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:k,children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-md bg-surface-0 rounded-card p-6",children:[(0,l.jsx)("p",{className:"text-danger-600",children:"Failed to load vendor details"}),(0,l.jsx)("button",{onClick:k,className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-button",children:"Close"})]})})})]})}):(0,l.jsx)(j.u,{appear:!0,show:y,as:o.Fragment,children:(0,l.jsxs)(N.Vq,{as:"div",className:"relative z-50",onClose:k,children:[(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,l.jsx)(j.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(N.Vq.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-card bg-surface-0 shadow-xl transition-all",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"pt-6 px-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"h-16 w-16 rounded-card bg-surface-50 border-2 border-border-light overflow-hidden",children:S.logoUrl?(0,l.jsx)("img",{src:S.logoUrl,alt:S.businessName,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full bg-primary-100 flex items-center justify-center",children:(0,l.jsx)(K.Z,{className:"h-8 w-8 text-primary-600"})})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:S.businessName||S.firstName+" "+S.lastName}),(e=>{switch(e){case n.Approved:return(0,l.jsx)(E.Z,{className:"h-5 w-5 text-success-500"});case n.Rejected:case n.Suspended:return(0,l.jsx)(w.Z,{className:"h-5 w-5 text-danger-500"});default:return(0,l.jsx)(U.Z,{className:"h-5 w-5 text-warning-500"})}})(S.status)]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 text-yellow-400 fill-current"}),(0,l.jsxs)("span",{className:"ml-1 text-sm text-text-primary",children:[(null===(t=S.rating)||void 0===t?void 0:t.toFixed(1))||"N/A"," (",S.reviewCount||0," reviews)"]})]}),(0,l.jsxs)("span",{className:"text-sm text-text-tertiary",children:["Member since ",S.vendorSince]})]})]})]}),(0,l.jsx)("button",{onClick:k,className:"p-2 hover:bg-surface-100 rounded-full transition-colors",children:(0,l.jsx)(f.Z,{className:"h-5 w-5 text-text-primary"})})]})}),(0,l.jsx)("div",{className:"px-6 py-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center",children:[(0,l.jsx)(K.Z,{className:"h-5 w-5 mr-2"}),"Business Information"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Business Name"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.businessName||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Business Type"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.businessType||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Full Name"}),(0,l.jsx)("p",{className:"text-text-primary",children:(null===(s=S.user)||void 0===s?void 0:s.firstName)+" "+(null===(r=S.user)||void 0===r?void 0:r.lastName)||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Zone Assigned"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.isZoneAssigned?"Yes":"No"})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Contact Information"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(H.Z,{className:"h-4 w-4 text-text-tertiary mr-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Email"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.email})]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(Q.Z,{className:"h-4 w-4 text-text-tertiary mr-2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Phone"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.phoneNumber})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 mr-2"}),"Business Location"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Address"}),(0,l.jsx)("p",{className:"text-text-primary",children:S.address||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Email Verified"}),(0,l.jsx)("span",{className:(null===(a=S.verificationStatus)||void 0===a?void 0:a.emailVerified)?"text-success-600":"text-danger-600",children:(null===(i=S.verificationStatus)||void 0===i?void 0:i.emailVerified)?"✓ Verified":"✗ Not Verified"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Phone Verified"}),(0,l.jsx)("span",{className:(null===(c=S.verificationStatus)||void 0===c?void 0:c.phoneVerified)?"text-success-600":"text-danger-600",children:(null===(d=S.verificationStatus)||void 0===d?void 0:d.phoneVerified)?"✓ Verified":"✗ Not Verified"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-text-secondary",children:"Location Verified"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(null===(m=S.verificationStatus)||void 0===m?void 0:m.locationVerified)?(0,l.jsx)(E.Z,{className:"h-4 w-4 text-success-500 mr-1"}):(0,l.jsx)(w.Z,{className:"h-4 w-4 text-danger-500 mr-1"}),(0,l.jsx)("span",{className:(null===(u=S.verificationStatus)||void 0===u?void 0:u.locationVerified)?"text-success-600":"text-danger-600",children:(null===(h=S.verificationStatus)||void 0===h?void 0:h.locationVerified)?"Verified":"Not Verified"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Performance"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Total Orders"}),(0,l.jsx)("span",{className:"font-medium text-text-primary",children:(null===(g=S.totalOrders)||void 0===g?void 0:g.toLocaleString())||0})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Total Revenue"}),(0,l.jsxs)("span",{className:"font-medium text-text-primary",children:["$",(null===(v=S.totalRevenue)||void 0===v?void 0:v.toLocaleString())||0]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Compliance Score"}),(0,l.jsxs)("span",{className:"font-medium text-text-primary",children:[S.complianceScore||0,"%"]})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Zone Assignments"}),S.zoneAssignments&&S.zoneAssignments.length>0?(0,l.jsx)("div",{className:"space-y-3",children:S.zoneAssignments.map(e=>(0,l.jsx)("div",{className:"bg-surface-0 rounded-button p-3 border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-text-primary",children:e.zoneName}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:e.canDeliverTo?"Can deliver":"Cannot deliver"})]}),(0,l.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(e.isActive?"bg-success-500":"bg-danger-500")})]})},e.id))}):(0,l.jsxs)("div",{className:"text-center py-6 text-text-tertiary",children:[(0,l.jsx)(x.Z,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,l.jsx)("p",{children:"No zones assigned"})]})]}),S.verificationStatus&&(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Verification Status"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Email"}),(0,l.jsx)("span",{className:S.verificationStatus.emailVerified?"text-success-600":"text-danger-600",children:S.verificationStatus.emailVerified?"✓ Verified":"✗ Not Verified"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Phone"}),(0,l.jsx)("span",{className:S.verificationStatus.phoneVerified?"text-success-600":"text-danger-600",children:S.verificationStatus.phoneVerified?"✓ Verified":"✗ Not Verified"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Business"}),(0,l.jsx)("span",{className:S.verificationStatus.businessVerified?"text-success-600":"text-danger-600",children:S.verificationStatus.businessVerified?"✓ Verified":"✗ Not Verified"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Documents"}),(0,l.jsx)("span",{className:S.verificationStatus.documentVerified?"text-success-600":"text-danger-600",children:S.verificationStatus.documentVerified?"✓ Verified":"✗ Not Verified"})]})]})]}),(0,l.jsxs)("div",{className:"bg-surface-50 rounded-card p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Status History"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Created"}),(0,l.jsx)("span",{className:"text-text-primary",children:new Date(S.createdAt).toLocaleDateString()})]}),S.approvedAt&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Approved"}),(0,l.jsx)("span",{className:"text-text-primary",children:new Date(S.approvedAt).toLocaleDateString()})]}),S.rejectedAt&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Rejected"}),(0,l.jsx)("span",{className:"text-text-primary",children:new Date(S.rejectedAt).toLocaleDateString()})]}),S.suspendedAt&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-text-secondary",children:"Suspended"}),(0,l.jsx)("span",{className:"text-text-primary",children:new Date(S.suspendedAt).toLocaleDateString()})]})]})]})]})]})})]})})})})]})})}var $=s(76529);let G=e=>{if("number"==typeof e)switch(e){case 0:default:return n.PendingApproval;case 1:return n.Approved;case 2:return n.UnderReview;case 3:return n.Suspended;case 4:return n.Rejected;case 5:return n.RequiresManualReview;case 6:return n.Inactive}return e},J=e=>{let t=G(e),s={[n.PendingApproval]:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",label:"Pending Approval"},[n.Approved]:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",label:"Approved"},[n.UnderReview]:{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",label:"Under Review"},[n.Suspended]:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",label:"Suspended"},[n.Rejected]:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",label:"Rejected"},[n.RequiresManualReview]:{color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",label:"Manual Review"},[n.Inactive]:{color:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",label:"Inactive"}}[t]||{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",label:"Unknown"};return(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:s.label})};function Y(e){let{filters:t,onFiltersChange:s,selectedVendors:r,onSelectionChange:a}=e,[i,c]=(0,o.useState)(null),[d,j]=(0,o.useState)(!1),[N,w]=(0,o.useState)(!1),[k,R]=(0,o.useState)(!1),[Z,T]=(0,o.useState)(!1),[q,D]=(0,o.useState)("approve"),{data:z,isLoading:P,error:O,refetch:E}=(0,C.a)({queryKey:F.list(t),queryFn:()=>V.getAllVendors(t),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),I=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.approveVendor(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.lists()}),e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.stats()})}})}(),M=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.rejectVendor(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.lists()}),e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.stats()})}})}(),U=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.suspendVendor(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.lists()}),e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.stats()})}})}(),K=function(){let e=(0,S.NL)();return(0,A.D)({mutationFn:e=>{let{vendorId:t,request:s}=e;return V.activateVendor(t,s)},onSuccess:(t,s)=>{e.invalidateQueries({queryKey:F.lists()}),e.invalidateQueries({queryKey:F.detail(s.vendorId)}),e.invalidateQueries({queryKey:F.stats()})}})}(),H=(null==z?void 0:z.items)||[],Q=z?{pageNumber:z.pageNumber,pageSize:z.pageSize,totalCount:z.totalCount,totalPages:z.totalCount}:null,Y=e=>{let r=t.sortBy===e&&"asc"===t.sortOrder?"desc":"asc";s({...t,sortBy:e,sortOrder:r,pageNumber:1})},X=e=>{s({...t,pageNumber:e})},ee=e=>{c(e),j(!0)},et=(e,t)=>{c(t),D(e),w(!0)},es=e=>{c(e),R(!0)},er=e=>{c(e),T(!0)},ea=e=>{if(e)a([...Array.from(new Set([...r,...H.map(e=>e.id)]))]);else{let e=H.map(e=>e.id);a(r.filter(t=>!e.includes(t)))}},en=(e,t)=>{t?a([...r,e]):a(r.filter(t=>t!==e))},ei=H.length>0&&H.every(e=>r.includes(e.id)),el=H.some(e=>r.includes(e.id))&&!ei,eo=async e=>{if(i)try{switch(q){case"approve":await I.mutateAsync({vendorId:i.id,request:e});break;case"reject":await M.mutateAsync({vendorId:i.id,request:e});break;case"suspend":await U.mutateAsync({vendorId:i.id,request:e});break;case"activate":await K.mutateAsync({vendorId:i.id,request:e})}}catch(e){console.error("Failed to ".concat(q," vendor:"),e)}finally{w(!1),c(null)}};if(P)return(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-surface-100 rounded mb-4 w-40"}),(0,l.jsx)("div",{className:"space-y-3",children:[...Array(10)].map((e,t)=>(0,l.jsx)("div",{className:"h-16 bg-surface-100 rounded"},t))})]})});if(O)return(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:(0,l.jsx)("div",{className:"bg-danger-50 border border-danger-200 rounded-card p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("p",{className:"text-danger-600",children:["Failed to load vendors: ",O.message]}),(0,l.jsx)("button",{onClick:()=>E(),className:"px-3 py-1.5 bg-danger-100 hover:bg-danger-200 text-danger-700 rounded-button text-sm transition-colors",children:"Retry"})]})})});let ec=e=>t.sortBy!==e?null:"asc"===t.sortOrder?(0,l.jsx)(m.Z,{className:"h-4 w-4"}):(0,l.jsx)(u.Z,{className:"h-4 w-4"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-border-light bg-surface-50",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold text-text-primary",children:["Vendors (",(null==Q?void 0:Q.totalCount)||0,")"]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-border-light",children:[(0,l.jsx)("thead",{className:"bg-surface-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-3 text-left",children:(0,l.jsx)("input",{type:"checkbox",checked:ei,ref:e=>{e&&(e.indeterminate=el)},onChange:e=>ea(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("businessName"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Business"}),ec("businessName")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("status"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Status"}),ec("status")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Location"}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("rating"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Rating"}),ec("rating")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("totalOrders"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Orders"}),ec("totalOrders")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("totalRevenue"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Revenue"}),ec("totalRevenue")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider cursor-pointer hover:bg-surface-100 transition-colors",onClick:()=>Y("createdAt"),children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("span",{children:"Joined"}),ec("createdAt")]})}),(0,l.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"bg-surface-0 divide-y divide-border-light",children:0===H.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:9,className:"px-6 py-12 text-center",children:(0,l.jsxs)("div",{className:"text-text-tertiary",children:[(0,l.jsx)("p",{className:"text-lg font-medium",children:"No vendors found"}),(0,l.jsx)("p",{className:"text-sm mt-1",children:"Try adjusting your search filters"})]})})}):H.map(e=>{var t;return(0,l.jsxs)("tr",{className:"hover:bg-surface-50 transition-colors cursor-pointer ".concat(r.includes(e.id)?"bg-primary-50 border-l-4 border-primary-500":""),onClick:()=>ee(e),children:[(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("input",{type:"checkbox",checked:r.includes(e.id),onChange:t=>{t.stopPropagation(),en(e.id,t.target.checked)},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"h-12 w-12 flex-shrink-0",children:e.logoUrl?(0,l.jsx)("img",{className:"h-12 w-12 rounded-full object-cover border-2 border-border-light",src:e.logoUrl,alt:e.businessName}):(0,l.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center border-2 border-border-light",children:(0,l.jsx)("span",{className:"text-sm font-medium text-primary-700",children:(null===(t=e.businessName)||void 0===t?void 0:t.charAt(0))||e.fullName.charAt(0)})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-text-primary",children:e.businessName}),(0,l.jsx)("div",{className:"text-sm text-text-secondary",children:e.fullName}),(0,l.jsx)("div",{className:"text-xs text-text-tertiary",children:e.email})]})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"space-y-1",children:[J(e.status),e.isZoneAssigned&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(x.Z,{className:"h-3 w-3 text-success-500 mr-1"}),(0,l.jsx)("span",{className:"text-xs text-success-600",children:"Zone Assigned"})]})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:e.city}),(0,l.jsx)("div",{className:"text-xs text-text-tertiary",children:e.state})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 text-yellow-400 fill-current"}),(0,l.jsx)("span",{className:"ml-1 text-sm text-text-primary",children:e.rating.toFixed(1)})]})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:e.totalOrders.toLocaleString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:(0,$.x)(e.totalRevenue)}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:new Date(e.createdAt).toLocaleDateString()}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),ee(e)},className:"text-primary-600 hover:text-primary-700 p-1 rounded transition-colors",title:"View Details",children:(0,l.jsx)(h.Z,{className:"h-4 w-4"})}),G(e.status)===n.PendingApproval&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),et("approve",e)},className:"text-success-600 hover:text-success-700 p-1 rounded transition-colors",title:"Approve Vendor",children:(0,l.jsx)(g.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),et("reject",e)},className:"text-danger-600 hover:text-danger-700 p-1 rounded transition-colors",title:"Reject Vendor",children:(0,l.jsx)(f.Z,{className:"h-4 w-4"})})]}),G(e.status)===n.Approved&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),es(e)},className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Assign Zone",children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),et("suspend",e)},className:"text-warning-600 hover:text-warning-700 p-1 rounded transition-colors",title:"Suspend Vendor",children:(0,l.jsx)(v.Z,{className:"h-4 w-4"})})]}),G(e.status)===n.Suspended&&(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),et("activate",e)},className:"text-success-600 hover:text-success-700 p-1 rounded transition-colors",title:"Activate Vendor",children:(0,l.jsx)(b.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:t=>{t.stopPropagation(),er(e)},className:"text-purple-600 hover:text-purple-700 p-1 rounded transition-colors",title:"Send Instruction",children:(0,l.jsx)(y,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),Q&&Q.totalPages>1&&(0,l.jsxs)("div",{className:"bg-surface-50 px-6 py-3 border-t border-border-light flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,l.jsx)("button",{onClick:()=>X(Q.pageNumber-1),disabled:Q.pageNumber<=1,className:"relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-primary bg-surface-0 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,l.jsx)("button",{onClick:()=>X(Q.pageNumber+1),disabled:Q.pageNumber>=Q.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-border-default text-sm font-medium rounded-button text-text-primary bg-surface-0 hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]}),(0,l.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-sm text-text-secondary",children:["Showing"," ",(0,l.jsx)("span",{className:"font-medium",children:(Q.pageNumber-1)*Q.pageSize+1})," ","to"," ",(0,l.jsx)("span",{className:"font-medium",children:Math.min(Q.pageNumber*Q.pageSize,Q.totalCount)})," ","of"," ",(0,l.jsx)("span",{className:"font-medium",children:Q.totalCount})," ","results"]})}),(0,l.jsx)("div",{children:(0,l.jsxs)("nav",{className:"relative z-0 inline-flex rounded-button shadow-soft -space-x-px","aria-label":"Pagination",children:[(0,l.jsx)("button",{onClick:()=>X(Q.pageNumber-1),disabled:Q.pageNumber<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-button border border-border-default bg-surface-0 text-sm font-medium text-text-secondary hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Math.min(5,Q.totalPages)},(e,t)=>{let s=Math.max(1,Q.pageNumber-2)+t;return s>Q.totalPages?null:(0,l.jsx)("button",{onClick:()=>X(s),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors ".concat(s===Q.pageNumber?"z-10 bg-primary-500 border-primary-500 text-white":"bg-surface-0 border-border-default text-text-secondary hover:bg-surface-100"),children:s},s)}),(0,l.jsx)("button",{onClick:()=>X(Q.pageNumber+1),disabled:Q.pageNumber>=Q.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-button border border-border-default bg-surface-0 text-sm font-medium text-text-secondary hover:bg-surface-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})})]})]})]}),i&&d&&(0,l.jsx)(_,{vendorId:i.id,isOpen:d,onClose:()=>{j(!1),c(null)}}),i&&N&&(0,l.jsx)(W,{isOpen:N,onClose:()=>{w(!1),c(null)},onConfirm:eo,action:q,vendor:i}),i&&k&&(0,l.jsx)(L,{vendorId:i.id,isOpen:k,onClose:()=>{R(!1),c(null)}}),i&&Z&&(0,l.jsx)(B,{vendorId:i.id,vendorName:i.businessName,isOpen:Z,onClose:()=>{T(!1),c(null)}})]})}var X=s(41556);let ee=o.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?o.createElement("title",{id:r},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))});var et=s(94565);function es(e){var t,s;let{filters:r,onFiltersChange:a}=e,[c,d]=(0,o.useState)(!1),{data:m}=Z(),u=e=>{a({...r,search:e,pageNumber:1})},x=e=>{a({...r,status:e||void 0,pageNumber:1})},p=e=>{a({...r,deliveryType:e||void 0,pageNumber:1})},h=e=>{a({...r,city:e||void 0,pageNumber:1})},g=e=>{a({...r,state:e||void 0,pageNumber:1})},f=e=>{a({...r,dateFrom:e||void 0,pageNumber:1})},v=e=>{a({...r,dateTo:e||void 0,pageNumber:1})},b=e=>{a({...r,isZoneAssigned:e,pageNumber:1})},y=e=>{a({...r,isVerified:e,pageNumber:1})},j=e=>{a({...r,isCurrentlyOpen:e,pageNumber:1})},N=e=>{a({...r,minRating:e?parseFloat(e):void 0,pageNumber:1})},w=e=>{a({...r,maxRating:e?parseFloat(e):void 0,pageNumber:1})},k=e=>{a({...r,businessType:e||void 0,pageNumber:1})};return(0,l.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Search Vendors"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(X.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary"}),(0,l.jsx)("input",{type:"text",placeholder:"Search by business name, email, location...",value:r.search||"",onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 w-full border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Status"}),(0,l.jsxs)("select",{value:r.status||"",onChange:e=>x(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"All Statuses"}),(0,l.jsx)("option",{value:n.PendingApproval,children:"Pending Approval"}),(0,l.jsx)("option",{value:n.Approved,children:"Approved"}),(0,l.jsx)("option",{value:n.UnderReview,children:"Under Review"}),(0,l.jsx)("option",{value:n.Suspended,children:"Suspended"}),(0,l.jsx)("option",{value:n.Rejected,children:"Rejected"}),(0,l.jsx)("option",{value:n.RequiresManualReview,children:"Manual Review"}),(0,l.jsx)("option",{value:n.Inactive,children:"Inactive"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Delivery Type"}),(0,l.jsxs)("select",{value:r.deliveryType||"",onChange:e=>p(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"All Types"}),(0,l.jsx)("option",{value:i.DeliveryOnly,children:"Delivery Only"}),(0,l.jsx)("option",{value:i.PickupOnly,children:"Pickup Only"}),(0,l.jsx)("option",{value:i.Both,children:"Both"}),(0,l.jsx)("option",{value:i.None,children:"None"})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,l.jsxs)("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 text-sm text-primary-600 hover:text-primary-700 transition-colors",children:[(0,l.jsx)(ee,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:[c?"Hide":"Show"," Advanced Filters"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(et.Z,{className:"h-5 w-5 text-text-tertiary"}),(0,l.jsxs)("span",{className:"text-sm text-text-tertiary",children:[(()=>{let e=["pageNumber","pageSize","sortBy","sortOrder"];return Object.entries(r).filter(t=>{let[s,r]=t;return!e.includes(s)&&null!=r&&""!==r}).length})()," filter(s) applied"]})]})]}),c&&(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-border-light",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"City"}),(0,l.jsx)("input",{type:"text",placeholder:"Enter city",value:r.city||"",onChange:e=>h(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"State"}),(0,l.jsx)("input",{type:"text",placeholder:"Enter state",value:r.state||"",onChange:e=>g(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"From Date"}),(0,l.jsx)("input",{type:"date",value:r.dateFrom||"",onChange:e=>f(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"To Date"}),(0,l.jsx)("input",{type:"date",value:r.dateTo||"",onChange:e=>v(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Min Rating"}),(0,l.jsxs)("select",{value:(null===(t=r.minRating)||void 0===t?void 0:t.toString())||"",onChange:e=>N(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Any"}),(0,l.jsx)("option",{value:"1",children:"1+ Stars"}),(0,l.jsx)("option",{value:"2",children:"2+ Stars"}),(0,l.jsx)("option",{value:"3",children:"3+ Stars"}),(0,l.jsx)("option",{value:"4",children:"4+ Stars"}),(0,l.jsx)("option",{value:"4.5",children:"4.5+ Stars"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Max Rating"}),(0,l.jsxs)("select",{value:(null===(s=r.maxRating)||void 0===s?void 0:s.toString())||"",onChange:e=>w(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"Any"}),(0,l.jsx)("option",{value:"2",children:"2 Stars"}),(0,l.jsx)("option",{value:"3",children:"3 Stars"}),(0,l.jsx)("option",{value:"4",children:"4 Stars"}),(0,l.jsx)("option",{value:"5",children:"5 Stars"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Business Type"}),(0,l.jsxs)("select",{value:r.businessType||"",onChange:e=>k(e.target.value),className:"w-full border border-border-default rounded-input px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",children:[(0,l.jsx)("option",{value:"",children:"All Types"}),(0,l.jsx)("option",{value:"Restaurant",children:"Restaurant"}),(0,l.jsx)("option",{value:"FastFood",children:"Fast Food"}),(0,l.jsx)("option",{value:"Cafe",children:"Cafe"}),(0,l.jsx)("option",{value:"Bakery",children:"Bakery"}),(0,l.jsx)("option",{value:"FoodTruck",children:"Food Truck"}),(0,l.jsx)("option",{value:"Catering",children:"Catering"}),(0,l.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,l.jsx)("div",{className:"xl:col-span-4 lg:col-span-3 md:col-span-2",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"zoneAssigned",checked:!0===r.isZoneAssigned,onChange:e=>b(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"zoneAssigned",className:"text-sm text-text-primary",children:"Zone Assigned Only"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"verified",checked:!0===r.isVerified,onChange:e=>y(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"verified",className:"text-sm text-text-primary",children:"Verified Only"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"currentlyOpen",checked:!0===r.isCurrentlyOpen,onChange:e=>j(!!e.target.checked||void 0),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-border-default rounded"}),(0,l.jsx)("label",{htmlFor:"currentlyOpen",className:"text-sm text-text-primary",children:"Currently Open Only"})]})]})})]})}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-4",children:m&&(0,l.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,l.jsxs)("button",{onClick:()=>x(n.PendingApproval),className:"px-3 py-1 rounded-full transition-colors ".concat(r.status===n.PendingApproval?"bg-yellow-200 text-yellow-800":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"),children:[m.pendingApproval," Pending"]}),(0,l.jsxs)("button",{onClick:()=>x(n.RequiresManualReview),className:"px-3 py-1 rounded-full transition-colors ".concat(r.status===n.RequiresManualReview?"bg-purple-200 text-purple-800":"bg-purple-100 text-purple-800 hover:bg-purple-200"),children:[m.requiresManualReview," Need Review"]}),(0,l.jsxs)("button",{onClick:()=>x(n.Suspended),className:"px-3 py-1 rounded-full transition-colors ".concat(r.status===n.Suspended?"bg-red-200 text-red-800":"bg-red-100 text-red-800 hover:bg-red-200"),children:[m.suspended," Suspended"]})]})}),(0,l.jsx)("button",{onClick:()=>{a({pageNumber:1,pageSize:10,sortBy:"createdAt",sortOrder:"desc"})},className:"text-sm text-primary-600 hover:text-primary-700 transition-colors",children:"Clear All Filters"})]})]})}function er(){let[e,t]=(0,o.useState)({pageNumber:1,pageSize:10,sortBy:"createdAt",sortOrder:"desc"}),[s,r]=(0,o.useState)([]),{data:a,isLoading:n}=Z(),i=e=>{if(0===s.length){alert("Please select vendors first");return}console.log("Bulk action:",e,"for vendors:",s)},m=(e,t,s,r,a)=>(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-6 ".concat(a?"cursor-pointer hover:shadow-md transition-shadow":""),onClick:a,children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:e}),(0,l.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:t})]}),(0,l.jsx)("div",{className:"h-12 w-12 ".concat(r," rounded-lg flex items-center justify-center"),children:(0,l.jsx)("span",{className:"text-lg",children:s})})]})});return(0,l.jsxs)("div",{className:"space-y-6 p-6 bg-surface-primary min-h-screen",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary tracking-tight",children:"Vendor Management"}),(0,l.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:"Manage vendor applications, approvals, and operations"}),a&&!n&&(0,l.jsxs)("div",{className:"flex items-center space-x-6 mt-4",children:[(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-text-primary",children:a.totalVendors.toLocaleString()}),(0,l.jsx)("span",{className:"text-text-tertiary ml-1",children:"Total"})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-success-600",children:a.approved.toLocaleString()}),(0,l.jsx)("span",{className:"text-text-tertiary ml-1",children:"Approved"})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-warning-600",children:a.pendingApproval.toLocaleString()}),(0,l.jsx)("span",{className:"text-text-tertiary ml-1",children:"Pending"})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-primary-600",children:a.activeVendors.toLocaleString()}),(0,l.jsx)("span",{className:"text-text-tertiary ml-1",children:"Active"})]}),(0,l.jsxs)("div",{className:"text-sm",children:[(0,l.jsx)("span",{className:"font-medium text-blue-600",children:a.zoneAssignedVendors.toLocaleString()}),(0,l.jsx)("span",{className:"text-text-tertiary ml-1",children:"Zone Assigned"})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-2 lg:gap-3 flex-shrink-0",children:[s.length>0&&(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("button",{onClick:()=>i("approve"),className:"px-3 py-2 bg-success-500 text-white rounded-button hover:bg-success-600 focus:ring-2 focus:ring-success-500 focus:ring-offset-2 transition-colors text-sm font-medium",children:["Bulk Approve (",s.length,")"]}),(0,l.jsx)("button",{onClick:()=>i("reject"),className:"px-3 py-2 bg-danger-500 text-white rounded-button hover:bg-danger-600 focus:ring-2 focus:ring-danger-500 focus:ring-offset-2 transition-colors text-sm font-medium",children:"Bulk Reject"})]}),(0,l.jsxs)("button",{disabled:!0,className:"w-full xs:w-auto px-4 py-2.5 bg-blue-500 text-white rounded-button hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium disabled:opacity-50","aria-label":"Export vendors",children:[(0,l.jsx)(c,{className:"h-4 w-4 inline mr-2"}),(0,l.jsx)("span",{className:"sm:hidden",children:"Export"})]}),(0,l.jsxs)("button",{className:"w-full xs:w-auto px-4 py-2.5 bg-primary-500 text-white rounded-button hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-soft hover:shadow-soft-md transition-all duration-200 text-sm font-medium","aria-label":"Add new vendor",children:[(0,l.jsx)(d.Z,{className:"h-4 w-4 inline mr-2"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Add Vendor"}),(0,l.jsx)("span",{className:"sm:hidden",children:"Add"})]})]})]}),a&&!n&&(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[m("Total Revenue","".concat(a.totalRevenue.toLocaleString()),"\uD83D\uDCB0","bg-green-100 text-green-600",()=>t({...e,sortBy:"totalRevenue",sortOrder:"desc"})),m("Average Rating",a.averageRating.toFixed(1),"⭐","bg-yellow-100 text-yellow-600",()=>t({...e,sortBy:"rating",sortOrder:"desc"})),m("Verified Vendors",a.verifiedVendors.toLocaleString(),"✅","bg-blue-100 text-blue-600",()=>t({...e,isVerified:!0})),m("Suspended",a.suspended.toLocaleString(),"⏸️","bg-red-100 text-red-600",()=>t({...e,status:"Suspended"})),m("Manual Review",a.requiresManualReview.toLocaleString(),"\uD83D\uDC41️","bg-purple-100 text-purple-600",()=>t({...e,status:"RequiresManualReview"})),m("New This Week",a.newVendorsThisWeek.toLocaleString(),"\uD83D\uDCC8","bg-indigo-100 text-indigo-600",()=>{let s=new Date;s.setDate(s.getDate()-7),t({...e,dateFrom:s.toISOString().split("T")[0]})})]}),a&&!n&&(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:"Avg Approval Time"}),(0,l.jsx)("p",{className:"text-xl font-bold text-text-primary",children:a.averageApprovalTime?"".concat(a.averageApprovalTime,"h"):"N/A"})]}),(0,l.jsx)("div",{className:"h-10 w-10 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-primary-600 text-sm",children:"⏱️"})})]})}),(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:"Avg Compliance"}),(0,l.jsx)("p",{className:"text-xl font-bold text-text-primary",children:a.averageComplianceScore?"".concat(a.averageComplianceScore,"%"):"N/A"})]}),(0,l.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-green-600 text-sm",children:"\uD83D\uDCCB"})})]})}),(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:"Issues Detected"}),(0,l.jsx)("p",{className:"text-xl font-bold text-text-primary",children:a.vendorsWithIssues||0})]}),(0,l.jsx)("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-red-600 text-sm",children:"⚠️"})})]})}),(0,l.jsx)("div",{className:"bg-surface-0 rounded-card shadow-soft border border-border-light p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:"Growth Rate"}),(0,l.jsx)("p",{className:"text-xl font-bold text-text-primary",children:a.totalVendors>0?"+".concat(Math.round(a.newVendorsThisMonth/a.totalVendors*100),"%"):"0%"})]}),(0,l.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-blue-600 text-sm",children:"\uD83D\uDCCA"})})]})})]}),(0,l.jsx)(es,{filters:e,onFiltersChange:t}),(0,l.jsx)(Y,{filters:e,onFiltersChange:t,selectedVendors:s,onSelectionChange:r})]})}},42190:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var r=s(57437),a=s(2265),n=s(40196),i=s(85707),l=s(47842),o=s(77165),c=s(61994),d=s(28026);let m={danger:{iconColor:"text-red-600",buttonColor:"bg-red-600 hover:bg-red-700 focus:ring-red-500",iconBg:"bg-red-100"},warning:{iconColor:"text-yellow-600",buttonColor:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",iconBg:"bg-yellow-100"},info:{iconColor:"text-blue-600",buttonColor:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",iconBg:"bg-blue-100"},success:{iconColor:"text-green-600",buttonColor:"bg-green-600 hover:bg-green-700 focus:ring-green-500",iconBg:"bg-green-100"}};function u(e){let{isOpen:t,onClose:s,onConfirm:u,title:x,message:p,confirmText:h="Confirm",cancelText:g="Cancel",variant:f="danger",isLoading:v=!1,disabled:b=!1}=e,y=m[f];return(0,r.jsx)(n.u,{appear:!0,show:t,as:a.Fragment,children:(0,r.jsxs)(i.Vq,{as:"div",className:"relative z-50",onClose:s,children:[(0,r.jsx)(n.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,r.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,r.jsx)(n.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)(i.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-card bg-surface-0 p-6 text-left align-middle shadow-xl transition-all",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:(0,c.W)("mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10",y.iconBg),children:(0,r.jsx)(l.Z,{className:(0,c.W)("h-6 w-6",y.iconColor),"aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1",children:[(0,r.jsx)(i.Vq.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-text-primary",children:x}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-text-secondary",children:p})})]}),(0,r.jsx)("button",{type:"button",className:"ml-4 rounded-md p-1 hover:bg-surface-100 transition-colors",onClick:s,children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,r.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",className:"rounded-button border border-border-default bg-surface-0 px-4 py-2 text-sm font-medium text-text-primary hover:bg-surface-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",onClick:s,disabled:v,children:g}),(0,r.jsx)("button",{type:"button",className:(0,c.W)("inline-flex items-center justify-center rounded-button px-4 py-2 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",y.buttonColor,(b||v)&&"opacity-50 cursor-not-allowed"),onClick:()=>{b||v||u()},disabled:b||v,children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{size:"sm",color:"white",className:"mr-2"}),h,"..."]}):h})]})]})})})})]})})}},81177:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(57437),a=s(61994),n=s(28026);function i(e){let{title:t="Loading...",description:s,size:i="md",className:l,showBackground:o=!0}=e;return(0,r.jsx)("div",{className:(0,a.W)("flex flex-col items-center justify-center text-center",o&&"bg-surface-0 rounded-card shadow-soft border border-border-light",{sm:"py-4",md:"py-8",lg:"py-12"}[i],l),children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)(n.Z,{size:{sm:"md",md:"lg",lg:"xl"}[i],color:"primary",className:"mx-auto mb-4"}),(0,r.jsx)("div",{className:(0,a.W)("font-medium text-text-primary mb-2",{sm:"text-sm",md:"text-base",lg:"text-lg"}[i]),children:t}),s&&(0,r.jsx)("div",{className:"text-sm text-text-secondary max-w-xs",children:s})]})})}},28026:function(e,t,s){"use strict";s.d(t,{$:function(){return n}});var r=s(57437),a=s(61994);let n=e=>{let{size:t="md",color:s="primary",className:n}=e;return(0,r.jsx)("div",{className:(0,a.W)("animate-spin rounded-full border-2 border-solid border-r-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[t],{primary:"border-primary-500",white:"border-white",gray:"border-gray-500",success:"border-success-500",danger:"border-danger-500",warning:"border-warning-500"}[s],n),role:"status","aria-label":"Loading",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})};t.Z=n},39466:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});var r=s(88013);class a extends r.R{async getAllVendors(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[s,r]=e;null!=r&&""!==r&&t.append(s,r.toString())});let s=t.toString()?"?".concat(t):"";return this.get(s)}async getVendorById(e){return this.get("/".concat(e))}async approveVendor(e,t){return this.put("/".concat(e,"/approve"),t)}async rejectVendor(e,t){return this.put("/".concat(e,"/reject"),t)}async suspendVendor(e,t){return this.put("/".concat(e,"/suspend"),t)}async activateVendor(e,t){return this.put("/".concat(e,"/activate"),t)}async updateVendorStatus(e,t){return this.put("/".concat(e,"/status"),t)}async getVendorZoneAssignments(e){return this.get("/".concat(e,"/zones"))}async getAvailableZones(){return this.get("/zones/available")}async assignVendorToZone(e,t){return this.post("/".concat(e,"/assign-zone"),t)}async removeVendorFromZone(e,t){return this.deleteRequest("/".concat(e,"/zones/").concat(t))}async sendInstruction(e,t){return this.post("/".concat(e,"/instructions"),t)}async getVendorStats(e,t){let s=new URLSearchParams;e&&s.append("dateFrom",e),t&&s.append("dateTo",t);let r="/stats".concat(s.toString()?"?".concat(s):"");return this.get(r)}async getVendorActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return this.get("/".concat(e,"/activities?limit=").concat(t))}async bulkApprove(e,t){return this.bulkAction("approve",e,{reason:t})}async bulkReject(e,t){return this.bulkAction("reject",e,{reason:t})}async bulkSuspend(e,t){return this.bulkAction("suspend",e,{reason:t})}constructor(){super("api/admin/vendors")}}},94725:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))});t.Z=a},41077:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))});t.Z=a},89399:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))});t.Z=a},47842:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});t.Z=a},60007:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))});t.Z=a},59035:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});t.Z=a},43836:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=a},61601:function(e,t,s){"use strict";var r=s(2265);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});t.Z=a}},function(e){e.O(0,[464,763,484,206,21,707,610,770,971,117,744],function(){return e(e.s=11950)}),_N_E=e.O()}]);