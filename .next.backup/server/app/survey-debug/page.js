(()=>{var e={};e.id=986,e.ids=[986],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},48836:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l}),r(51370),r(14882),r(12523);var t=r(23191),a=r(88716),o=r(37922),n=r.n(o),i=r(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(s,c);let l=["",{children:["survey-debug",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,51370)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey-debug/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,14882)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey-debug/page.tsx"],u="/survey-debug/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/survey-debug/page",pathname:"/survey-debug",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},39386:(e,s,r)=>{Promise.resolve().then(r.bind(r,16395))},47785:(e,s,r)=>{"use strict";r.d(s,{R:()=>a});var t=r(40380);class a{constructor(e){this.endpoint=e}async get(e=""){return(0,t.Nv)(()=>t.ZP.get(`${this.endpoint}${e}`))}async post(e="",s){return(0,t.Nv)(()=>t.ZP.post(`${this.endpoint}${e}`,s))}async put(e="",s){return(0,t.Nv)(()=>t.ZP.put(`${this.endpoint}${e}`,s))}async patch(e="",s){return(0,t.Nv)(()=>t.ZP.patch(`${this.endpoint}${e}`,s))}async deleteRequest(e=""){return(0,t.Nv)(()=>t.ZP.delete(`${this.endpoint}${e}`))}async getAll(e){let s=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&s.append(e,r.toString())});let r=s.toString()?`?${s}`:"";return this.get(r)}async getById(e){return this.get(`/${e}`)}async create(e){return this.post("",e)}async update(e,s){return this.put(`/${e}`,s)}async delete(e){return this.deleteRequest(`/${e}`)}async bulkAction(e,s,r){return this.post("/bulk-action",{action:e,ids:s,data:r})}}},54862:(e,s,r)=>{"use strict";r.d(s,{B:()=>a,H:()=>o});var t=r(47785);let a={1:"ShortText",2:"LongText",3:"MultipleChoice",4:"MultipleSelect",5:"Rating",6:"YesNo",7:"Dropdown"};class o extends t.R{constructor(){super("/api/common/survey")}async getSurvey(e){try{let s=await this.get(`/${e}`);return{success:!0,data:s,message:"Survey retrieved successfully"}}catch(e){return console.error("Survey fetch error:",e),{success:!1,message:e.message||"Failed to fetch survey",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async getActiveSurveys(){try{let e=await this.get("/active");return{success:!0,data:e,message:"Active surveys retrieved successfully"}}catch(e){return console.error("Active surveys fetch error:",e),{success:!1,message:e.message||"Failed to fetch active surveys",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async submitSurveyResponse(e){try{let s=await this.post(`/${e.surveyId}/submit`,e);return{success:!0,data:s,message:"Survey response submitted successfully"}}catch(e){return console.error("Survey submission error:",e),{success:!1,message:e.message||"Failed to submit survey response",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async canSubmitSurvey(e,s){try{let r=s?`?sessionId=${encodeURIComponent(s)}`:"",t=await this.get(`/${e}/can-submit${r}`);return{success:!0,data:t,message:"Submission eligibility checked successfully"}}catch(e){return console.error("Can submit check error:",e),{success:!1,message:e.message||"Failed to check submission eligibility",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}}},15747:(e,s,r)=>{"use strict";r.d(s,{KP:()=>i,Xc:()=>c});var t=r(20108),a=r(10119);let o=new(r(54862)).H,n={all:["surveys"],survey:e=>[...n.all,"survey",e],activeSurveys:()=>[...n.all,"active"],canSubmit:(e,s)=>[...n.all,"can-submit",e,s]},i=()=>(0,t.a)({queryKey:n.activeSurveys(),queryFn:()=>o.getActiveSurveys(),staleTime:12e4}),c=()=>(0,a.D)({mutationFn:e=>o.submitSurveyResponse(e),onSuccess:(e,s)=>{console.log("Survey response submitted successfully:",e)},onError:e=>{console.error("Error submitting survey response:",e)}})},16395:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(10326),a=r(17577),o=r(15747);function n(){let[e,s]=(0,a.useState)(null),{data:r,isLoading:n,error:i}=(0,o.KP)(),c=async()=>{try{let e="http://localhost:8080",r=await fetch(`${e}/api/common/survey/active`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),t=await r.json();s({status:r.status,data:t,url:`${e}/api/common/survey/active`})}catch(e){s({error:e.message,url:"http://localhost:8080/api/common/survey/active"})}},l=async e=>{try{let r="http://localhost:8080",t=await fetch(`${r}/api/common/survey/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await t.json();s({status:t.status,data:a,url:`${r}/api/common/survey/${e}`,surveyId:e})}catch(r){s({error:r.message,url:`http://localhost:8080/api/common/survey/${e}`,surveyId:e})}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Survey API Debug Tool"}),t.jsx("p",{className:"text-gray-600",children:"Test survey API endpoints and debug connection issues"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Environment Configuration"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"API Base URL:"})," ","http://localhost:8080"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Environment:"})," ","production"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"React Query - Active Surveys"}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n?"bg-yellow-100 text-yellow-800":i?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:n?"Loading...":i?"Error":"Success"})}),i&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-4",children:[t.jsx("p",{className:"text-red-800 font-medium",children:"Error:"}),t.jsx("pre",{className:"text-red-600 text-xs mt-2 overflow-auto",children:JSON.stringify(i,null,2)})]}),r&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-4",children:[t.jsx("p",{className:"text-green-800 font-medium",children:"Active Surveys Response:"}),t.jsx("pre",{className:"text-green-700 text-xs mt-2 overflow-auto max-h-64",children:JSON.stringify(r,null,2)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Direct API Test"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Test Active Surveys API"}),t.jsx("button",{onClick:()=>l("chowmate-feedback"),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Test chowmate-feedback"}),t.jsx("button",{onClick:()=>l("12345678-1234-5678-9012-123456789012"),className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",children:"Test GUID Survey"})]}),e&&(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:[t.jsx("p",{className:"font-medium mb-2",children:"API Test Result:"}),t.jsx("pre",{className:"text-xs overflow-auto max-h-96 bg-white p-3 rounded border",children:JSON.stringify(e,null,2)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Backend Requirements Checklist"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"}),t.jsx("span",{children:"Survey seeder has been run (check database for surveys)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"}),t.jsx("span",{children:"Survey controller is registered and accessible"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"}),t.jsx("span",{children:"CORS is configured for your frontend domain"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"}),t.jsx("span",{children:"Database connection is working"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-4 h-4 rounded border-2 border-gray-300"}),t.jsx("span",{children:"Survey service dependencies are injected correctly"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("a",{href:"/survey-test",className:"block p-4 bg-yellow-100 border border-yellow-300 rounded hover:bg-yellow-200 transition-colors",children:[t.jsx("h3",{className:"font-medium text-yellow-900",children:"Survey Test Page"}),t.jsx("p",{className:"text-yellow-700 text-sm",children:"Test the complete survey experience"})]}),(0,t.jsxs)("a",{href:"/survey/chowmate-feedback",className:"block p-4 bg-blue-100 border border-blue-300 rounded hover:bg-blue-200 transition-colors",children:[t.jsx("h3",{className:"font-medium text-blue-900",children:"Mock Survey"}),t.jsx("p",{className:"text-blue-700 text-sm",children:"Try with fallback mock data"})]})]})]})]})})}},51370:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey-debug/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,449,463,169],()=>r(48836));module.exports=t})();