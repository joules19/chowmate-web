(()=>{var e={};e.id=130,e.ids=[130],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},71812:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(30183),r(14882),r(12523);var a=r(23191),s=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["survey",{children:["[surveyId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,30183)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey/[surveyId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,14882)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey/[surveyId]/page.tsx"],u="/survey/[surveyId]/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/survey/[surveyId]/page",pathname:"/survey/[surveyId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},39150:(e,t,r)=>{Promise.resolve().then(r.bind(r,22174))},13065:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(10326),s=r(41135),i=r(64755);function n({title:e="Loading...",description:t,size:r="md",className:n,showBackground:o=!0}){return a.jsx("div",{className:(0,s.W)("flex flex-col items-center justify-center text-center",o&&"bg-surface-0 rounded-card shadow-soft border border-border-light",{sm:"py-4",md:"py-8",lg:"py-12"}[r],n),children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx(i.Z,{size:{sm:"md",md:"lg",lg:"xl"}[r],color:"primary",className:"mx-auto mb-4"}),a.jsx("div",{className:(0,s.W)("font-medium text-text-primary mb-2",{sm:"text-sm",md:"text-base",lg:"text-lg"}[r]),children:e}),t&&a.jsx("div",{className:"text-sm text-text-secondary max-w-xs",children:t})]})})}},64755:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,Z:()=>n});var a=r(10326),s=r(41135);let i=({size:e="md",color:t="primary",className:r})=>a.jsx("div",{className:(0,s.W)("animate-spin rounded-full border-2 border-solid border-r-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[e],{primary:"border-primary-500",white:"border-white",gray:"border-gray-500",success:"border-success-500",danger:"border-danger-500",warning:"border-warning-500"}[t],r),role:"status","aria-label":"Loading",children:a.jsx("span",{className:"sr-only",children:"Loading..."})}),n=i},47785:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var a=r(40380);class s{constructor(e){this.endpoint=e}async get(e=""){return(0,a.Nv)(()=>a.ZP.get(`${this.endpoint}${e}`))}async post(e="",t){return(0,a.Nv)(()=>a.ZP.post(`${this.endpoint}${e}`,t))}async put(e="",t){return(0,a.Nv)(()=>a.ZP.put(`${this.endpoint}${e}`,t))}async patch(e="",t){return(0,a.Nv)(()=>a.ZP.patch(`${this.endpoint}${e}`,t))}async deleteRequest(e=""){return(0,a.Nv)(()=>a.ZP.delete(`${this.endpoint}${e}`))}async getAll(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&t.append(e,r.toString())});let r=t.toString()?`?${t}`:"";return this.get(r)}async getById(e){return this.get(`/${e}`)}async create(e){return this.post("",e)}async update(e,t){return this.put(`/${e}`,t)}async delete(e){return this.deleteRequest(`/${e}`)}async bulkAction(e,t,r){return this.post("/bulk-action",{action:e,ids:t,data:r})}}},54862:(e,t,r)=>{"use strict";r.d(t,{B:()=>s,H:()=>i});var a=r(47785);let s={1:"ShortText",2:"LongText",3:"MultipleChoice",4:"MultipleSelect",5:"Rating",6:"YesNo",7:"Dropdown"};class i extends a.R{constructor(){super("/api/common/survey")}async getSurvey(e){try{let t=await this.get(`/${e}`);return{success:!0,data:t,message:"Survey retrieved successfully"}}catch(e){return console.error("Survey fetch error:",e),{success:!1,message:e.message||"Failed to fetch survey",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async getActiveSurveys(){try{let e=await this.get("/active");return{success:!0,data:e,message:"Active surveys retrieved successfully"}}catch(e){return console.error("Active surveys fetch error:",e),{success:!1,message:e.message||"Failed to fetch active surveys",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async submitSurveyResponse(e){try{let t=await this.post(`/${e.surveyId}/submit`,e);return{success:!0,data:t,message:"Survey response submitted successfully"}}catch(e){return console.error("Survey submission error:",e),{success:!1,message:e.message||"Failed to submit survey response",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}async canSubmitSurvey(e,t){try{let r=t?`?sessionId=${encodeURIComponent(t)}`:"",a=await this.get(`/${e}/can-submit${r}`);return{success:!0,data:a,message:"Submission eligibility checked successfully"}}catch(e){return console.error("Can submit check error:",e),{success:!1,message:e.message||"Failed to check submission eligibility",errors:[e.message||"Unknown error"],statusCode:e.status||500}}}}},15747:(e,t,r)=>{"use strict";r.d(t,{KP:()=>o,Xc:()=>l});var a=r(20108),s=r(10119);let i=new(r(54862)).H,n={all:["surveys"],survey:e=>[...n.all,"survey",e],activeSurveys:()=>[...n.all,"active"],canSubmit:(e,t)=>[...n.all,"can-submit",e,t]},o=()=>(0,a.a)({queryKey:n.activeSurveys(),queryFn:()=>i.getActiveSurveys(),staleTime:12e4}),l=()=>(0,s.D)({mutationFn:e=>i.submitSurveyResponse(e),onSuccess:(e,t)=>{console.log("Survey response submitted successfully:",e)},onError:e=>{console.error("Error submitting survey response:",e)}})},22174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var a=r(10326),s=r(35047),i=r(17577),n=r(40339),o=r(74749),l=r(40295),c=r(73965);class d extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let r=(0,i.useId)(),s=(0,i.useRef)(null),n=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,i.useContext)(c._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:a,top:i,left:l}=n.current;if(t||!s.current||!e||!a)return;s.current.dataset.motionPopId=r;let c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,a.jsx)(d,{isPresent:t,childRef:s,sizeRef:n,children:i.cloneElement(e,{ref:s})})}let m=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:n,presenceAffectsLayout:c,mode:d})=>{let m=(0,o.h)(h),x=(0,i.useId)(),p=(0,i.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;s&&s()},[m,s]),f=(0,i.useMemo)(()=>({id:x,initial:t,isPresent:r,custom:n,onExitComplete:p,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),p]:[r,p]);return(0,i.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),i.useEffect(()=>{r||m.size||!s||s()},[r]),"popLayout"===d&&(e=(0,a.jsx)(u,{isPresent:r,children:e})),(0,a.jsx)(l.O.Provider,{value:f,children:e})};function h(){return new Map}var x=r(56933);let p=e=>e.key||"";function f(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var y=r(42482);let g=({children:e,custom:t,initial:r=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:c="sync",propagate:d=!1})=>{let[u,h]=(0,x.oO)(d),g=(0,i.useMemo)(()=>f(e),[e]),v=d&&!u?[]:g.map(p),b=(0,i.useRef)(!0),w=(0,i.useRef)(g),j=(0,o.h)(()=>new Map),[N,M]=(0,i.useState)(g),[E,C]=(0,i.useState)(g);(0,y.L)(()=>{b.current=!1,w.current=g;for(let e=0;e<E.length;e++){let t=p(E[e]);v.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[E,v.length,v.join("-")]);let k=[];if(g!==N){let e=[...g];for(let t=0;t<E.length;t++){let r=E[t],a=p(r);v.includes(a)||(e.splice(t,0,r),k.push(r))}"wait"===c&&k.length&&(e=k),C(f(e)),M(g);return}let{forceRender:R}=(0,i.useContext)(n.p);return(0,a.jsx)(a.Fragment,{children:E.map(e=>{let i=p(e),n=(!d||!!u)&&(g===E||v.includes(i));return(0,a.jsx)(m,{isPresent:n,initial:(!b.current||!!r)&&void 0,custom:n?void 0:t,presenceAffectsLayout:l,mode:c,onExitComplete:n?void 0:()=>{if(!j.has(i))return;j.set(i,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),C(w.current),d&&(null==h||h()),s&&s())},children:e},i)})})};var v=r(31837),b=r(54232),w=r(19018);let j=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}),N=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))});var M=r(71684),E=r(54862);function C({question:e,value:t,onChange:r,isSubmitting:s}){let n="type"in e&&"number"==typeof e.type?function(e){let t=E.B[e.type]||"ShortText";return{id:e.id,text:e.text,type:t,isRequired:e.isRequired,description:e.description||"",options:e.options||[],minRating:e.validationRules?.minRating||1,maxRating:e.validationRules?.maxRating||5,order:e.order,validationRules:e.validationRules}}(e):e,[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),u=(0,i.useRef)(null),m=()=>(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)(v.E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl sm:text-3xl font-bold text-gray-900 leading-tight",children:[n.text,n.isRequired&&a.jsx("span",{className:"text-red-500 ml-1","aria-label":"Required",children:"*"})]}),n.description&&a.jsx(v.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-gray-600 text-lg",children:n.description})]});switch(n.type){case"ShortText":default:return(0,a.jsxs)("div",{children:[m(),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:`relative transition-all duration-300 ${o?"transform scale-[1.02]":""}`,children:[a.jsx("input",{ref:u,type:"text",value:t||"",onChange:e=>r(e.target.value,e.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full px-6 py-4 text-lg border-2 border-yellow-200 rounded-xl focus:border-yellow-500 focus:outline-none transition-colors bg-yellow-50 focus:bg-white placeholder-gray-400",placeholder:"Type your answer here...",disabled:s,"aria-describedby":n.description?`${n.id}-description`:void 0}),a.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 bg-yellow-500 transition-all duration-300 ${o?"w-full":"w-0"}`})]})]});case"LongText":return(0,a.jsxs)("div",{children:[m(),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:`relative transition-all duration-300 ${o?"transform scale-[1.02]":""}`,children:[a.jsx("textarea",{ref:u,value:t||"",onChange:e=>r(e.target.value,e.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),rows:4,className:"w-full px-6 py-4 text-lg border-2 border-yellow-200 rounded-xl focus:border-yellow-500 focus:outline-none transition-colors bg-yellow-50 focus:bg-white placeholder-gray-400 resize-none",placeholder:"Share your thoughts...",disabled:s,"aria-describedby":n.description?`${n.id}-description`:void 0}),a.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 bg-yellow-500 transition-all duration-300 ${o?"w-full":"w-0"}`})]})]});case"MultipleChoice":return(0,a.jsxs)("div",{children:[m(),a.jsx("div",{className:"space-y-3",children:n.options?.map((e,i)=>a.jsxs(v.E.label,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+.1*i},className:`group relative flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${t===e?"border-yellow-500 bg-yellow-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:[a.jsx("input",{type:"radio",name:n.id,value:e,checked:t===e,onChange:e=>r(e.target.value,e.target.value),className:"sr-only",disabled:s}),a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full border-2 mr-4 transition-all ${t===e?"border-yellow-500 bg-yellow-500 shadow-sm":"border-gray-300 group-hover:border-gray-400"}`,children:t===e&&a.jsx(v.E.div,{initial:{scale:0},animate:{scale:1},className:"w-full h-full rounded-full bg-white scale-50"})}),a.jsx("span",{className:`text-lg font-medium transition-colors ${t===e?"text-yellow-900":"text-gray-700 group-hover:text-gray-900"}`,children:e}),t===e&&a.jsx(v.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute right-4 text-yellow-500",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e))})]});case"MultipleSelect":return(()=>{let e=Array.isArray(t)?t:[],i=(t,a)=>{let s;r(s=a?[...e,t]:e.filter(e=>e!==t),s.join(", "))};return(0,a.jsxs)("div",{children:[m(),a.jsx("div",{className:"space-y-3",children:n.options?.map((t,r)=>{let n=e.includes(t);return a.jsxs(v.E.label,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+.1*r},className:`group relative flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${n?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-sm"}`,children:[a.jsx("input",{type:"checkbox",value:t,checked:n,onChange:e=>i(t,e.target.checked),className:"sr-only",disabled:s}),a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded border-2 mr-4 flex items-center justify-center transition-all ${n?"border-orange-500 bg-orange-500 shadow-sm":"border-gray-300 group-hover:border-gray-400"}`,children:n&&a.jsx(v.E.svg,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),a.jsx("span",{className:`text-lg font-medium transition-colors ${n?"text-orange-900":"text-gray-700 group-hover:text-gray-900"}`,children:t})]},t)})}),e.length>0&&a.jsx(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-green-800 font-medium",children:[e.length," option",e.length>1?"s":""," selected"]})})]})})();case"Rating":return(()=>{let e=n.minRating||1,i=n.maxRating||5,o=null!==c?c:"number"==typeof t?t:0;return(0,a.jsxs)("div",{children:[m(),(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[a.jsx("div",{className:"flex space-x-2",children:Array.from({length:i-e+1},(t,n)=>{let l=e+n,c=l<=o;return a.jsx("button",{onClick:()=>r(l,l.toString()),onMouseEnter:()=>d(l),onMouseLeave:()=>d(null),className:"focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 rounded transition-all duration-150 transform hover:scale-110",disabled:s,"aria-label":`Rate ${l} out of ${i}`,children:a.jsx(v.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3+.1*n},children:c?a.jsx(N,{className:"w-12 h-12 text-yellow-400 drop-shadow-sm"}):a.jsx(M.Z,{className:"w-12 h-12 text-gray-300 hover:text-yellow-300 transition-colors"})})},l)})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[o>0&&(0,a.jsxs)(v.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-2xl font-bold text-gray-900",children:[o," out of ",i]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 w-full max-w-xs",children:[a.jsx("span",{children:"Poor"}),a.jsx("span",{children:"Excellent"})]})]})]})]})})();case"YesNo":return(0,a.jsxs)("div",{children:[m(),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:["Yes","No"].map((e,i)=>(0,a.jsxs)(v.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3+.1*i},onClick:()=>r(e,e),className:`flex-1 py-6 px-8 rounded-2xl border-2 font-semibold text-xl transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 ${t===e?"border-yellow-500 bg-yellow-500 text-white shadow-lg":"border-gray-200 bg-white text-gray-700 hover:border-gray-300 hover:shadow-md"}`,disabled:s,children:[e,t===e&&a.jsx(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-2",children:a.jsx("svg",{className:"w-6 h-6 mx-auto",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e))})]});case"Dropdown":return(0,a.jsxs)("div",{children:[m(),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:`relative transition-all duration-300 ${o?"transform scale-[1.02]":""}`,children:[(0,a.jsxs)("select",{value:t||"",onChange:e=>r(e.target.value,e.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full px-6 py-4 text-lg border-2 border-yellow-200 rounded-xl focus:border-yellow-500 focus:outline-none transition-colors bg-yellow-50 focus:bg-white appearance-none cursor-pointer",disabled:s,"aria-describedby":n.description?`${n.id}-description`:void 0,children:[a.jsx("option",{value:"",disabled:!0,children:"Choose an option..."}),n.options?.map((e,t)=>a.jsx("option",{value:e,children:e},t))]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:a.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),a.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 bg-yellow-500 transition-all duration-300 ${o?"w-full":"w-0"}`})]})]})}}function k({progress:e,currentStep:t,totalSteps:r}){return a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-yellow-100 shadow-sm",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"h-1 bg-yellow-100",children:a.jsx(v.E.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-400 shadow-sm",initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5,ease:"easeOut"}})}),a.jsx("div",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Question ",t>r?r:t," of ",r]})]}),a.jsx("div",{className:"hidden sm:block",children:(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e,"% complete"]})})]}),a.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:r},(e,r)=>{let s=r+1,i=s===t,n=s<t;return a.jsx(v.E.div,{initial:{scale:.8,opacity:.5},animate:{scale:i?1.2:1,opacity:i?1:n?.8:.3},transition:{duration:.2},className:`w-2 h-2 rounded-full ${i?"bg-yellow-500 shadow-lg":n?"bg-green-500":"bg-gray-300"}`},r)})})]})})]})})}let R=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))});var S=r(86421),P=r(46226);function A({survey:e,onStart:t}){let r=Math.ceil(.25*e.questions.length);return(0,a.jsxs)("div",{className:"text-center space-y-8",children:[a.jsx(v.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex justify-center mb-8",children:a.jsx("div",{className:"relative w-20 h-20 rounded-2xl bg-gradient-to-br from-yellow-100 to-yellow-50 flex items-center justify-center shadow-xl",children:a.jsx(P.default,{src:"/assets/images/icon/icon.png",alt:"Chowmate",width:70,height:70,className:"rounded-lg"})})}),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"space-y-4",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight max-w-4xl mx-auto",children:e.title}),a.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:e.description})]}),e.incentiveDescription&&(0,a.jsxs)(v.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center space-x-3 px-6 py-4 bg-gradient-to-r from-green-50 to-yellow-50 border border-green-200 rounded-2xl",children:[a.jsx(R,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-green-800 font-semibold text-lg",children:e.incentiveDescription})]}),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx(S.Z,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[r," minutes"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"To complete"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx("div",{className:"text-yellow-500 text-xl font-bold",children:e.questions.length})}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Questions"}),a.jsx("p",{className:"text-xs text-gray-500",children:"One at a time"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx(M.Z,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Anonymous"}),a.jsx("p",{className:"text-xs text-gray-500",children:"No sign-up required"})]})]}),a.jsx(v.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-center text-sm text-gray-500 max-w-md mx-auto space-y-2",children:a.jsx("p",{children:"\uD83D\uDD12 Your responses are confidential and will help us improve Chowmate's service."})}),a.jsx(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"pt-4",children:(0,a.jsxs)("button",{onClick:t,className:"group inline-flex items-center space-x-3 px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-600 text-white font-semibold text-lg rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",children:[a.jsx("span",{children:"Start Survey"}),a.jsx(v.E.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",initial:{x:0},animate:{x:[0,4,0]},transition:{repeat:1/0,duration:2},children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})}let I=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),q=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}),L=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M9.375 3a1.875 1.875 0 0 0 0 3.75h1.875v4.5H3.375A1.875 1.875 0 0 1 1.5 9.375v-.75c0-1.036.84-1.875 1.875-1.875h3.193A3.375 3.375 0 0 1 12 2.753a3.375 3.375 0 0 1 5.432 3.997h3.943c1.035 0 1.875.84 1.875 1.875v.75c0 1.036-.84 1.875-1.875 1.875H12.75v-4.5h1.875a1.875 1.875 0 1 0-1.875-1.875V6.75h-1.5V4.875C11.25 3.839 10.41 3 9.375 3ZM11.25 12.75H3v6.75a2.25 2.25 0 0 0 2.25 2.25h6v-9ZM12.75 12.75v9h6.75a2.25 2.25 0 0 0 2.25-2.25v-6.75h-9Z"}))}),$=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}),T=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))});var O={};function B({survey:e}){let[t,r]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"text-center space-y-8 max-w-2xl mx-auto",children:[a.jsx(v.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:10,delay:.2},className:"relative flex justify-center",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 w-24 h-24 bg-green-400 rounded-full blur-xl opacity-30 animate-pulse"}),a.jsx(I,{className:"relative w-24 h-24 text-green-500 drop-shadow-lg"}),a.jsx(v.E.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:a.jsx(q,{className:"w-8 h-8 text-yellow-400"})}),a.jsx(v.E.div,{animate:{rotate:[360,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-2",children:a.jsx(q,{className:"w-6 h-6 text-blue-400"})})]})}),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"space-y-4",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900",children:"Thank You! \uD83C\uDF89"}),a.jsx("p",{className:"text-xl text-gray-600 leading-relaxed max-w-lg mx-auto",children:"Your feedback is invaluable and will help us make Chowmate even better for everyone."})]}),e.incentiveDescription&&(0,a.jsxs)(v.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:.6},className:"bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-200 rounded-2xl p-6 space-y-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[a.jsx(L,{className:"w-8 h-8 text-green-600"}),a.jsx("h2",{className:"text-2xl font-bold text-green-800",children:"Your Reward"})]}),a.jsx("p",{className:"text-lg text-green-700 font-semibold",children:e.incentiveDescription}),a.jsx("p",{className:"text-sm text-green-600",children:"* Check your email for more information. Valid for 30 days from today!"}),a.jsx("p",{className:"text-sm text-green-600",children:"P.S: For registered users only"})]}),(0,a.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.questions.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Questions Answered"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx($,{className:"w-6 h-6 text-red-500"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Made with Love"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:"100%"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Complete"})]})]}),a.jsx(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"flex flex-col sm:flex-row gap-4 justify-center",children:(0,a.jsxs)("button",{onClick:()=>{let e=`I just completed a survey for Chowmate and got free delivery! ðŸŽ‰ Help them improve their service: ${window.location.href}`;navigator.share?navigator.share({title:"Chowmate Survey",text:e,url:window.location.href}):navigator.clipboard&&(navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3))},className:"group flex items-center justify-center space-x-3 px-6 py-4 bg-white text-gray-700 font-medium border-2 border-gray-200 rounded-2xl hover:border-gray-300 hover:shadow-md transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[a.jsx(T,{className:"w-5 h-5"}),a.jsx("span",{children:t?"Copied!":"Share Survey"})]})}),(0,a.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2},className:"text-center space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Have more feedback? Email us at",a.jsx("a",{href:"mailto:feedback@chowmate.app",className:"text-yellow-600 hover:underline ml-1",children:"support@chowmate.app"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Your responses help hundreds of food lovers get better service every day \uD83D\uDC99"})]})]})}(function e(t,r,a,s){var i,n,o,l,c,d,u,m,h,x,p,f=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),y="function"==typeof Path2D&&"function"==typeof DOMMatrix;function g(){}function v(e){var a=r.exports.Promise,s=void 0!==a?a:t.Promise;return"function"==typeof s?new s(e):(e(g,g),null)}var b=(i=function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),r=e.getContext("2d");r.fillRect(0,0,1,1);var a=e.transferToImageBitmap();try{r.createPattern(a,"no-repeat")}catch(e){return!1}return!0}(),n=new Map,{transform:function(e){if(i)return e;if(n.has(e))return n.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),n.set(e,t),t},clear:function(){n.clear()}}),w=(c=Math.floor(1e3/60),d={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(o=function(e){var t=Math.random();return d[t]=requestAnimationFrame(function r(a){u===a||u+c-1<a?(u=a,delete d[t],e()):d[t]=requestAnimationFrame(r)}),t},l=function(e){d[e]&&cancelAnimationFrame(d[e])}):(o=function(e){return setTimeout(e,c)},l=function(e){return clearTimeout(e)}),{frame:o,cancel:l}),j=(x={},function(){if(m)return m;if(!a&&f){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{m=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"function"==typeof console.warn&&console.warn("\uD83C\uDF8A Could not load worker",e),null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(r,a,s){if(h)return t(r,null),h;var i=Math.random().toString(36).slice(2);return h=v(function(a){function n(t){t.data.callback===i&&(delete x[i],e.removeEventListener("message",n),h=null,b.clear(),s(),a())}e.addEventListener("message",n),t(r,i),x[i]=n.bind(null,{data:{callback:i}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),x)x[t](),delete x[t]}}(m)}return m}),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(e,t,r){var a;return a=e&&null!=e[t]?e[t]:N[t],r?r(a):a}function E(e){return e<0?0:Math.floor(e)}function C(e){return parseInt(e,16)}function k(e){return e.map(R)}function R(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:C(t.substring(0,2)),g:C(t.substring(2,4)),b:C(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function P(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function A(e,r){var i,n=!e,o=!!M(r||{},"resize"),l=!1,c=M(r,"disableForReducedMotion",Boolean),d=f&&M(r||{},"useWorker")?j():null,u=n?S:P,m=!!e&&!!d&&!!e.__confetti_initialized,h="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function x(r){var x,p=c||M(r,"disableForReducedMotion",Boolean),f=M(r,"zIndex",Number);if(p&&h)return v(function(e){e()});n&&i?e=i.canvas:n&&!e&&((x=document.createElement("canvas")).style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=f,e=x,document.body.appendChild(e)),o&&!m&&u(e);var g={width:e.width,height:e.height};function j(){if(d){var t={getBoundingClientRect:function(){if(!n)return e.getBoundingClientRect()}};u(t),d.postMessage({resize:{width:t.width,height:t.height}});return}g.width=g.height=null}function N(){i=null,o&&(l=!1,t.removeEventListener("resize",j)),n&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,m=!1)}return(d&&!m&&d.init(e),m=!0,d&&(e.__confetti_initialized=!0),o&&!l&&(l=!0,t.addEventListener("resize",j,!1)),d)?d.fire(r,g,N):function(t,r,n){for(var o,l,c,d,m,h,x,p=M(t,"particleCount",E),f=M(t,"angle",Number),g=M(t,"spread",Number),j=M(t,"startVelocity",Number),N=M(t,"decay",Number),C=M(t,"gravity",Number),R=M(t,"drift",Number),S=M(t,"colors",k),P=M(t,"ticks",Number),A=M(t,"shapes"),I=M(t,"scalar"),q=!!M(t,"flat"),L=((o=M(t,"origin",Object)).x=M(o,"x",Number),o.y=M(o,"y",Number),o),$=p,T=[],O=e.width*L.x,B=e.height*L.y;$--;)T.push(function(e){var t=e.angle*(Math.PI/180),r=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*r-Math.random()*r),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:O,y:B,angle:f,spread:g,startVelocity:j,color:S[$%S.length],shape:A[Math.floor(Math.random()*(A.length-0))+0],ticks:P,decay:N,gravity:C,drift:R,scalar:I,flat:q}));return i?i.addFettis(T):(l=e,m=T.slice(),h=l.getContext("2d"),x=v(function(e){function t(){c=d=null,h.clearRect(0,0,r.width,r.height),b.clear(),n(),e()}c=w.frame(function e(){a&&!(r.width===s.width&&r.height===s.height)&&(r.width=l.width=s.width,r.height=l.height=s.height),r.width||r.height||(u(l),r.width=l.width,r.height=l.height),h.clearRect(0,0,r.width,r.height),(m=m.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r,a,s,i,n,o,l,c,d,u,m,h,x,p,f,g,v=t.tick++/t.totalTicks,w=t.x+t.random*t.tiltCos,j=t.y+t.random*t.tiltSin,N=t.wobbleX+t.random*t.tiltCos,M=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-v)+")",e.beginPath(),y&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill((r=t.shape.path,a=t.shape.matrix,s=t.x,i=t.y,n=.1*Math.abs(N-w),o=.1*Math.abs(M-j),l=Math.PI/10*t.wobble,c=new Path2D(r),(d=new Path2D).addPath(c,new DOMMatrix(a)),(u=new Path2D).addPath(d,new DOMMatrix([Math.cos(l)*n,Math.sin(l)*n,-Math.sin(l)*o,Math.cos(l)*o,s,i])),u));else if("bitmap"===t.shape.type){var E=Math.PI/10*t.wobble,C=.1*Math.abs(N-w),k=.1*Math.abs(M-j),R=t.shape.bitmap.width*t.scalar,S=t.shape.bitmap.height*t.scalar,P=new DOMMatrix([Math.cos(E)*C,Math.sin(E)*C,-Math.sin(E)*k,Math.cos(E)*k,t.x,t.y]);P.multiplySelf(new DOMMatrix(t.shape.matrix));var A=e.createPattern(b.transform(t.shape.bitmap),"no-repeat");A.setTransform(P),e.globalAlpha=1-v,e.fillStyle=A,e.fillRect(t.x-R/2,t.y-S/2,R,S),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(N-w)*t.ovalScalar,Math.abs(M-j)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(m=t.x,h=t.y,x=Math.abs(N-w)*t.ovalScalar,p=Math.abs(M-j)*t.ovalScalar,f=Math.PI/10*t.wobble,g=2*Math.PI,e.save(),e.translate(m,h),e.rotate(f),e.scale(x,p),e.arc(0,0,1,0,g,void 0),e.restore());else if("star"===t.shape)for(var I=Math.PI/2*3,q=4*t.scalar,L=8*t.scalar,$=t.x,T=t.y,O=5,B=Math.PI/5;O--;)$=t.x+Math.cos(I)*L,T=t.y+Math.sin(I)*L,e.lineTo($,T),I+=B,$=t.x+Math.cos(I)*q,T=t.y+Math.sin(I)*q,e.lineTo($,T),I+=B;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(j)),e.lineTo(Math.floor(N),Math.floor(M)),e.lineTo(Math.floor(w),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(h,e)})).length?c=w.frame(e):t()}),d=t}),(i={addFettis:function(e){return m=m.concat(e),x},canvas:l,promise:x,reset:function(){c&&w.cancel(c),d&&d()}}).promise)}(r,g,N)}return x.reset=function(){d&&d.reset(),i&&i.reset()},x}function I(){return p||(p=A(null,{useWorker:!0,resize:!0})),p}r.exports=function(){return I().apply(this,arguments)},r.exports.reset=function(){I().reset()},r.exports.create=A,r.exports.shapeFromPath=function(e){if(!y)throw Error("path confetti are not supported in this browser");"string"==typeof e?a=e:(a=e.path,s=e.matrix);var t=new Path2D(a),r=document.createElement("canvas").getContext("2d");if(!s){for(var a,s,i,n,o=1e3,l=1e3,c=0,d=0,u=0;u<1e3;u+=2)for(var m=0;m<1e3;m+=2)r.isPointInPath(t,u,m,"nonzero")&&(o=Math.min(o,u),l=Math.min(l,m),c=Math.max(c,u),d=Math.max(d,m));var h=Math.min(10/(i=c-o),10/(n=d-l));s=[h,0,0,h,-Math.round(i/2+o)*h,-Math.round(n/2+l)*h]}return{type:"path",path:a,matrix:s}},r.exports.shapeFromText=function(e){var t,r=1,a="#000000",s='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,s="fontFamily"in e?e.fontFamily:s,a="color"in e?e.color:a);var i=10*r,n=""+i+"px "+s,o=new OffscreenCanvas(i,i),l=o.getContext("2d");l.font=n;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),m=c.actualBoundingBoxLeft+2,h=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=n,l.fillStyle=a,l.fillText(t,m,h);var x=1/r;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[x,0,0,x,-d*x/2,-u*x/2]}}})(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),O,!1),O.exports,O.exports.create;var D=r(15747);function Z({survey:e}){let[t,r]=(0,i.useState)(-1),[s,n]=(0,i.useState)({}),[o]=(0,i.useState)(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),l=(0,i.useRef)(null),c=(0,D.Xc)(),d=[...e.questions].sort((e,t)=>e.order-t.order),u=d.length,m=-1===t,h=t>=u,x=t>=0&&t<u?d[t]:null,p=(e,t,r)=>{n(a=>({...a,[e]:{questionId:e,value:t,text:r}}))},f=()=>{if(m)return!0;if(!x)return!1;let e=s[x.id];return!(x.isRequired&&!e||x.isRequired&&e?.value===""||x.isRequired&&Array.isArray(e?.value)&&0===e.value.length)},y=()=>{h||(m?r(0):t<u-1?r(e=>e+1):N())},N=async()=>{try{let t={surveyId:e.id,sessionId:o,answers:Object.values(s).map(e=>({questionId:e.questionId,answerText:e.text||("string"==typeof e.value?e.value:""),selectedOptions:Array.isArray(e.value)?e.value:[],numericValue:"number"==typeof e.value?e.value:void 0}))},a=await c.mutateAsync(t);a.success?(console.log("Survey submitted successfully:",a.data),r(u)):(console.error("Survey submission failed:",a.message),alert("Failed to submit survey: "+a.message))}catch(e){console.error("Error submitting survey:",e),alert("An error occurred while submitting the survey. Please try again.")}},M=c.isPending;return(0,a.jsxs)("div",{ref:l,className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 overflow-auto",style:{fontFamily:"Montserrat, sans-serif"},children:[!m&&a.jsx(k,{progress:m?0:h?100:Math.round((t+1)/u*100),currentStep:Math.max(0,t+1),totalSteps:u}),a.jsx("div",{className:"flex items-center justify-center min-h-screen px-4 py-8",style:{paddingTop:m?"32px":"80px"},children:a.jsx("div",{className:"w-full max-w-2xl mx-auto",children:(0,a.jsxs)(g,{mode:"wait",children:[m&&a.jsx(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:a.jsx(A,{survey:e,onStart:()=>y()})},"welcome"),h&&a.jsx(v.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},children:a.jsx(B,{survey:e})},"complete"),x&&!h&&(0,a.jsxs)(v.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.4,ease:"easeOut"},className:"space-y-8",children:[a.jsx("div",{className:"text-center",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[t+1," of ",u]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:a.jsx("div",{className:"p-8 sm:p-12",children:a.jsx(C,{question:x,value:s[x.id]?.value,onChange:(e,t)=>p(x.id,e,t),isSubmitting:M})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>{m||(0===t?r(-1):r(e=>e-1))},className:"group flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 rounded-lg","aria-label":"Previous question",children:[a.jsx(b.Z,{className:"w-5 h-5 group-hover:-translate-y-0.5 transition-transform"}),a.jsx("span",{className:"font-medium",children:"Previous"})]}),(0,a.jsxs)("button",{onClick:y,disabled:!f()||M,className:`group flex items-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-all transform focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 ${f()&&!M?"bg-yellow-500 text-white hover:bg-yellow-600 hover:scale-105 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,"aria-label":t===u-1?"Submit survey":"Next question",children:[a.jsx("span",{children:M?"Submitting...":t===u-1?"Submit":"Next"}),!M&&(t===u-1?a.jsx(w.Z,{className:"w-5 h-5 group-hover:translate-y-0.5 transition-transform"}):a.jsx(j,{className:"w-5 h-5 group-hover:translate-x-0.5 transition-transform"})),M&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-400 space-y-1",children:[(0,a.jsxs)("p",{children:["Press ",a.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Enter"})," to continue"]}),(0,a.jsxs)("p",{children:["Press ",a.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Alt + â†‘"})," to go back"]})]})]},`question-${x.id}`)]})})})]})}var F=r(13065);function W(){let e=(0,s.useParams)(),t=(0,s.useRouter)(),r=e.surveyId,{data:i,isLoading:n,error:o}=(0,D.KP)(),l=i?.success&&i.data?i.data:[],c=l.find(e=>e.id===r)||l[0]||("chowmate-feedback"===r?{id:"chowmate-feedback",title:"What's keeping you from placing your first (or next) order on Chowmate?",description:"Take 2 minutes to answer â€¢ Get free delivery on your next order just for answering",incentiveDescription:"Get free delivery on your first order just for answering",status:"Active",allowMultipleSubmissions:!1,requireAuthentication:!1,createdAt:new Date().toISOString(),questions:[{id:"1",text:"How often do you usually order food online?",type:3,isRequired:!0,description:"",options:["Daily","A few times a week","Once in a while","Rarely"],validationRules:null,order:1},{id:"2",text:"Have you used Chowmate to order food?",type:3,isRequired:!0,description:"",options:["Yes","Not yet"],validationRules:null,order:2},{id:"3",text:"Any suggestions that would make Chowmate your go-to food app?",type:2,isRequired:!0,description:"",options:[],validationRules:null,order:3},{id:"4",text:"Enter your email to receive your free delivery reward",type:1,isRequired:!0,description:"We'll send your free delivery instructions to this email. Use the email you registered with!",options:[],validationRules:null,order:4}]}:null),d=o||!i?.success&&i?.message&&"chowmate-feedback"!==r;return(console.log("Survey ID:",r),console.log("Active Surveys Response:",i),console.log("Active Surveys:",l),console.log("Selected Survey:",c),console.log("API Error:",d),n)?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 flex items-center justify-center",children:a.jsx(F.Z,{})}):d||!c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"text-6xl",children:"\uD83D\uDE14"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Survey Not Found"}),a.jsx("p",{className:"text-gray-600",children:d instanceof Error?d.message:d||"The survey you're looking for doesn't exist."}),a.jsx("button",{onClick:()=>t.push("/"),className:"px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:"Go Home"})]})}):a.jsx(Z,{survey:c})}},30183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/survey/[surveyId]/page.tsx#default`)},19018:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},54232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))})},86421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},71684:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},41135:(e,t,r)=>{"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{W:()=>a})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,449,463,169],()=>r(71812));module.exports=a})();