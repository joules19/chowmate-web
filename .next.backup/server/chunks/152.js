exports.id=152,exports.ids=[152],exports.modules={66786:(e,s,r)=>{Promise.resolve().then(r.bind(r,84064)),Promise.resolve().then(r.bind(r,28655)),Promise.resolve().then(r.bind(r,98131)),Promise.resolve().then(r.bind(r,86575))},84064:(e,s,r)=>{"use strict";r.d(s,{default:()=>b});var t=r(10326),a=r(17577),n=r(81367),i=r(59675),l=r(36902),o=r(80165),d=r(35953),c=r(37764),u=r(35619),m=r(99598),x=r(72591),h=r(39258),p=r(96229),f=r(51276);function y({isOpen:e,onClose:s}){let[r,n]=(0,a.useState)({email:"",currentPassword:"",newPassword:"",confirmNewPassword:""}),[i,l]=(0,a.useState)({current:!1,new:!1,confirm:!1}),[o,c]=(0,a.useState)([]),[m,y]=(0,a.useState)(null),b=(0,f.b)(),g=e=>{let s=[];return e.length<8&&s.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(e)||s.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(e)||s.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(e)||s.push("Password must contain at least one number"),/(?=.*[@$!%*?&])/.test(e)||s.push("Password must contain at least one special character (@$!%*?&)"),s},v=async e=>{e.preventDefault();let t=g(r.newPassword);if(t.length>0){c(t);return}if(r.newPassword!==r.confirmNewPassword){c(["New password and confirmation do not match"]);return}c([]),b.mutate(r,{onSuccess:()=>{console.log("Password changed successfully"),y("Password changed successfully!");let e=u.e.getUser();n({email:e?.email||"",currentPassword:"",newPassword:"",confirmNewPassword:""}),setTimeout(()=>{y(null),s()},2e3)},onError:e=>{console.error("Password change failed:",e),y(null)}})},w=e=>{let{name:s,value:r}=e.target;n(e=>({...e,[s]:r})),c([]),y(null)},j=e=>{l(s=>({...s,[e]:!s[e]}))},N=()=>{let e=u.e.getUser();n({email:e?.email||"",currentPassword:"",newPassword:"",confirmNewPassword:""}),c([]),y(null),l({current:!1,new:!1,confirm:!1}),s()};return e?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-default",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(d.Z,{className:"h-6 w-6 text-primary-600"}),t.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Change Password"})]}),t.jsx("button",{onClick:N,className:"p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500",children:t.jsx(x.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,t.jsxs)("form",{onSubmit:v,className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:["Email Address ",t.jsx("span",{className:"text-danger-500",children:"*"})]}),t.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:w,required:!0,disabled:!0,className:"w-full px-3 py-2 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-100 text-text-secondary cursor-not-allowed",placeholder:"Enter your email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["Current Password ",t.jsx("span",{className:"text-danger-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:i.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:w,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Enter current password"}),t.jsx("button",{type:"button",onClick:()=>j("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:i.current?t.jsx(h.Z,{className:"h-5 w-5"}):t.jsx(p.Z,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["New Password ",t.jsx("span",{className:"text-danger-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:i.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:w,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Enter new password"}),t.jsx("button",{type:"button",onClick:()=>j("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:i.new?t.jsx(h.Z,{className:"h-5 w-5"}):t.jsx(p.Z,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["Confirm New Password ",t.jsx("span",{className:"text-danger-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{type:i.confirm?"text":"password",id:"confirmNewPassword",name:"confirmNewPassword",value:r.confirmNewPassword,onChange:w,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Confirm new password"}),t.jsx("button",{type:"button",onClick:()=>j("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:i.confirm?t.jsx(h.Z,{className:"h-5 w-5"}):t.jsx(p.Z,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"bg-surface-50 rounded-lg p-3",children:[t.jsx("p",{className:"text-sm font-medium text-text-primary mb-2",children:"Password Requirements:"}),(0,t.jsxs)("ul",{className:"text-xs text-text-secondary space-y-1",children:[t.jsx("li",{children:"• At least 8 characters long"}),t.jsx("li",{children:"• Contains uppercase and lowercase letters"}),t.jsx("li",{children:"• Contains at least one number"}),t.jsx("li",{children:"• Contains at least one special character (@$!%*?&)"})]})]}),o.length>0&&t.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-800 rounded-lg p-3",children:t.jsx("ul",{className:"text-sm space-y-1",children:o.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})}),m&&t.jsx("div",{className:"bg-success-50 border border-success-200 text-success-800 rounded-lg p-3",children:t.jsx("p",{className:"text-sm font-medium",children:m})}),b.isError&&!m&&t.jsx("div",{className:"bg-danger-50 border border-danger-200 text-danger-800 rounded-lg p-3",children:t.jsx("p",{className:"text-sm font-medium",children:"Failed to change password. Please check your current password and try again."})}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-border-default",children:[t.jsx("button",{type:"button",onClick:N,disabled:b.isPending,className:"px-4 py-2 border border-border-default rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500 text-text-secondary",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:b.isPending,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:b.isPending?"Changing...":"Change Password"})]})]})]})}):null}function b(){let[e,s]=(0,a.useState)(!1),[r,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),g=(0,m.PY)();return(0,t.jsxs)("header",{className:"bg-surface-0 border-b border-border-default px-4 sm:px-6 py-3 sm:py-4",role:"banner",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"hidden md:flex items-center space-x-4 flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative w-full",children:[t.jsx(n.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary","aria-hidden":"true"}),t.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-full border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary text-sm","aria-label":"Search admin dashboard"})]})}),t.jsx("div",{className:"md:hidden lg:ml-16"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500","aria-label":"Search",children:t.jsx(n.Z,{className:"h-5 w-5 text-text-tertiary"})}),(0,t.jsxs)("button",{className:"p-2 rounded-lg hover:bg-surface-100 transition-colors relative focus:ring-2 focus:ring-primary-500","aria-label":"View notifications",children:[t.jsx(i.Z,{className:"h-5 w-5 text-text-tertiary"}),t.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-danger-500 rounded-full",role:"status","aria-label":"New notifications available"})]}),(0,t.jsxs)("button",{onClick:()=>x(!0),disabled:g.isPending,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 bg-danger-500 hover:bg-danger-600 disabled:bg-danger-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-danger-500 focus:ring-offset-2","aria-label":"Close all vendor shops",children:[t.jsx(l.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:g.isPending?"Closing...":"Close All Shops"}),t.jsx("span",{className:"text-xs font-medium sm:hidden",children:g.isPending?"Closing...":"Close All"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("button",{onClick:()=>s(!e),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500","aria-label":"User menu","aria-expanded":e,"aria-haspopup":"true",children:t.jsx(o.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-text-tertiary"})}),e&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-surface-0 rounded-card shadow-soft-lg border border-border-default py-1 z-50",role:"menu","aria-label":"User menu options",children:[(0,t.jsxs)("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[t.jsx(o.Z,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{children:"Profile"})]}),(0,t.jsxs)("button",{onClick:()=>{p(!0),s(!1)},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[t.jsx(d.Z,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{children:"Change Password"})]}),(0,t.jsxs)("button",{onClick:()=>{u.e.logout(),window.location.href="/login"},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[t.jsx(c.Z,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{children:"Logout"})]})]})]})]})]}),f&&t.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 z-50",children:t.jsx("div",{className:"bg-success-50 border border-success-200 text-success-800 px-4 py-2 rounded-lg shadow-lg",children:t.jsx("p",{className:"text-sm font-medium",children:f})})}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-lg max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(l.Z,{className:"h-6 w-6 text-danger-500"}),t.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Close All Vendor Shops"})]}),t.jsx("p",{className:"text-text-secondary mb-6",children:"This will immediately close all vendor shops and set their status to closed. This action cannot be undone. Are you sure you want to continue?"}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>x(!1),disabled:g.isPending,className:"flex-1 px-4 py-2 border border-border-default rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500",children:"Cancel"}),t.jsx("button",{onClick:()=>{g.mutate(void 0,{onSuccess:e=>{x(!1);let s=e?.data?.closedCount||0;0===s?b("No vendor stores were open"):b(`Successfully closed ${s} vendor store${s>1?"s":""}`),setTimeout(()=>b(null),5e3)}})},disabled:g.isPending,className:"flex-1 px-4 py-2 bg-danger-500 hover:bg-danger-600 disabled:bg-danger-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-danger-500",children:g.isPending?"Closing...":"Close All Shops"})]}),g.isError&&t.jsx("p",{className:"mt-3 text-sm text-danger-600",children:"Failed to close shops. Please try again."})]})}),t.jsx(y,{isOpen:h,onClose:()=>p(!1)})]})}},28655:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var t=r(10326),a=r(17577),n=r(35047);function i({children:e}){let[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1);return((0,n.useRouter)(),s)?t.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-500 mx-auto mb-4"})})}):i?t.jsx(t.Fragment,{children:e}):null}r(35619)},98131:(e,s,r)=>{"use strict";r.d(s,{default:()=>P});var t=r(10326),a=r(17577),n=r(90434),i=r(35047),l=r(16041),o=r(73088),d=r(58927),c=r(53421),u=r(90216),m=r(55580),x=r(50108),h=r(92446),p=r(75231),f=r(40594),y=r(73889),b=r(68230),g=r(16786),v=r(57869);r(35619);var w=r(46226),j=r(99245);let N=[{name:"Dashboard",href:"/admin/dashboard",icon:l.Z,permission:v.y3.VIEW_DASHBOARD},{name:"Users",href:"/admin/users",icon:o.Z,permission:v.y3.VIEW_USERS},{name:"Vendors",href:"/admin/vendors",icon:d.Z,permission:v.y3.VIEW_VENDORS},{name:"Riders",href:"/admin/riders",icon:b.Z,permission:v.y3.VIEW_RIDERS},{name:"Orders",href:"/admin/orders",icon:c.Z,permission:v.y3.VIEW_ORDERS},{name:"Payments",href:"/admin/payments",icon:u.Z,permission:v.y3.VIEW_PAYMENTS},{name:"Advertisements",href:"/admin/advertisements",icon:m.Z,permission:v.y3.VIEW_ADVERTISEMENTS},{name:"Product Promotions",href:"/admin/promotions",icon:x.Z,permission:v.y3.VIEW_PROMOTIONS},{name:"Feature Requests",href:"/admin/feature-requests",icon:h.Z,permission:v.y3.VIEW_FEATURE_REQUESTS},{name:"Settings",href:"/admin/settings",icon:p.Z,permission:v.y3.VIEW_SETTINGS}];function P(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)(null),c=(0,i.usePathname)(),u=()=>{l(!r)},m=N.filter(e=>g.$.hasPermission(e.permission));return(0,t.jsxs)(t.Fragment,{children:[t.jsx("button",{onClick:u,className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-surface-0 border border-border-default shadow-soft","aria-label":r?"Close navigation menu":"Open navigation menu","aria-expanded":r,children:r?t.jsx(f.Z,{className:"h-6 w-6 text-text-secondary"}):t.jsx(y.Z,{className:"h-6 w-6 text-text-secondary"})}),r&&t.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:u,"aria-hidden":"true"}),t.jsx("aside",{className:`
          bg-sidebar-bg border-r border-sidebar-border 
          transition-all duration-300 z-50
          ${e?"w-16":"w-64"}
          lg:static lg:translate-x-0
          ${r?"fixed inset-y-0 left-0 translate-x-0":"fixed inset-y-0 left-0 -translate-x-full lg:translate-x-0"}
        `,role:"navigation","aria-label":"Main navigation",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[!e&&t.jsx("div",{className:"flex items-center",children:t.jsx(n.default,{href:"/admin/dashboard",children:t.jsx(w.default,{src:j.Z,alt:"Chowmate Admin",width:150,height:150,priority:!0,className:"cursor-pointer"})})}),t.jsx("button",{onClick:()=>{s(!e)},className:"hidden lg:block p-2 rounded-lg hover:bg-sidebar-hover transition-colors focus:ring-2 focus:ring-primary-500","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?t.jsx(y.Z,{className:"h-5 w-5 text-text-tertiary"}):t.jsx(f.Z,{className:"h-5 w-5 text-text-tertiary"})}),t.jsx("button",{onClick:u,className:"lg:hidden p-2 rounded-lg hover:bg-sidebar-hover transition-colors","aria-label":"Close mobile menu",children:t.jsx(f.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),t.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",role:"menu","aria-label":"Admin navigation",children:m.map(s=>{let r=c.startsWith(s.href),a=s.icon;return(0,t.jsxs)(n.default,{href:s.href,onClick:()=>l(!1),className:`
                    flex items-center px-3 py-2.5 rounded-lg transition-all duration-200
                    focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
                    ${e?"justify-center":"space-x-3"}
                    ${r?"bg-primary-50 text-primary-700 font-medium":"text-text-secondary hover:bg-sidebar-hover hover:text-text-primary"}
                  `,role:"menuitem","aria-current":r?"page":void 0,children:[t.jsx(a,{className:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),!e&&t.jsx("span",{className:"font-medium truncate",children:s.name}),e&&t.jsx("span",{className:"sr-only",children:s.name})]},s.name)})}),t.jsx("div",{className:"p-4 border-t border-sidebar-border",children:(0,t.jsxs)("div",{className:`flex items-center ${e?"justify-center":"space-x-3"}`,children:[t.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center flex-shrink-0",role:"img","aria-label":"Admin user avatar",children:t.jsx("span",{className:"text-text-inverse text-sm font-medium",children:o?.firstName?.charAt(0)?.toUpperCase()||"A"})}),!e&&(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:o?.firstName&&o?.lastName?`${o.firstName} ${o.lastName}`:"Admin User"}),t.jsx("p",{className:"text-xs text-text-tertiary truncate",children:o?.email||"admin@chowmate.app"})]})]})})]})})]})}},86575:(e,s,r)=>{"use strict";r.d(s,{default:()=>i});var t=r(10326),a=r(17577),n=r(35047);function i(){let[e,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(0);return((0,n.usePathname)(),e)?(0,t.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-[100] h-1",children:[t.jsx("div",{className:"h-full bg-gradient-to-r from-primary-300 to-primary-400 transition-all duration-300 ease-out",style:{width:`${r}%`,boxShadow:r>0?"0 0 6px rgba(255, 193, 7, 0.2)":"none"}}),t.jsx("div",{className:"absolute top-0 right-0 w-20 h-full bg-gradient-to-l from-primary-400/10 to-transparent"})]}):null}},47785:(e,s,r)=>{"use strict";r.d(s,{R:()=>a});var t=r(40380);class a{constructor(e){this.endpoint=e}async get(e=""){return(0,t.Nv)(()=>t.ZP.get(`${this.endpoint}${e}`))}async post(e="",s){return(0,t.Nv)(()=>t.ZP.post(`${this.endpoint}${e}`,s))}async put(e="",s){return(0,t.Nv)(()=>t.ZP.put(`${this.endpoint}${e}`,s))}async patch(e="",s){return(0,t.Nv)(()=>t.ZP.patch(`${this.endpoint}${e}`,s))}async deleteRequest(e=""){return(0,t.Nv)(()=>t.ZP.delete(`${this.endpoint}${e}`))}async getAll(e){let s=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&s.append(e,r.toString())});let r=s.toString()?`?${s}`:"";return this.get(r)}async getById(e){return this.get(`/${e}`)}async create(e){return this.post("",e)}async update(e,s){return this.put(`/${e}`,s)}async delete(e){return this.deleteRequest(`/${e}`)}async bulkAction(e,s,r){return this.post("/bulk-action",{action:e,ids:s,data:r})}}},28951:(e,s,r)=>{"use strict";r.d(s,{y:()=>a});var t=r(47785);class a extends t.R{constructor(){super("api/admin/vendors")}async getAllVendors(e){let s=new URLSearchParams;e&&Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&s.append(e,r.toString())});let r=s.toString()?`?${s}`:"";return this.get(r)}async getVendorById(e){return this.get(`/${e}`)}async approveVendor(e,s){return this.put(`/${e}/approve`,s)}async rejectVendor(e,s){return this.put(`/${e}/reject`,s)}async suspendVendor(e,s){return this.put(`/${e}/suspend`,s)}async activateVendor(e,s){return this.put(`/${e}/activate`,s)}async updateVendorStatus(e,s){return this.put(`/${e}/status`,s)}async getVendorZoneAssignments(e){return this.get(`/${e}/zones`)}async getAvailableZones(){return this.get("/zones/available")}async assignVendorToZone(e,s){return this.post(`/${e}/assign-zone`,s)}async removeVendorFromZone(e,s){return this.deleteRequest(`/${e}/zones/${s}`)}async sendInstruction(e,s){return this.post(`/${e}/instructions`,s)}async sendBackToPending(e,s){return this.post(`/${e}/send-back-to-pending`,{message:s.trim()})}async getVendorStats(e,s){let r=new URLSearchParams;e&&r.append("dateFrom",e),s&&r.append("dateTo",s);let t=`/stats${r.toString()?`?${r}`:""}`;return this.get(t)}async getVendorActivities(e,s=20){return this.get(`/${e}/activities?limit=${s}`)}async bulkApprove(e,s){return this.bulkAction("approve",e,{reason:s})}async bulkReject(e,s){return this.bulkAction("reject",e,{reason:s})}async bulkSuspend(e,s){return this.bulkAction("suspend",e,{reason:s})}async forceCloseAllVendorStores(){return this.post("/force-close-all",{})}}},51276:(e,s,r)=>{"use strict";r.d(s,{W:()=>o,b:()=>d});var t=r(44976),a=r(10119),n=r(47785);class i extends n.R{constructor(){super("/api/account/auth")}async addAdmin(e){return this.post("/add-admin",e)}async changeAdminPassword(e){return this.post("/admin-change-password",e)}}let l=new i;function o(){let e=(0,t.NL)();return(0,a.D)({mutationFn:e=>l.addAdmin(e),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})},onError:e=>{console.error("Failed to add admin:",e)}})}function d(){return(0,a.D)({mutationFn:e=>l.changeAdminPassword(e),onError:e=>{console.error("Failed to change password:",e)}})}},99598:(e,s,r)=>{"use strict";r.d(s,{C6:()=>c,Fv:()=>g,Hq:()=>b,IL:()=>f,Kx:()=>u,MI:()=>m,OB:()=>p,PY:()=>w,Rd:()=>o,UN:()=>y,_n:()=>v,at:()=>d,cl:()=>x,tG:()=>h});var t=r(20108),a=r(44976),n=r(10119);let i=new(r(28951)).y,l={all:["vendors"],lists:()=>[...l.all,"list"],list:e=>[...l.lists(),e],details:()=>[...l.all,"detail"],detail:e=>[...l.details(),e],zones:e=>[...l.detail(e),"zones"],stats:(e,s)=>[...l.all,"stats",e,s],activities:(e,s)=>[...l.detail(e),"activities",s]};function o(e){return(0,t.a)({queryKey:l.list(e),queryFn:()=>i.getAllVendors(e),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function d(e){return(0,t.a)({queryKey:l.detail(e),queryFn:()=>i.getVendorById(e),staleTime:3e5,enabled:!!e,retry:2})}function c(e){return(0,t.a)({queryKey:l.zones(e),queryFn:()=>i.getVendorZoneAssignments(e),staleTime:3e5,enabled:!!e,retry:2})}function u(){return(0,t.a)({queryKey:["availableZones"],queryFn:()=>i.getAvailableZones(),staleTime:6e5,refetchInterval:9e5,retry:2})}function m(e,s){return(0,t.a)({queryKey:l.stats(e,s),queryFn:()=>i.getVendorStats(e,s),staleTime:6e5,refetchInterval:9e5,retry:2})}function x(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.approveVendor(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.stats()})}})}function h(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.rejectVendor(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.stats()})}})}function p(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.suspendVendor(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.stats()})}})}function f(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.activateVendor(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.stats()})}})}function y(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.assignVendorToZone(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.zones(r.vendorId)})}})}function b(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,zoneId:s})=>i.removeVendorFromZone(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.zones(r.vendorId)})}})}function g(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,request:s})=>i.sendInstruction(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.activities(r.vendorId)})}})}function v(){let e=(0,a.NL)();return(0,n.D)({mutationFn:({vendorId:e,message:s})=>i.sendBackToPending(e,s),onSuccess:(s,r)=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.detail(r.vendorId)}),e.invalidateQueries({queryKey:l.stats()}),e.invalidateQueries({queryKey:l.activities(r.vendorId)})}})}function w(){let e=(0,a.NL)();return(0,n.D)({mutationFn:()=>i.forceCloseAllVendorStores(),onSuccess:()=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.stats()})}})}},24609:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(19510),a=r(68570);let n=(0,a.createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/components/admin/layout/AdminSidebar.tsx#default`),i=(0,a.createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/components/admin/layout/AdminHeader.tsx#default`),l=(0,a.createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/components/admin/layout/AdminProtectedRoute.tsx#default`),o=(0,a.createProxy)(String.raw`/Users/ayodelebabafemi/Projects/Chowmate-Web-App/src/app/components/admin/shared/NavigationProgress.tsx#default`);function d({children:e}){return(0,t.jsxs)(l,{children:[t.jsx(o,{}),t.jsx("div",{className:"min-h-screen bg-background-primary",children:(0,t.jsxs)("div",{className:"flex h-screen",children:[t.jsx(n,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx(i,{}),t.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-background-primary",role:"main","aria-label":"Admin dashboard main content",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})})]})}}};