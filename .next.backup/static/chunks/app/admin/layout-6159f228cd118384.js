(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{28945:function(e,t,r){Promise.resolve().then(r.bind(r,57520)),Promise.resolve().then(r.bind(r,28990)),Promise.resolve().then(r.bind(r,41387)),Promise.resolve().then(r.bind(r,36304))},57520:function(e,t,r){"use strict";r.d(t,{default:function(){return y}});var s=r(57437),n=r(2265),a=r(41556),i=r(23121),o=r(20301),l=r(69729),c=r(4670),d=r(80424),u=r(24294),m=r(98438),h=r(77165),x=r(96502),f=r(42548),p=r(40873);function g(e){let{isOpen:t,onClose:r}=e,[a,i]=(0,n.useState)({email:"",currentPassword:"",newPassword:"",confirmNewPassword:""});(0,n.useEffect)(()=>{let e=u.e.getUser();(null==e?void 0:e.email)&&i(t=>({...t,email:e.email}))},[t]);let[o,l]=(0,n.useState)({current:!1,new:!1,confirm:!1}),[d,m]=(0,n.useState)([]),[g,y]=(0,n.useState)(null),b=(0,p.b)(),v=e=>{let t=[];return e.length<8&&t.push("Password must be at least 8 characters long"),/(?=.*[a-z])/.test(e)||t.push("Password must contain at least one lowercase letter"),/(?=.*[A-Z])/.test(e)||t.push("Password must contain at least one uppercase letter"),/(?=.*\d)/.test(e)||t.push("Password must contain at least one number"),/(?=.*[@$!%*?&])/.test(e)||t.push("Password must contain at least one special character (@$!%*?&)"),t},w=async e=>{e.preventDefault();let t=v(a.newPassword);if(t.length>0){m(t);return}if(a.newPassword!==a.confirmNewPassword){m(["New password and confirmation do not match"]);return}m([]),b.mutate(a,{onSuccess:()=>{console.log("Password changed successfully"),y("Password changed successfully!");let e=u.e.getUser();i({email:(null==e?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmNewPassword:""}),setTimeout(()=>{y(null),r()},2e3)},onError:e=>{console.error("Password change failed:",e),y(null)}})},N=e=>{let{name:t,value:r}=e.target;i(e=>({...e,[t]:r})),m([]),y(null)},j=e=>{l(t=>({...t,[e]:!t[e]}))},A=()=>{let e=u.e.getUser();i({email:(null==e?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmNewPassword:""}),m([]),y(null),l({current:!1,new:!1,confirm:!1}),r()};return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border-default",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(c.Z,{className:"h-6 w-6 text-primary-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Change Password"})]}),(0,s.jsx)("button",{onClick:A,className:"p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500",children:(0,s.jsx)(h.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,s.jsxs)("form",{onSubmit:w,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:["Email Address ",(0,s.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:N,required:!0,disabled:!0,className:"w-full px-3 py-2 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-100 text-text-secondary cursor-not-allowed",placeholder:"Enter your email address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["Current Password ",(0,s.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:o.current?"text":"password",id:"currentPassword",name:"currentPassword",value:a.currentPassword,onChange:N,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Enter current password"}),(0,s.jsx)("button",{type:"button",onClick:()=>j("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:o.current?(0,s.jsx)(x.Z,{className:"h-5 w-5"}):(0,s.jsx)(f.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["New Password ",(0,s.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:o.new?"text":"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:N,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Enter new password"}),(0,s.jsx)("button",{type:"button",onClick:()=>j("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:o.new?(0,s.jsx)(x.Z,{className:"h-5 w-5"}):(0,s.jsx)(f.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium text-text-primary mb-2",children:["Confirm New Password ",(0,s.jsx)("span",{className:"text-danger-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:o.confirm?"text":"password",id:"confirmNewPassword",name:"confirmNewPassword",value:a.confirmNewPassword,onChange:N,required:!0,className:"w-full px-3 py-2 pr-10 border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary",placeholder:"Confirm new password"}),(0,s.jsx)("button",{type:"button",onClick:()=>j("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary",children:o.confirm?(0,s.jsx)(x.Z,{className:"h-5 w-5"}):(0,s.jsx)(f.Z,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{className:"bg-surface-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-text-primary mb-2",children:"Password Requirements:"}),(0,s.jsxs)("ul",{className:"text-xs text-text-secondary space-y-1",children:[(0,s.jsx)("li",{children:"• At least 8 characters long"}),(0,s.jsx)("li",{children:"• Contains uppercase and lowercase letters"}),(0,s.jsx)("li",{children:"• Contains at least one number"}),(0,s.jsx)("li",{children:"• Contains at least one special character (@$!%*?&)"})]})]}),d.length>0&&(0,s.jsx)("div",{className:"bg-danger-50 border border-danger-200 text-danger-800 rounded-lg p-3",children:(0,s.jsx)("ul",{className:"text-sm space-y-1",children:d.map((e,t)=>(0,s.jsxs)("li",{children:["• ",e]},t))})}),g&&(0,s.jsx)("div",{className:"bg-success-50 border border-success-200 text-success-800 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:g})}),b.isError&&!g&&(0,s.jsx)("div",{className:"bg-danger-50 border border-danger-200 text-danger-800 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:"Failed to change password. Please check your current password and try again."})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-border-default",children:[(0,s.jsx)("button",{type:"button",onClick:A,disabled:b.isPending,className:"px-4 py-2 border border-border-default rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500 text-text-secondary",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:b.isPending,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed",children:b.isPending?"Changing...":"Change Password"})]})]})]})}):null}function y(){let[e,t]=(0,n.useState)(!1),[r,h]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),[p,y]=(0,n.useState)(null),b=(0,m.PY)();return(0,s.jsxs)("header",{className:"bg-surface-0 border-b border-border-default px-4 sm:px-6 py-3 sm:py-4",role:"banner",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-4 flex-1 max-w-md",children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)(a.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary","aria-hidden":"true"}),(0,s.jsx)("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 w-full border border-border-default rounded-input focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-surface-50 text-text-primary text-sm","aria-label":"Search admin dashboard"})]})}),(0,s.jsx)("div",{className:"md:hidden lg:ml-16"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,s.jsx)("button",{className:"md:hidden p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500","aria-label":"Search",children:(0,s.jsx)(a.Z,{className:"h-5 w-5 text-text-tertiary"})}),(0,s.jsxs)("button",{className:"p-2 rounded-lg hover:bg-surface-100 transition-colors relative focus:ring-2 focus:ring-primary-500","aria-label":"View notifications",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-text-tertiary"}),(0,s.jsx)("span",{className:"absolute top-1 right-1 h-2 w-2 bg-danger-500 rounded-full",role:"status","aria-label":"New notifications available"})]}),(0,s.jsxs)("button",{onClick:()=>h(!0),disabled:b.isPending,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 bg-danger-500 hover:bg-danger-600 disabled:bg-danger-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-danger-500 focus:ring-offset-2","aria-label":"Close all vendor shops",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:b.isPending?"Closing...":"Close All Shops"}),(0,s.jsx)("span",{className:"text-xs font-medium sm:hidden",children:b.isPending?"Closing...":"Close All"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>t(!e),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500","aria-label":"User menu","aria-expanded":e,"aria-haspopup":"true",children:(0,s.jsx)(l.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-text-tertiary"})}),e&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-surface-0 rounded-card shadow-soft-lg border border-border-default py-1 z-50",role:"menu","aria-label":"User menu options",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,s.jsx)("span",{children:"Profile"})]}),(0,s.jsxs)("button",{onClick:()=>{f(!0),t(!1)},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,s.jsx)("span",{children:"Change Password"})]}),(0,s.jsxs)("button",{onClick:()=>{u.e.logout(),window.location.href="/login"},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 focus:bg-surface-100",role:"menuitem",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4","aria-hidden":"true"}),(0,s.jsx)("span",{children:"Logout"})]})]})]})]})]}),p&&(0,s.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 z-50",children:(0,s.jsx)("div",{className:"bg-success-50 border border-success-200 text-success-800 px-4 py-2 rounded-lg shadow-lg",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:p})})}),r&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-surface-0 rounded-card shadow-lg max-w-md w-full p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)(o.Z,{className:"h-6 w-6 text-danger-500"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Close All Vendor Shops"})]}),(0,s.jsx)("p",{className:"text-text-secondary mb-6",children:"This will immediately close all vendor shops and set their status to closed. This action cannot be undone. Are you sure you want to continue?"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("button",{onClick:()=>h(!1),disabled:b.isPending,className:"flex-1 px-4 py-2 border border-border-default rounded-lg hover:bg-surface-100 transition-colors focus:ring-2 focus:ring-primary-500",children:"Cancel"}),(0,s.jsx)("button",{onClick:()=>{b.mutate(void 0,{onSuccess:e=>{var t;h(!1);let r=(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.closedCount)||0;0===r?y("No vendor stores were open"):y("Successfully closed ".concat(r," vendor store").concat(r>1?"s":"")),setTimeout(()=>y(null),5e3)}})},disabled:b.isPending,className:"flex-1 px-4 py-2 bg-danger-500 hover:bg-danger-600 disabled:bg-danger-300 text-white rounded-lg transition-colors focus:ring-2 focus:ring-danger-500",children:b.isPending?"Closing...":"Close All Shops"})]}),b.isError&&(0,s.jsx)("p",{className:"mt-3 text-sm text-danger-600",children:"Failed to close shops. Please try again."})]})}),(0,s.jsx)(g,{isOpen:x,onClose:()=>f(!1)})]})}},28990:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var s=r(57437),n=r(2265),a=r(99376),i=r(24294);function o(e){let{children:t}=e,[r,o]=(0,n.useState)(!0),[l,c]=(0,n.useState)(!1),d=(0,a.useRouter)();return((0,n.useEffect)(()=>{(async()=>{try{if(!await i.e.initializeAuth()){d.replace("/login?redirect=/admin/dashboard");return}if(!i.e.hasAdminAccess()){d.replace("/unauthorized");return}c(!0)}catch(e){console.error("Auth check failed:",e),d.replace("/login?redirect=/admin/dashboard")}finally{o(!1)}})()},[d]),r)?(0,s.jsx)("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-500 mx-auto mb-4"})})}):l?(0,s.jsx)(s.Fragment,{children:t}):null}},41387:function(e,t,r){"use strict";r.d(t,{default:function(){return P}});var s=r(57437),n=r(2265),a=r(27648),i=r(99376),o=r(16331),l=r(32930),c=r(94725),d=r(25893),u=r(38081),m=r(77532),h=r(65001),x=r(31847),f=r(59152),p=r(52700),g=r(73910),y=r(84874),b=r(19157),v=r(8226),w=r(24294),N=r(33145),j=r(13956);let A=[{name:"Dashboard",href:"/admin/dashboard",icon:o.Z,permission:v.y3.VIEW_DASHBOARD},{name:"Users",href:"/admin/users",icon:l.Z,permission:v.y3.VIEW_USERS},{name:"Vendors",href:"/admin/vendors",icon:c.Z,permission:v.y3.VIEW_VENDORS},{name:"Riders",href:"/admin/riders",icon:y.Z,permission:v.y3.VIEW_RIDERS},{name:"Orders",href:"/admin/orders",icon:d.Z,permission:v.y3.VIEW_ORDERS},{name:"Payments",href:"/admin/payments",icon:u.Z,permission:v.y3.VIEW_PAYMENTS},{name:"Advertisements",href:"/admin/advertisements",icon:m.Z,permission:v.y3.VIEW_ADVERTISEMENTS},{name:"Product Promotions",href:"/admin/promotions",icon:h.Z,permission:v.y3.VIEW_PROMOTIONS},{name:"Feature Requests",href:"/admin/feature-requests",icon:x.Z,permission:v.y3.VIEW_FEATURE_REQUESTS},{name:"Settings",href:"/admin/settings",icon:f.Z,permission:v.y3.VIEW_SETTINGS}];function P(){var e,t;let[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),m=(0,i.usePathname)();(0,n.useEffect)(()=>{u(w.e.getUser())},[]);let h=()=>{c(!l)},x=A.filter(e=>b.$.hasPermission(e.permission));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:h,className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-surface-0 border border-border-default shadow-soft","aria-label":l?"Close navigation menu":"Open navigation menu","aria-expanded":l,children:l?(0,s.jsx)(p.Z,{className:"h-6 w-6 text-text-secondary"}):(0,s.jsx)(g.Z,{className:"h-6 w-6 text-text-secondary"})}),l&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:h,"aria-hidden":"true"}),(0,s.jsx)("aside",{className:"\n          bg-sidebar-bg border-r border-sidebar-border \n          transition-all duration-300 z-50\n          ".concat(r?"w-16":"w-64","\n          lg:static lg:translate-x-0\n          ").concat(l?"fixed inset-y-0 left-0 translate-x-0":"fixed inset-y-0 left-0 -translate-x-full lg:translate-x-0","\n        "),role:"navigation","aria-label":"Main navigation",children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-sidebar-border",children:[!r&&(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(a.default,{href:"/admin/dashboard",children:(0,s.jsx)(N.default,{src:j.Z,alt:"Chowmate Admin",width:150,height:150,priority:!0,className:"cursor-pointer"})})}),(0,s.jsx)("button",{onClick:()=>{o(!r)},className:"hidden lg:block p-2 rounded-lg hover:bg-sidebar-hover transition-colors focus:ring-2 focus:ring-primary-500","aria-label":r?"Expand sidebar":"Collapse sidebar",children:r?(0,s.jsx)(g.Z,{className:"h-5 w-5 text-text-tertiary"}):(0,s.jsx)(p.Z,{className:"h-5 w-5 text-text-tertiary"})}),(0,s.jsx)("button",{onClick:h,className:"lg:hidden p-2 rounded-lg hover:bg-sidebar-hover transition-colors","aria-label":"Close mobile menu",children:(0,s.jsx)(p.Z,{className:"h-5 w-5 text-text-tertiary"})})]}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",role:"menu","aria-label":"Admin navigation",children:x.map(e=>{let t=m.startsWith(e.href),n=e.icon;return(0,s.jsxs)(a.default,{href:e.href,onClick:()=>c(!1),className:"\n                    flex items-center px-3 py-2.5 rounded-lg transition-all duration-200\n                    focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\n                    ".concat(r?"justify-center":"space-x-3","\n                    ").concat(t?"bg-primary-50 text-primary-700 font-medium":"text-text-secondary hover:bg-sidebar-hover hover:text-text-primary","\n                  "),role:"menuitem","aria-current":t?"page":void 0,children:[(0,s.jsx)(n,{className:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),!r&&(0,s.jsx)("span",{className:"font-medium truncate",children:e.name}),r&&(0,s.jsx)("span",{className:"sr-only",children:e.name})]},e.name)})}),(0,s.jsx)("div",{className:"p-4 border-t border-sidebar-border",children:(0,s.jsxs)("div",{className:"flex items-center ".concat(r?"justify-center":"space-x-3"),children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-primary-500 rounded-full flex items-center justify-center flex-shrink-0",role:"img","aria-label":"Admin user avatar",children:(0,s.jsx)("span",{className:"text-text-inverse text-sm font-medium",children:(null==d?void 0:null===(t=d.firstName)||void 0===t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())||"A"})}),!r&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:(null==d?void 0:d.firstName)&&(null==d?void 0:d.lastName)?"".concat(d.firstName," ").concat(d.lastName):"Admin User"}),(0,s.jsx)("p",{className:"text-xs text-text-tertiary truncate",children:(null==d?void 0:d.email)||"admin@chowmate.app"})]})]})})]})})]})}},36304:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var s=r(57437),n=r(2265),a=r(99376);function i(){let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(0),o=(0,a.usePathname)();return((0,n.useEffect)(()=>{t(!0),i(0);let e=setTimeout(()=>{i(30);let e=setTimeout(()=>{i(70);let e=setTimeout(()=>{i(100);let e=setTimeout(()=>{t(!1),i(0)},200);return()=>clearTimeout(e)},100);return()=>clearTimeout(e)},150);return()=>clearTimeout(e)},100);return()=>clearTimeout(e)},[o]),e)?(0,s.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-[100] h-1",children:[(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-primary-300 to-primary-400 transition-all duration-300 ease-out",style:{width:"".concat(r,"%"),boxShadow:r>0?"0 0 6px rgba(255, 193, 7, 0.2)":"none"}}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 h-full bg-gradient-to-l from-primary-400/10 to-transparent"})]}):null}},88013:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});var s=r(51034);class n{async get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.Nv)(()=>s.ZP.get("".concat(this.endpoint).concat(e)))}async post(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return(0,s.Nv)(()=>s.ZP.post("".concat(this.endpoint).concat(e),t))}async put(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return(0,s.Nv)(()=>s.ZP.put("".concat(this.endpoint).concat(e),t))}async patch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return(0,s.Nv)(()=>s.ZP.patch("".concat(this.endpoint).concat(e),t))}async deleteRequest(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.Nv)(()=>s.ZP.delete("".concat(this.endpoint).concat(e)))}async getAll(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[r,s]=e;null!=s&&t.append(r,s.toString())});let r=t.toString()?"?".concat(t):"";return this.get(r)}async getById(e){return this.get("/".concat(e))}async create(e){return this.post("",e)}async update(e,t){return this.put("/".concat(e),t)}async delete(e){return this.deleteRequest("/".concat(e))}async bulkAction(e,t,r){return this.post("/bulk-action",{action:e,ids:t,data:r})}constructor(e){this.endpoint=e}}},39466:function(e,t,r){"use strict";r.d(t,{y:function(){return n}});var s=r(88013);class n extends s.R{async getAllVendors(e){let t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[r,s]=e;null!=s&&""!==s&&t.append(r,s.toString())});let r=t.toString()?"?".concat(t):"";return this.get(r)}async getVendorById(e){return this.get("/".concat(e))}async approveVendor(e,t){return this.put("/".concat(e,"/approve"),t)}async rejectVendor(e,t){return this.put("/".concat(e,"/reject"),t)}async suspendVendor(e,t){return this.put("/".concat(e,"/suspend"),t)}async activateVendor(e,t){return this.put("/".concat(e,"/activate"),t)}async updateVendorStatus(e,t){return this.put("/".concat(e,"/status"),t)}async getVendorZoneAssignments(e){return this.get("/".concat(e,"/zones"))}async getAvailableZones(){return this.get("/zones/available")}async assignVendorToZone(e,t){return this.post("/".concat(e,"/assign-zone"),t)}async removeVendorFromZone(e,t){return this.deleteRequest("/".concat(e,"/zones/").concat(t))}async sendInstruction(e,t){return this.post("/".concat(e,"/instructions"),t)}async sendBackToPending(e,t){return this.post("/".concat(e,"/send-back-to-pending"),{message:t.trim()})}async getVendorStats(e,t){let r=new URLSearchParams;e&&r.append("dateFrom",e),t&&r.append("dateTo",t);let s="/stats".concat(r.toString()?"?".concat(r):"");return this.get(s)}async getVendorActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return this.get("/".concat(e,"/activities?limit=").concat(t))}async bulkApprove(e,t){return this.bulkAction("approve",e,{reason:t})}async bulkReject(e,t){return this.bulkAction("reject",e,{reason:t})}async bulkSuspend(e,t){return this.bulkAction("suspend",e,{reason:t})}async forceCloseAllVendorStores(){return this.post("/force-close-all",{})}constructor(){super("api/admin/vendors")}}},40873:function(e,t,r){"use strict";r.d(t,{W:function(){return l},b:function(){return c}});var s=r(29827),n=r(21770),a=r(88013);class i extends a.R{async addAdmin(e){return this.post("/add-admin",e)}async changeAdminPassword(e){return this.post("/admin-change-password",e)}constructor(){super("/api/account/auth")}}let o=new i;function l(){let e=(0,s.NL)();return(0,n.D)({mutationFn:e=>o.addAdmin(e),onSuccess:()=>{e.invalidateQueries({queryKey:["users"]})},onError:e=>{console.error("Failed to add admin:",e)}})}function c(){return(0,n.D)({mutationFn:e=>o.changeAdminPassword(e),onError:e=>{console.error("Failed to change password:",e)}})}},98438:function(e,t,r){"use strict";r.d(t,{C6:function(){return d},Fv:function(){return b},Hq:function(){return y},IL:function(){return p},Kx:function(){return u},MI:function(){return m},OB:function(){return f},PY:function(){return w},Rd:function(){return l},UN:function(){return g},_n:function(){return v},at:function(){return c},cl:function(){return h},tG:function(){return x}});var s=r(11713),n=r(29827),a=r(21770);let i=new(r(39466)).y,o={all:["vendors"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),e],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e],zones:e=>[...o.detail(e),"zones"],stats:(e,t)=>[...o.all,"stats",e,t],activities:(e,t)=>[...o.detail(e),"activities",t]};function l(e){return(0,s.a)({queryKey:o.list(e),queryFn:()=>i.getAllVendors(e),staleTime:12e4,refetchInterval:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function c(e){return(0,s.a)({queryKey:o.detail(e),queryFn:()=>i.getVendorById(e),staleTime:3e5,enabled:!!e,retry:2})}function d(e){return(0,s.a)({queryKey:o.zones(e),queryFn:()=>i.getVendorZoneAssignments(e),staleTime:3e5,enabled:!!e,retry:2})}function u(){return(0,s.a)({queryKey:["availableZones"],queryFn:()=>i.getAvailableZones(),staleTime:6e5,refetchInterval:9e5,retry:2})}function m(e,t){return(0,s.a)({queryKey:o.stats(e,t),queryFn:()=>i.getVendorStats(e,t),staleTime:6e5,refetchInterval:9e5,retry:2})}function h(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.approveVendor(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.stats()})}})}function x(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.rejectVendor(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.stats()})}})}function f(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.suspendVendor(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.stats()})}})}function p(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.activateVendor(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.stats()})}})}function g(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.assignVendorToZone(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.zones(r.vendorId)})}})}function y(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,zoneId:r}=e;return i.removeVendorFromZone(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.zones(r.vendorId)})}})}function b(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,request:r}=e;return i.sendInstruction(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.activities(r.vendorId)})}})}function v(){let e=(0,n.NL)();return(0,a.D)({mutationFn:e=>{let{vendorId:t,message:r}=e;return i.sendBackToPending(t,r)},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.detail(r.vendorId)}),e.invalidateQueries({queryKey:o.stats()}),e.invalidateQueries({queryKey:o.activities(r.vendorId)})}})}function w(){let e=(0,n.NL)();return(0,a.D)({mutationFn:()=>i.forceCloseAllVendorStores(),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.stats()})}})}},13956:function(e,t){"use strict";t.Z={src:"/_next/static/media/chowmate-dark-mont.54da8f5a.png",height:256,width:974,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAD1BMVEUBAAAAAAD8vwgAAADzuggdfYUOAAAABXRSTlMiLl0ZWdRUX3MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAXSURBVHicY2BiYmBgBiEmFgZGRgZGBgAA0AAUpSpZaQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2}}},function(e){e.O(0,[3464,9763,1713,7648,3145,3582,73,2971,2117,1744],function(){return e(e.s=28945)}),_N_E=e.O()}]);